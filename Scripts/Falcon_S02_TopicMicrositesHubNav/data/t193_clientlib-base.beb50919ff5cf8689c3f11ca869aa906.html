$(document).ready(function() {
    var pageInfoMeta = $('head meta[name=pageinfo]');
    //get user information
    getUserInfo(pageInfoMeta);
});

function getUserInfo(pageInfoMeta) {
    const loginComponent = $('.login').clone();
    const registrationModal = $('.registerModal');
    const welcomeHeader = $('#welcomeHeader');
    const cc = pageInfoMeta.data('cc');
    const lc = pageInfoMeta.data('lc');
    const url = pageInfoMeta.data('url');
    var webserverURL = pageInfoMeta.data('webserverurl');
    var params = "cc=" + cc + "&lc=" + lc + "&pageurl=" + url;
    var signInURL = "/hp-pps-services/auth/login?" + params;
    var registerURL = "/hp-pps-services/auth/registration?" + params;
    var signOutURL = "/hp-pps-services/auth/logout?" + params;
    var dashboardFAQURL = "/" + cc + "-" + lc + loginComponent.find("#dahboardFAQLinkMob").data('link'); 
    var dashboardURL = "/" + cc + "-" + lc + loginComponent.find("#dahboardLinkMob").data('link'); 
    loginComponent.find("#editProfileLinkMob").attr("href", loginComponent.find("#editProfileLinkMob").data('link'));
    loginComponent.find("#dahboardFAQLinkMob").attr("href", dashboardFAQURL);
    loginComponent.find("#dahboardLinkMob").attr("href", dashboardURL);
    loginComponent.find("#signInHeaderLink").attr("href", signInURL);
    loginComponent.find("#signOutLinkMob").attr("href", signOutURL);

    //Hp-Account Sign-in
	const hpAccSignUrl = window.location.protocol + "//" + window.location.host + "/" + cc + "-" + lc + "/" + "dashboard";
    var accountparams = "cc=" + cc + "&lc=" + lc + "&pageurl=" + hpAccSignUrl;	
	var signInAccountUrl = "/hp-pps-services/auth/login?" + accountparams;
	var personalAccUrl ="/hp-pps-services/auth/registration?" + accountparams;
	$('#hpidExistingAcctSignInBtn').attr("href",signInAccountUrl);
    $('#hpidCreatePersonalAcctBtn').attr("href",personalAccUrl);
    $('#hpidCreatePersonalAcctBtnBottom').attr("href",personalAccUrl);
    registrationModal.find('#btnCreatePersonalAC').on("click", function(){
        window.location.href=registerURL;
    });

    registrationModal.find('#btnCreateBusinessAC').on("click", function(){
        const link = $(this).data("link");
        window.location.href=link;
    });

    //var productsURL = "/content/products.html"
    var productsURL = "/"+cc + "-" + lc + "/contact-hp";
    $.ajax({
        type: "GET",
        url: productsURL,
        success: function(res) {
            if (res.indexOf("userProfileJson = '{") >= 1) {
                const myRegexp = /{"customerId":.*}/g;
                const match = myRegexp.exec(res);
                const parsedAuthData = safeParseJSON(match[0]);
                if (typeof parsedAuthData !== 'undefined') {
                    const welcomeMessage =  loginComponent.find('#welcomeMessageNew');
                     loginComponent.find('#userFirstName').text(parsedAuthData['firstName']);
                    loginComponent.find('.signInRegisterLink').hide();

                    if(window.location.href.indexOf("kr-ko") > -1 || window.location.href.indexOf("jp-ja") > -1){
                        loginComponent.find('#userLastName').text(parsedAuthData['lastName']);
						loginComponent.find('#nameSignature').show();
                    }                    
                    welcomeMessage.show();
                    welcomeHeader.append(loginComponent.html());
					updateGDL(parsedAuthData);
                    //show dashboard link in secondary navigation
                    const secNavDashboard = $('li a.consumer-only');
                    secNavDashboard.removeClass('hide');
                    secNavDashboard.parent('li').removeClass('hide');
                }

            }else{
               loginComponent.find('.signInRegisterLink').show();
               welcomeHeader.append(loginComponent.html());

            }
        },
        fail : function(){
        loginComponent.find('.signInRegisterLink').show();
             welcomeHeader.append(loginComponent.html());
    },
        error : function(){
        loginComponent.find('.signInRegisterLink').show();
             welcomeHeader.append(loginComponent.html());
    }
    });
}

function safeParseJSON(jsonData) {
    let parsedData;
    try {
        parsedData = JSON.parse(jsonData);
    } catch (error) {
        console.log('Error occured while parsing data in auth service', error);
    }
    return parsedData;
}

function signout(event) {
    event.preventDefault();
    var pageInfoMeta = $('head meta[name=pageinfo]');
    var cc = pageInfoMeta.data('cc');
    var lc = pageInfoMeta.data('lc');
    var params = "cc=" + cc + "&lc=" + lc + "&pageurl=" + window.location.href;
    var signOutURL = "/hp-pps-services/auth/logout?" + params;
    $.ajax({
        type: "GET",
        url: signOutURL,
        success: function() {
            console.log('User Logged out!');
        }

    });
}

function showmodel(){
    const icon = $('#welcomeMessageNew').find('.fa');
    const profileUtilityMenuMob = $('#profileUtilityMenuMob');
    if(icon.hasClass('fa-caret-down')){
		icon.removeClass('fa-caret-down');
    	icon.addClass('fa-caret-up');
        profileUtilityMenuMob.addClass('show');
        profileUtilityMenuMob.show();
	}else{
		icon.removeClass('fa-caret-up');
    	icon.addClass('fa-caret-down');
        profileUtilityMenuMob.removeClass('show');
        profileUtilityMenuMob.hide();
	}
}

function updateGDL(parsedAuthData) {
    if (typeof parsedAuthData['profileType'] !== 'undefined') {
        if (parsedAuthData['profileType'] == 'CONSUMER') {
            globalDataLayer.setValue('customerState', 'Personal');
        } else if (parsedAuthData['profileType'] == 'COMMERCIAL') {
            globalDataLayer.setValue('customerState', 'Business');
        } else {
            globalDataLayer.setValue('customerState', parsedAuthData['profileType']);
        }
    }

}

 function showRegistrationModel(event){
    const registrationModal = $('.registerModal');
    //registrationModal.closest('#signin-register-modal').addClass('modalshow');
    registrationModal.closest('#signin-register-modal').addClass('in');
    registrationModal.closest('.modal-dialog').removeClass('hide');

}
/*******************************************************************************
 * Copyright 2019 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

/**
 * Element.matches()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/matches#Polyfill
 */
if (!Element.prototype.matches) {
    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
}

// eslint-disable-next-line valid-jsdoc
/**
 * Element.closest()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/closest#Polyfill
 */
if (!Element.prototype.closest) {
    Element.prototype.closest = function(s) {
        "use strict";
        var el = this;
        if (!document.documentElement.contains(el)) {
            return null;
        }
        do {
            if (el.matches(s)) {
                return el;
            }
            el = el.parentElement || el.parentNode;
        } while (el !== null && el.nodeType === 1);
        return null;
    };
}

/*******************************************************************************
 * Copyright 2019 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "accordion";

    var keyCodes = {
        ENTER: 13,
        SPACE: 32,
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" +  NS + '-is="' + IS + '"]'
    };

    var cssClasses = {
        button: {
            disabled: "cmp-accordion__button--disabled",
            expanded: "cmp-accordion__button--expanded"
        },
        panel: {
            hidden: "cmp-accordion__panel--hidden",
            expanded: "cmp-accordion__panel--expanded"
        }
    };

    var dataAttributes = {
        item: {
            expanded: "data-cmp-expanded"
        }
    };

    var properties = {
        /**
         * Determines whether a single accordion item is forced to be expanded at a time.
         * Expanding one item will collapse all others.
         *
         * @memberof Accordion
         * @type {Boolean}
         * @default false
         */
        "singleExpansion": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        }
    };

    /**
     * Accordion Configuration.
     *
     * @typedef {Object} AccordionConfig Represents an Accordion configuration
     * @property {HTMLElement} element The HTMLElement representing the Accordion
     * @property {Object} options The Accordion options
     */

    /**
     * Accordion.
     *
     * @class Accordion
     * @classdesc An interactive Accordion component for toggling panels of related content
     * @param {AccordionConfig} config The Accordion configuration
     */
    function Accordion(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Accordion.
         *
         * @private
         * @param {AccordionConfig} config The Accordion configuration
         */
        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            setupProperties(config.options);
            cacheElements(config.element);

            if (that._elements["item"]) {
                // ensures multiple element types are arrays.
                that._elements["item"] = Array.isArray(that._elements["item"]) ? that._elements["item"] : [that._elements["item"]];
                that._elements["button"] = Array.isArray(that._elements["button"]) ? that._elements["button"] : [that._elements["button"]];
                that._elements["panel"] = Array.isArray(that._elements["panel"]) ? that._elements["panel"] : [that._elements["panel"]];

                if (that._properties.singleExpansion) {
                    var expandedItems = getExpandedItems();
                    // no expanded item annotated, force the first item to display.
                    if (expandedItems.length === 0) {
                        toggle(0);
                    }
                    // multiple expanded items annotated, display the last item open.
                    if (expandedItems.length > 1) {
                        toggle(expandedItems.length - 1);
                    }
                }

                refreshItems();
                bindEvents();

                if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                    /*
                     * Editor message handling:
                     * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                     * - check that the message data panel container type is correct and that the id (path) matches this specific Accordion component
                     * - if so, route the "navigate" operation to enact a navigation of the Accordion based on index data
                     */
                    new window.Granite.author.MessageChannel("cqauthor", window).subscribeRequestMessage("cmp.panelcontainer", function(message) {
                        if (message.data && message.data.type === "cmp-accordion" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                            if (message.data.operation === "navigate") {
                                // switch to single expansion mode when navigating in edit mode.
                                var singleExpansion = that._properties.singleExpansion;
                                that._properties.singleExpansion = true;
                                toggle(message.data.index);

                                // revert to the configured state.
                                that._properties.singleExpansion = singleExpansion;
                            }
                        }
                    });
                }
            }
        }

        /**
         * Caches the Accordion elements as defined via the {@code data-accordion-hook="ELEMENT_NAME"} markup API.
         *
         * @private
         * @param {HTMLElement} wrapper The Accordion wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own accordion elements
                    var capitalized = IS;
                    capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                    var key = hook.dataset[NS + "Hook" + capitalized];
                    if (that._elements[key]) {
                        if (!Array.isArray(that._elements[key])) {
                            var tmp = that._elements[key];
                            that._elements[key] = [tmp];
                        }
                        that._elements[key].push(hook);
                    } else {
                        that._elements[key] = hook;
                    }
                }
            }
        }

        /**
         * Sets up properties for the Accordion based on the passed options.
         *
         * @private
         * @param {Object} options The Accordion options
         */
        function setupProperties(options) {
            that._properties = {};

            for (var key in properties) {
                if (properties.hasOwnProperty(key)) {
                    var property = properties[key];
                    var value = null;

                    if (options && options[key] != null) {
                        value = options[key];

                        // transform the provided option
                        if (property && typeof property.transform === "function") {
                            value = property.transform(value);
                        }
                    }

                    if (value === null) {
                        // value still null, take the property default
                        value = properties[key]["default"];
                    }

                    that._properties[key] = value;
                }
            }
        }

        /**
         * Binds Accordion event handling.
         *
         * @private
         */
        function bindEvents() {
            var buttons = that._elements["button"];
            if (buttons) {
                for (var i = 0; i < buttons.length; i++) {
                    (function(index) {
                        buttons[i].addEventListener("click", function(event) {
                            toggle(index);
                            focusButton(index);
                        });
                        buttons[i].addEventListener("keydown", function(event) {
                            onButtonKeyDown(event, index);
                        });
                    })(i);
                }
            }
        }

        /**
         * Handles button keydown events.
         *
         * @private
         * @param {Object} event The keydown event
         * @param {Number} index The index of the button triggering the event
         */
        function onButtonKeyDown(event, index) {
            var lastIndex = that._elements["button"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        focusButton(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        focusButton(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    focusButton(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    focusButton(lastIndex);
                    break;
                case keyCodes.ENTER:
                case keyCodes.SPACE:
                    event.preventDefault();
                    toggle(index);
                    focusButton(index);
                    break;
                default:
                    return;
            }
        }

        /**
         * General handler for toggle of an item.
         *
         * @private
         * @param {Number} index The index of the item to toggle
         */
        function toggle(index) {
            var item = that._elements["item"][index];
            if (item) {
                if (that._properties.singleExpansion) {
                    // ensure only a single item is expanded if single expansion is enabled.
                    for (var i = 0; i < that._elements["item"].length; i++) {
                        if (that._elements["item"][i] !== item) {
                            var expanded = getItemExpanded(that._elements["item"][i]);
                            if (expanded) {
                                setItemExpanded(that._elements["item"][i], false);
                            }
                        }
                    }
                    setItemExpanded(item, true);
                } else {
                    setItemExpanded(item, !getItemExpanded(item));
                }
            }
        }

        /**
         * Sets an item's expanded state based on the provided flag and refreshes its internals.
         *
         * @private
         * @param {HTMLElement} item The item to mark as expanded, or not expanded
         * @param {Boolean} expanded true to mark the item expanded, false otherwise
         */
        function setItemExpanded(item, expanded) {
            if (expanded) {
                item.setAttribute(dataAttributes.item.expanded, "");
            } else {
                item.removeAttribute(dataAttributes.item.expanded);
            }
            refreshItem(item);
        }

        /**
         * Gets an item's expanded state.
         *
         * @private
         * @param {HTMLElement} item The item for checking its expanded state
         * @returns {Boolean} true if the item is expanded, false otherwise
         */
        function getItemExpanded(item) {
            return item && item.dataset && item.dataset["cmpExpanded"] !== undefined;
        }

        /**
         * Refreshes an item based on its expanded state.
         *
         * @private
         * @param {HTMLElement} item The item to refresh
         */
        function refreshItem(item) {
            var expanded = getItemExpanded(item);
            if (expanded) {
                expandItem(item);
            } else {
                collapseItem(item);
            }
        }

        /**
         * Refreshes all items based on their expanded state.
         *
         * @private
         */
        function refreshItems() {
            for (var i = 0; i < that._elements["item"].length; i++) {
                refreshItem(that._elements["item"][i]);
            }
        }

        /**
         * Returns all expanded items.
         *
         * @private
         * @returns {HTMLElement[]} The expanded items
         */
        function getExpandedItems() {
            var expandedItems = [];

            for (var i = 0; i < that._elements["item"].length; i++) {
                var item = that._elements["item"][i];
                var expanded = getItemExpanded(item);
                if (expanded) {
                    expandedItems.push(item);
                }
            }

            return expandedItems;
        }

        /**
         * Annotates the item and its internals with
         * the necessary style and accessibility attributes to indicate it is expanded.
         *
         * @private
         * @param {HTMLElement} item The item to annotate as expanded
         */
        function expandItem(item) {
            var index = that._elements["item"].indexOf(item);
            if (index > -1) {
                var button = that._elements["button"][index];
                var panel = that._elements["panel"][index];
                button.classList.add(cssClasses.button.expanded);
                button.setAttribute("aria-expanded", true);
                panel.classList.add(cssClasses.panel.expanded);
                panel.classList.remove(cssClasses.panel.hidden);
                panel.setAttribute("aria-hidden", false);

                if (that._properties.singleExpansion) {
                    button.classList.add(cssClasses.button.disabled);
                    button.setAttribute("aria-disabled", true);
                }
            }
        }

        /**
         * Annotates the item and its internals with
         * the necessary style and accessibility attributes to indicate it is not expanded.
         *
         * @private
         * @param {HTMLElement} item The item to annotate as not expanded
         */
        function collapseItem(item) {
            var index = that._elements["item"].indexOf(item);
            if (index > -1) {
                var button = that._elements["button"][index];
                var panel = that._elements["panel"][index];
                button.classList.remove(cssClasses.button.disabled);
                button.classList.remove(cssClasses.button.expanded);
                button.removeAttribute("aria-disabled");
                button.setAttribute("aria-expanded", false);
                panel.classList.add(cssClasses.panel.hidden);
                panel.classList.remove(cssClasses.panel.expanded);
                panel.setAttribute("aria-hidden", true);
            }
        }

        /**
         * Focuses the button at the provided index.
         *
         * @private
         * @param {Number} index The index of the button to focus
         */
        function focusButton(index) {
            var button = that._elements["button"][index];
            button.focus();
        }
    }

    /**
     * Reads options data from the Accordion wrapper element, defined via {@code data-cmp-*} data attributes.
     *
     * @private
     * @param {HTMLElement} element The Accordion element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Accordion components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Accordion({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Accordion({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady());
    }
}());

/*******************************************************************************
 * Copyright 2018 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

/**
 * Element.matches()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/matches#Polyfill
 */
if (!Element.prototype.matches) {
    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
}

// eslint-disable-next-line valid-jsdoc
/**
 * Element.closest()
 * https://developer.mozilla.org/enUS/docs/Web/API/Element/closest#Polyfill
 */
if (!Element.prototype.closest) {
    Element.prototype.closest = function(s) {
        "use strict";
        var el = this;
        if (!document.documentElement.contains(el)) {
            return null;
        }
        do {
            if (el.matches(s)) {
                return el;
            }
            el = el.parentElement || el.parentNode;
        } while (el !== null && el.nodeType === 1);
        return null;
    };
}

/*******************************************************************************
 * Copyright 2018 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "tabs";

    var keyCodes = {
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" +  NS + '-is="' + IS + '"]',
        active: {
            tab: "cmp-tabs__tab--active",
            tabpanel: "cmp-tabs__tabpanel--active"
        }
    };

    /**
     * Tabs Configuration
     *
     * @typedef {Object} TabsConfig Represents a Tabs configuration
     * @property {HTMLElement} element The HTMLElement representing the Tabs
     * @property {Object} options The Tabs options
     */

    /**
     * Tabs
     *
     * @class Tabs
     * @classdesc An interactive Tabs component for navigating a list of tabs
     * @param {TabsConfig} config The Tabs configuration
     */
    function Tabs(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Tabs
         *
         * @private
         * @param {TabsConfig} config The Tabs configuration
         */
        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            cacheElements(config.element);
            that._active = getActiveIndex(that._elements["tab"]);

            if (that._elements.tabpanel) {
                refreshActive();
                bindEvents();
            }

            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Tabs component
                 * - if so, route the "navigate" operation to enact a navigation of the Tabs based on index data
                 */
                new window.Granite.author.MessageChannel("cqauthor", window).subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-tabs" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            navigate(message.data.index);
                        }
                    }
                });
            }
        }

        /**
         * Returns the index of the active tab, if no tab is active returns 0
         *
         * @param {Array} tabs Tab elements
         * @returns {Number} Index of the active tab, 0 if none is active
         */
        function getActiveIndex(tabs) {
            if (tabs) {
                for (var i = 0; i < tabs.length; i++) {
                    if (tabs[i].classList.contains(selectors.active.tab)) {
                        return i;
                    }
                }
            }
            return 0;
        }

        /**
         * Caches the Tabs elements as defined via the {@code data-tabs-hook="ELEMENT_NAME"} markup API
         *
         * @private
         * @param {HTMLElement} wrapper The Tabs wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                if (hook.closest("." + NS + "-" + IS) === that._elements.self) { // only process own tab elements
                    var capitalized = IS;
                    capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                    var key = hook.dataset[NS + "Hook" + capitalized];
                    if (that._elements[key]) {
                        if (!Array.isArray(that._elements[key])) {
                            var tmp = that._elements[key];
                            that._elements[key] = [tmp];
                        }
                        that._elements[key].push(hook);
                    } else {
                        that._elements[key] = hook;
                    }
                }
            }
        }

        /**
         * Binds Tabs event handling
         *
         * @private
         */
        function bindEvents() {
            var tabs = that._elements["tab"];
            if (tabs) {
                for (var i = 0; i < tabs.length; i++) {
                    (function(index) {
                        tabs[i].addEventListener("click", function(event) {
                            navigateAndFocusTab(index);
                        });
                        tabs[i].addEventListener("keydown", function(event) {
                            onKeyDown(event);
                        });
                    })(i);
                }
            }
        }

        /**
         * Handles tab keydown events
         *
         * @private
         * @param {Object} event The keydown event
         */
        function onKeyDown(event) {
            var index = that._active;
            var lastIndex = that._elements["tab"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        navigateAndFocusTab(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        navigateAndFocusTab(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    navigateAndFocusTab(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    navigateAndFocusTab(lastIndex);
                    break;
                default:
                    return;
            }
        }

        /**
         * Refreshes the tab markup based on the current {@code Tabs#_active} index
         *
         * @private
         */
        function refreshActive() {
            var tabpanels = that._elements["tabpanel"];
            var tabs = that._elements["tab"];

            if (tabpanels) {
                if (Array.isArray(tabpanels)) {
                    for (var i = 0; i < tabpanels.length; i++) {
                        if (i === parseInt(that._active)) {
                            tabpanels[i].classList.add(selectors.active.tabpanel);
                            tabpanels[i].removeAttribute("aria-hidden");
                            tabs[i].classList.add(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", true);
                            tabs[i].setAttribute("tabindex", "0");
                        } else {
                            tabpanels[i].classList.remove(selectors.active.tabpanel);
                            tabpanels[i].setAttribute("aria-hidden", true);
                            tabs[i].classList.remove(selectors.active.tab);
                            tabs[i].setAttribute("aria-selected", false);
                            tabs[i].setAttribute("tabindex", "-1");
                        }
                    }
                } else {
                    // only one tab
                    tabpanels.classList.add(selectors.active.tabpanel);
                    tabs.classList.add(selectors.active.tab);
                }
            }
        }

        /**
         * Focuses the element and prevents scrolling the element into view
         *
         * @param {HTMLElement} element Element to focus
         */
        function focusWithoutScroll(element) {
            var x = window.scrollX || window.pageXOffset;
            var y = window.scrollY || window.pageYOffset;
            element.focus();
            window.scrollTo(x, y);
        }

        /**
         * Navigates to the tab at the provided index
         *
         * @private
         * @param {Number} index The index of the tab to navigate to
         */
        function navigate(index) {
            that._active = index;
            refreshActive();
        }

        /**
         * Navigates to the item at the provided index and ensures the active tab gains focus
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         */
        function navigateAndFocusTab(index) {
            navigate(index);
            focusWithoutScroll(that._elements["tab"][index]);
        }
    }

    /**
     * Reads options data from the Tabs wrapper element, defined via {@code data-cmp-*} data attributes
     *
     * @private
     * @param {HTMLElement} element The Tabs element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Tabs components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Tabs({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Tabs({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

}());

/*******************************************************************************
 * Copyright 2018 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "carousel";

    var keyCodes = {
        SPACE: 32,
        END: 35,
        HOME: 36,
        ARROW_LEFT: 37,
        ARROW_UP: 38,
        ARROW_RIGHT: 39,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" +  NS + '-is="' + IS + '"]'
    };

    var properties = {
        /**
         * Determines whether the Carousel will automatically transition between slides
         *
         * @memberof Carousel
         * @type {Boolean}
         * @default false
         */
        "autoplay": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * Duration (in milliseconds) before automatically transitioning to the next slide
         *
         * @memberof Carousel
         * @type {Number}
         * @default 5000
         */
        "delay": {
            "default": 5000,
            "transform": function(value) {
                value = parseFloat(value);
                return !isNaN(value) ? value : null;
            }
        },
        /**
         * Determines whether automatic pause on hovering the carousel is disabled
         *
         * @memberof Carousel
         * @type {Boolean}
         * @default false
         */
        "autopauseDisabled": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        }
    };

    /**
     * Carousel Configuration
     *
     * @typedef {Object} CarouselConfig Represents a Carousel configuration
     * @property {HTMLElement} element The HTMLElement representing the Carousel
     * @property {Object} options The Carousel options
     */

    /**
     * Carousel
     *
     * @class Carousel
     * @classdesc An interactive Carousel component for navigating a list of generic items
     * @param {CarouselConfig} config The Carousel configuration
     */
    function Carousel(config) {
        var that = this;

        if (config && config.element) {
            init(config);
        }

        /**
         * Initializes the Carousel
         *
         * @private
         * @param {CarouselConfig} config The Carousel configuration
         */
        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            setupProperties(config.options);
            cacheElements(config.element);

            that._active = 0;
            that._paused = false;

            if (that._elements.item) {
                refreshActive();
                bindEvents();
                resetAutoplayInterval();
                refreshPlayPauseActions();
            }

            if (window.Granite && window.Granite.author && window.Granite.author.MessageChannel) {
                /*
                 * Editor message handling:
                 * - subscribe to "cmp.panelcontainer" message requests sent by the editor frame
                 * - check that the message data panel container type is correct and that the id (path) matches this specific Carousel component
                 * - if so, route the "navigate" operation to enact a navigation of the Carousel based on index data
                 */
                new window.Granite.author.MessageChannel("cqauthor", window).subscribeRequestMessage("cmp.panelcontainer", function(message) {
                    if (message.data && message.data.type === "cmp-carousel" && message.data.id === that._elements.self.dataset["cmpPanelcontainerId"]) {
                        if (message.data.operation === "navigate") {
                            navigate(message.data.index);
                        }
                    }
                });
            }
        }

        /**
         * Caches the Carousel elements as defined via the {@code data-carousel-hook="ELEMENT_NAME"} markup API
         *
         * @private
         * @param {HTMLElement} wrapper The Carousel wrapper element
         */
        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                var capitalized = IS;
                capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                var key = hook.dataset[NS + "Hook" + capitalized];
                if (that._elements[key]) {
                    if (!Array.isArray(that._elements[key])) {
                        var tmp = that._elements[key];
                        that._elements[key] = [tmp];
                    }
                    that._elements[key].push(hook);
                } else {
                    that._elements[key] = hook;
                }
            }
        }

        /**
         * Sets up properties for the Carousel based on the passed options.
         *
         * @private
         * @param {Object} options The Carousel options
         */
        function setupProperties(options) {
            that._properties = {};

            for (var key in properties) {
                if (properties.hasOwnProperty(key)) {
                    var property = properties[key];
                    var value = null;

                    if (options && options[key] != null) {
                        value = options[key];

                        // transform the provided option
                        if (property && typeof property.transform === "function") {
                            value = property.transform(value);
                        }
                    }

                    if (value === null) {
                        // value still null, take the property default
                        value = properties[key]["default"];
                    }

                    that._properties[key] = value;
                }
            }
        }

        /**
         * Binds Carousel event handling
         *
         * @private
         */
        function bindEvents() {
            if (that._elements["previous"]) {
                that._elements["previous"].addEventListener("click", function() {
                    navigate(getPreviousIndex());
                });
            }

            if (that._elements["next"]) {
                that._elements["next"].addEventListener("click", function() {
                    navigate(getNextIndex());
                });
            }

            var indicators = that._elements["indicator"];
            if (indicators) {
                for (var i = 0; i < indicators.length; i++) {
                    (function(index) {
                        indicators[i].addEventListener("click", function(event) {
                            navigateAndFocusIndicator(index);
                        });
                    })(i);
                }
            }

            if (that._elements["pause"]) {
                if (that._properties.autoplay) {
                    that._elements["pause"].addEventListener("click", onPauseClick);
                }
            }

            if (that._elements["play"]) {
                if (that._properties.autoplay) {
                    that._elements["play"].addEventListener("click", onPlayClick);
                }
            }

            that._elements.self.addEventListener("keydown", onKeyDown);

            if (!that._properties.autopauseDisabled) {
                that._elements.self.addEventListener("mouseenter", onMouseEnter);
                that._elements.self.addEventListener("mouseleave", onMouseLeave);
            }
        }

        /**
         * Handles carousel keydown events
         *
         * @private
         * @param {Object} event The keydown event
         */
        function onKeyDown(event) {
            var index = that._active;
            var lastIndex = that._elements["indicator"].length - 1;

            switch (event.keyCode) {
                case keyCodes.ARROW_LEFT:
                case keyCodes.ARROW_UP:
                    event.preventDefault();
                    if (index > 0) {
                        navigateAndFocusIndicator(index - 1);
                    }
                    break;
                case keyCodes.ARROW_RIGHT:
                case keyCodes.ARROW_DOWN:
                    event.preventDefault();
                    if (index < lastIndex) {
                        navigateAndFocusIndicator(index + 1);
                    }
                    break;
                case keyCodes.HOME:
                    event.preventDefault();
                    navigateAndFocusIndicator(0);
                    break;
                case keyCodes.END:
                    event.preventDefault();
                    navigateAndFocusIndicator(lastIndex);
                    break;
                case keyCodes.SPACE:
                    if (that._properties.autoplay && (event.target !== that._elements["previous"] && event.target !== that._elements["next"])) {
                        event.preventDefault();
                        if (!that._paused) {
                            pause();
                        } else {
                            play();
                        }
                    }
                    if (event.target === that._elements["pause"]) {
                        that._elements["play"].focus();
                    }
                    if (event.target === that._elements["play"]) {
                        that._elements["pause"].focus();
                    }
                    break;
                default:
                    return;
            }
        }

        /**
         * Handles carousel mouseenter events
         *
         * @private
         * @param {Object} event The mouseenter event
         */
        function onMouseEnter(event) {
            clearAutoplayInterval();
        }

        /**
         * Handles carousel mouseleave events
         *
         * @private
         * @param {Object} event The mouseleave event
         */
        function onMouseLeave(event) {
            resetAutoplayInterval();
        }

        /**
         * Handles pause element click events
         *
         * @private
         * @param {Object} event The click event
         */
        function onPauseClick(event) {
            pause();
            that._elements["play"].focus();
        }

        /**
         * Handles play element click events
         *
         * @private
         * @param {Object} event The click event
         */
        function onPlayClick() {
            play();
            that._elements["pause"].focus();
        }

        /**
         * Pauses the playing of the Carousel. Sets {@code Carousel#_paused} marker.
         * Only relevant when autoplay is enabled
         *
         * @private
         */
        function pause() {
            that._paused = true;
            clearAutoplayInterval();
            refreshPlayPauseActions();
        }

        /**
         * Enables the playing of the Carousel. Sets {@code Carousel#_paused} marker.
         * Only relevant when autoplay is enabled
         *
         * @private
         */
        function play() {
            that._paused = false;

            // If the Carousel is hovered, don't begin auto transitioning until the next mouse leave event
            var hovered = false;
            if (that._elements.self.parentElement) {
                hovered = that._elements.self.parentElement.querySelector(":hover") === that._elements.self;
            }
            if (that._properties.autopauseDisabled || !hovered) {
                resetAutoplayInterval();
            }

            refreshPlayPauseActions();
        }

        /**
         * Refreshes the play/pause action markup based on the {@code Carousel#_paused} state
         *
         * @private
         */
        function refreshPlayPauseActions() {
            setActionDisabled(that._elements["pause"], that._paused);
            setActionDisabled(that._elements["play"], !that._paused);
        }

        /**
         * Refreshes the item markup based on the current {@code Carousel#_active} index
         *
         * @private
         */
        function refreshActive() {
            var items = that._elements["item"];
            var indicators = that._elements["indicator"];

            if (items) {
                if (Array.isArray(items)) {
                    for (var i = 0; i < items.length; i++) {
                        if (i === parseInt(that._active)) {
                            items[i].classList.add("cmp-carousel__item--active");
                            items[i].removeAttribute("aria-hidden");
                            indicators[i].classList.add("cmp-carousel__indicator--active");
                            indicators[i].setAttribute("aria-selected", true);
                            indicators[i].setAttribute("tabindex", "0");
                        } else {
                            items[i].classList.remove("cmp-carousel__item--active");
                            items[i].setAttribute("aria-hidden", true);
                            indicators[i].classList.remove("cmp-carousel__indicator--active");
                            indicators[i].setAttribute("aria-selected", false);
                            indicators[i].setAttribute("tabindex", "-1");
                        }
                    }
                } else {
                    // only one item
                    items.classList.add("cmp-carousel__item--active");
                    indicators.classList.add("cmp-carousel__indicator--active");
                }
            }
        }

        /**
         * Focuses the element and prevents scrolling the element into view
         *
         * @param {HTMLElement} element Element to focus
         */
        function focusWithoutScroll(element) {
            var x = window.scrollX || window.pageXOffset;
            var y = window.scrollY || window.pageYOffset;
            element.focus();
            window.scrollTo(x, y);
        }

        /**
         * Retrieves the next active index, with looping
         *
         * @private
         * @returns {Number} Index of the next carousel item
         */
        function getNextIndex() {
            return that._active === (that._elements["item"].length - 1) ? 0 : that._active + 1;
        }

        /**
         * Retrieves the previous active index, with looping
         *
         * @private
         * @returns {Number} Index of the previous carousel item
         */
        function getPreviousIndex() {
            return that._active === 0 ? (that._elements["item"].length - 1) : that._active - 1;
        }

        /**
         * Navigates to the item at the provided index
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         */
        function navigate(index) {
            if (index < 0 || index > (that._elements["item"].length - 1)) {
                return;
            }

            that._active = index;
            refreshActive();

            // reset the autoplay transition interval following navigation, if not already hovering the carousel
            if (that._elements.self.parentElement) {
                if (that._elements.self.parentElement.querySelector(":hover") !== that._elements.self) {
                    resetAutoplayInterval();
                }
            }
        }

        /**
         * Navigates to the item at the provided index and ensures the active indicator gains focus
         *
         * @private
         * @param {Number} index The index of the item to navigate to
         */
        function navigateAndFocusIndicator(index) {
            navigate(index);
            focusWithoutScroll(that._elements["indicator"][index]);
        }

        /**
         * Starts/resets automatic slide transition interval
         *
         * @private
         */
        function resetAutoplayInterval() {
            if (that._paused || !that._properties.autoplay) {
                return;
            }
            clearAutoplayInterval();
            that._autoplayIntervalId = window.setInterval(function() {
                if (document.visibilityState && document.hidden) {
                    return;
                }
                var indicators = that._elements["indicators"];
                if (indicators !== document.activeElement && indicators.contains(document.activeElement)) {
                    // if an indicator has focus, ensure we switch focus following navigation
                    navigateAndFocusIndicator(getNextIndex());
                } else {
                    navigate(getNextIndex());
                }
            }, that._properties.delay);
        }

        /**
         * Clears/pauses automatic slide transition interval
         *
         * @private
         */
        function clearAutoplayInterval() {
            window.clearInterval(that._autoplayIntervalId);
            that._autoplayIntervalId = null;
        }

        /**
         * Sets the disabled state for an action and toggles the appropriate CSS classes
         *
         * @private
         * @param {HTMLElement} action Action to disable
         * @param {Boolean} [disable] {@code true} to disable, {@code false} to enable
         */
        function setActionDisabled(action, disable) {
            if (!action) {
                return;
            }
            if (disable !== false) {
                action.disabled = true;
                action.classList.add("cmp-carousel__action--disabled");
            } else {
                action.disabled = false;
                action.classList.remove("cmp-carousel__action--disabled");
            }
        }
    }

    /**
     * Reads options data from the Carousel wrapper element, defined via {@code data-cmp-*} data attributes
     *
     * @private
     * @param {HTMLElement} element The Carousel element to read options data from
     * @returns {Object} The options read from the component data attributes
     */
    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    /**
     * Document ready handler and DOM mutation observers. Initializes Carousel components as necessary.
     *
     * @private
     */
    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Carousel({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body             = document.querySelector("body");
        var observer         = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Carousel({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

}());


(function($) {
    "use strict";

    if (document.getElementById("dynamic-content")) {  

        // Hide the main div on page load.
	    $('#xf-content').hide();

    	var cookieValue = $("#cookie-value").attr("data");
        var currentPagePath = $("#resource-path").attr("data");

	    // Set cookie through Javascript for POC purpose.
    	setCookie("hp-dynamic-content", cookieValue,1);

	    getXFPath();
	}

    function setCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "")  + expires + "; path=/";
    }

    function getXFPath(){
        //Show loader GIF till the time response is fetched from the call.
        $('.loader').show();

        $.ajax({
                type: "GET",
                url: "/bin/hp/dynamiccontent",
                data:'resourcePath='+ currentPagePath,
                dataType: 'html',                         
                success: function(){ 
                    $('.loader').fadeOut();
                    $('#xf-content').show();
                    $("#xf-content").load(" #xf-content");
                },
                error: function () {
                   //Handle error
                    $('#xf-content').text("Error Occurred. Could not fetch the Experience Fragment details through server.");
                   $('.loader').hide();
              }           
            });
    }

})(jQuery);

/*******************************************************************************
 * Copyright 2017 Adobe Systems Incorporated
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
if (window.Element && !Element.prototype.closest) {
    // eslint valid-jsdoc: "off"
    Element.prototype.closest =
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var el      = this;
            var i;
            do {
                i = matches.length;
                while (--i >= 0 && matches.item(i) !== el) {
                    // continue
                }
            } while ((i < 0) && (el = el.parentElement));
            return el;
        };
}

if (window.Element && !Element.prototype.matches) {
    Element.prototype.matches =
        Element.prototype.matchesSelector ||
        Element.prototype.mozMatchesSelector ||
        Element.prototype.msMatchesSelector ||
        Element.prototype.oMatchesSelector ||
        Element.prototype.webkitMatchesSelector ||
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var i       = matches.length;
            while (--i >= 0 && matches.item(i) !== this) {
                // continue
            }
            return i > -1;
        };
}

if (!Object.assign) {
    Object.assign = function(target, varArgs) { // .length of function is 2
        "use strict";
        if (target === null) {
            throw new TypeError("Cannot convert undefined or null to object");
        }

        var to = Object(target);

        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource !== null) {
                for (var nextKey in nextSource) {
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

(function(arr) {
    "use strict";
    arr.forEach(function(item) {
        if (item.hasOwnProperty("remove")) {
            return;
        }
        Object.defineProperty(item, "remove", {
            configurable: true,
            enumerable: true,
            writable: true,
            value: function remove() {
                this.parentNode.removeChild(this);
            }
        });
    });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);

/*******************************************************************************
 * Copyright 2016 Adobe Systems Incorporated
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "image";

    var EMPTY_PIXEL = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
    var LAZY_THRESHOLD = 0;
    var SRC_URI_TEMPLATE_WIDTH_VAR = "{.width}";

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]',
        image: '[data-cmp-hook-image="image"]',
        map: '[data-cmp-hook-image="map"]',
        area: '[data-cmp-hook-image="area"]'
    };

    var lazyLoader = {
        "cssClass": "cmp-image__image--is-loading",
        "style": {
            "height": 0,
            "padding-bottom": "" // will be replaced with % ratio
        }
    };

    var properties = {
        /**
         * An array of alternative image widths (in pixels).
         * Used to replace a {.width} variable in the src property with an optimal width if a URI template is provided.
         *
         * @memberof Image
         * @type {Number[]}
         * @default []
         */
        "widths": {
            "default": [],
            "transform": function(value) {
                var widths = [];
                value.split(",").forEach(function(item) {
                    item = parseFloat(item);
                    if (!isNaN(item)) {
                        widths.push(item);
                    }
                });
                return widths;
            }
        },
        /**
         * Indicates whether the image should be rendered lazily.
         *
         * @memberof Image
         * @type {Boolean}
         * @default false
         */
        "lazy": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * The image source.
         *
         * Can be a simple image source, or a URI template representation that
         * can be variable expanded - useful for building an image configuration with an alternative width.
         * e.g. '/path/image.coreimg{.width}.jpeg/1506620954214.jpeg'
         *
         * @memberof Image
         * @type {String}
         */
        "src": {
        }
    };

    var devicePixelRatio = window.devicePixelRatio || 1;

    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    function Image(config) {
        var that = this;

        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            setupProperties(config.options);
            cacheElements(config.element);

            if (!that._elements.noscript) {
                return;
            }

            that._elements.container = that._elements.link ? that._elements.link : that._elements.self;

            unwrapNoScript();

            if (that._properties.lazy) {
                addLazyLoader();
            }

            if (that._elements.map) {
                that._elements.image.addEventListener("load", onLoad);
            }

            window.addEventListener("scroll", that.update);
            window.addEventListener("resize", onWindowResize);
            window.addEventListener("update", that.update);
            that._elements.image.addEventListener("cmp-image-redraw", that.update);
            that.update();
        }

        function loadImage() {
            var hasWidths = that._properties.widths && that._properties.widths.length > 0;
            var replacement = hasWidths ? "." + getOptimalWidth() : "";
            var url = that._properties.src.replace(SRC_URI_TEMPLATE_WIDTH_VAR, replacement);

            if (that._elements.image.getAttribute("src") !== url) {
                that._elements.image.setAttribute("src", url);
                if (!hasWidths) {
                    window.removeEventListener("scroll", that.update);
                }
            }

            if (that._lazyLoaderShowing) {
                that._elements.image.addEventListener("load", removeLazyLoader);
            }
        }

        function getOptimalWidth() {
            var container = that._elements.self;
            var containerWidth = container.clientWidth;
            while (containerWidth === 0 && container.parentNode) {
                container = container.parentNode;
                containerWidth = container.clientWidth;
            }
            var optimalWidth = containerWidth * devicePixelRatio;
            var len = that._properties.widths.length;
            var key = 0;

            while ((key < len - 1) && (that._properties.widths[key] < optimalWidth)) {
                key++;
            }

            return that._properties.widths[key].toString();
        }

        function addLazyLoader() {
            var width = that._elements.image.getAttribute("width");
            var height = that._elements.image.getAttribute("height");

            if (width && height) {
                var ratio = (height / width) * 100;
                var styles = lazyLoader.style;

                styles["padding-bottom"] = ratio + "%";

                for (var s in styles) {
                    if (styles.hasOwnProperty(s)) {
                        that._elements.image.style[s] = styles[s];
                    }
                }
            }
            that._elements.image.setAttribute("src", EMPTY_PIXEL);
            that._elements.image.classList.add(lazyLoader.cssClass);
            that._lazyLoaderShowing = true;
        }

        function unwrapNoScript() {
            var markup = decodeNoscript(that._elements.noscript.textContent.trim());
            var parser = new DOMParser();

            // temporary document avoids requesting the image before removing its src
            var temporaryDocument = parser.parseFromString(markup, "text/html");
            var imageElement = temporaryDocument.querySelector(selectors.image);
            imageElement.removeAttribute("src");
            that._elements.container.insertBefore(imageElement, that._elements.noscript);

            var mapElement = temporaryDocument.querySelector(selectors.map);
            if (mapElement) {
                that._elements.container.insertBefore(mapElement, that._elements.noscript);
            }

            that._elements.noscript.parentNode.removeChild(that._elements.noscript);
            if (that._elements.container.matches(selectors.image)) {
                that._elements.image = that._elements.container;
            } else {
                that._elements.image = that._elements.container.querySelector(selectors.image);
            }

            that._elements.map = that._elements.container.querySelector(selectors.map);
            that._elements.areas = that._elements.container.querySelectorAll(selectors.area);
        }

        function removeLazyLoader() {
            that._elements.image.classList.remove(lazyLoader.cssClass);
            for (var property in lazyLoader.style) {
                if (lazyLoader.style.hasOwnProperty(property)) {
                    that._elements.image.style[property] = "";
                }
            }
            that._elements.image.removeEventListener("load", removeLazyLoader);
            that._lazyLoaderShowing = false;
        }

        function isLazyVisible() {
            if (that._elements.container.offsetParent === null) {
                return false;
            }

            var wt = window.pageYOffset;
            var wb = wt + document.documentElement.clientHeight;
            var et = that._elements.container.getBoundingClientRect().top + wt;
            var eb = et + that._elements.container.clientHeight;

            return eb >= wt - LAZY_THRESHOLD && et <= wb + LAZY_THRESHOLD;
        }

        function resizeAreas() {
            if (that._elements.areas && that._elements.areas.length > 0) {
                for (var i = 0; i < that._elements.areas.length; i++) {
                    var width = that._elements.image.width;
                    var height = that._elements.image.height;

                    if (width && height) {
                        var relcoords = that._elements.areas[i].dataset.cmpRelcoords;
                        if (relcoords) {
                            var relativeCoordinates = relcoords.split(",");
                            var coordinates = new Array(relativeCoordinates.length);

                            for (var j = 0; j < coordinates.length; j++) {
                                if (j % 2 === 0) {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * width);
                                } else {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * height);
                                }
                            }

                            that._elements.areas[i].coords = coordinates;
                        }
                    }
                }
            }
        }

        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                var capitalized = IS;
                capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                var key = hook.dataset[NS + "Hook" + capitalized];
                that._elements[key] = hook;
            }
        }

        function setupProperties(options) {
            that._properties = {};

            for (var key in properties) {
                if (properties.hasOwnProperty(key)) {
                    var property = properties[key];
                    if (options && options[key] != null) {
                        if (property && typeof property.transform === "function") {
                            that._properties[key] = property.transform(options[key]);
                        } else {
                            that._properties[key] = options[key];
                        }
                    } else {
                        that._properties[key] = properties[key]["default"];
                    }
                }
            }
        }

        function onWindowResize() {
            that.update();
            resizeAreas();
        }

        function onLoad() {
            resizeAreas();
        }

        that.update = function() {
            if (that._properties.lazy) {
                if (isLazyVisible()) {
                    loadImage();
                }
            } else {
                loadImage();
            }
        };

        if (config && config.element) {
            init(config);
        }
    }

    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Image({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body             = document.querySelector("body");
        var observer         = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Image({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

    /*
        on drag & drop of the component into a parsys, noscript's content will be escaped multiple times by the editor which creates
        the DOM for editing; the HTML parser cannot be used here due to the multiple escaping
     */
    function decodeNoscript(text) {
        text = text.replace(/&(amp;)*lt;/g, "<");
        text = text.replace(/&(amp;)*gt;/g, ">");
        return text;
    }

})();

/*******************************************************************************
 * Copyright 2017 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
if (window.Element && !Element.prototype.closest) {
    // eslint valid-jsdoc: "off"
    Element.prototype.closest =
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var el      = this;
            var i;
            do {
                i = matches.length;
                while (--i >= 0 && matches.item(i) !== el) {
                    // continue
                }
            } while ((i < 0) && (el = el.parentElement));
            return el;
        };
}

if (window.Element && !Element.prototype.matches) {
    Element.prototype.matches =
        Element.prototype.matchesSelector ||
        Element.prototype.mozMatchesSelector ||
        Element.prototype.msMatchesSelector ||
        Element.prototype.oMatchesSelector ||
        Element.prototype.webkitMatchesSelector ||
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var i       = matches.length;
            while (--i >= 0 && matches.item(i) !== this) {
                // continue
            }
            return i > -1;
        };
}

if (!Object.assign) {
    Object.assign = function(target, varArgs) { // .length of function is 2
        "use strict";
        if (target === null) {
            throw new TypeError("Cannot convert undefined or null to object");
        }

        var to = Object(target);

        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource !== null) {
                for (var nextKey in nextSource) {
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

(function(arr) {
    "use strict";
    arr.forEach(function(item) {
        if (item.hasOwnProperty("remove")) {
            return;
        }
        Object.defineProperty(item, "remove", {
            configurable: true,
            enumerable: true,
            writable: true,
            value: function remove() {
                this.parentNode.removeChild(this);
            }
        });
    });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);

/*******************************************************************************
 * Copyright 2016 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "image";

    var EMPTY_PIXEL = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
    var LAZY_THRESHOLD = 0;
    var SRC_URI_TEMPLATE_WIDTH_VAR = "{.width}";

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]',
        image: '[data-cmp-hook-image="image"]',
        map: '[data-cmp-hook-image="map"]',
        area: '[data-cmp-hook-image="area"]'
    };

    var lazyLoader = {
        "cssClass": "cmp-image__image--is-loading",
        "style": {
            "height": 0,
            "padding-bottom": "" // will be replaced with % ratio
        }
    };

    var properties = {
        /**
         * An array of alternative image widths (in pixels).
         * Used to replace a {.width} variable in the src property with an optimal width if a URI template is provided.
         *
         * @memberof Image
         * @type {Number[]}
         * @default []
         */
        "widths": {
            "default": [],
            "transform": function(value) {
                var widths = [];
                value.split(",").forEach(function(item) {
                    item = parseFloat(item);
                    if (!isNaN(item)) {
                        widths.push(item);
                    }
                });
                return widths;
            }
        },
        /**
         * Indicates whether the image should be rendered lazily.
         *
         * @memberof Image
         * @type {Boolean}
         * @default false
         */
        "lazy": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * The image source.
         *
         * Can be a simple image source, or a URI template representation that
         * can be variable expanded - useful for building an image configuration with an alternative width.
         * e.g. '/path/image.coreimg{.width}.jpeg/1506620954214.jpeg'
         *
         * @memberof Image
         * @type {String}
         */
        "src": {
        }
    };

    var devicePixelRatio = window.devicePixelRatio || 1;

    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    function Image(config) {
        var that = this;

        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            setupProperties(config.options);
            cacheElements(config.element);

            if (!that._elements.noscript) {
                return;
            }

            that._elements.container = that._elements.link ? that._elements.link : that._elements.self;

            unwrapNoScript();

            if (that._properties.lazy) {
                addLazyLoader();
            }

            if (that._elements.map) {
                that._elements.image.addEventListener("load", onLoad);
            }

            window.addEventListener("scroll", that.update);
            window.addEventListener("resize", onWindowResize);
            window.addEventListener("update", that.update);
            that._elements.image.addEventListener("cmp-image-redraw", that.update);
            that.update();
        }

        function loadImage() {
            var hasWidths = that._properties.widths && that._properties.widths.length > 0;
            var replacement = hasWidths ? "." + getOptimalWidth() : "";
            var url = that._properties.src.replace(SRC_URI_TEMPLATE_WIDTH_VAR, replacement);

            if (that._elements.image.getAttribute("src") !== url) {
                that._elements.image.setAttribute("src", url);
                if (!hasWidths) {
                    window.removeEventListener("scroll", that.update);
                }
            }

            if (that._lazyLoaderShowing) {
                that._elements.image.addEventListener("load", removeLazyLoader);
            }
        }

        function getOptimalWidth() {
            var container = that._elements.self;
            var containerWidth = container.clientWidth;
            while (containerWidth === 0 && container.parentNode) {
                container = container.parentNode;
                containerWidth = container.clientWidth;
            }
            var optimalWidth = containerWidth * devicePixelRatio;
            var len = that._properties.widths.length;
            var key = 0;

            while ((key < len - 1) && (that._properties.widths[key] < optimalWidth)) {
                key++;
            }

            return that._properties.widths[key].toString();
        }

        function addLazyLoader() {
            var width = that._elements.image.getAttribute("width");
            var height = that._elements.image.getAttribute("height");

            if (width && height) {
                var ratio = (height / width) * 100;
                var styles = lazyLoader.style;

                styles["padding-bottom"] = ratio + "%";

                for (var s in styles) {
                    if (styles.hasOwnProperty(s)) {
                        that._elements.image.style[s] = styles[s];
                    }
                }
            }
            that._elements.image.setAttribute("src", EMPTY_PIXEL);
            that._elements.image.classList.add(lazyLoader.cssClass);
            that._lazyLoaderShowing = true;
        }

        function unwrapNoScript() {
            var markup = decodeNoscript(that._elements.noscript.textContent.trim());
            var parser = new DOMParser();

            // temporary document avoids requesting the image before removing its src
            var temporaryDocument = parser.parseFromString(markup, "text/html");
            var imageElement = temporaryDocument.querySelector(selectors.image);
            imageElement.removeAttribute("src");
            that._elements.container.insertBefore(imageElement, that._elements.noscript);

            var mapElement = temporaryDocument.querySelector(selectors.map);
            if (mapElement) {
                that._elements.container.insertBefore(mapElement, that._elements.noscript);
            }

            that._elements.noscript.parentNode.removeChild(that._elements.noscript);
            if (that._elements.container.matches(selectors.image)) {
                that._elements.image = that._elements.container;
            } else {
                that._elements.image = that._elements.container.querySelector(selectors.image);
            }

            that._elements.map = that._elements.container.querySelector(selectors.map);
            that._elements.areas = that._elements.container.querySelectorAll(selectors.area);
        }

        function removeLazyLoader() {
            that._elements.image.classList.remove(lazyLoader.cssClass);
            for (var property in lazyLoader.style) {
                if (lazyLoader.style.hasOwnProperty(property)) {
                    that._elements.image.style[property] = "";
                }
            }
            that._elements.image.removeEventListener("load", removeLazyLoader);
            that._lazyLoaderShowing = false;
        }

        function isLazyVisible() {
            if (that._elements.container.offsetParent === null) {
                return false;
            }

            var wt = window.pageYOffset;
            var wb = wt + document.documentElement.clientHeight;
            var et = that._elements.container.getBoundingClientRect().top + wt;
            var eb = et + that._elements.container.clientHeight;

            return eb >= wt - LAZY_THRESHOLD && et <= wb + LAZY_THRESHOLD;
        }

        function resizeAreas() {
            if (that._elements.areas && that._elements.areas.length > 0) {
                for (var i = 0; i < that._elements.areas.length; i++) {
                    var width = that._elements.image.width;
                    var height = that._elements.image.height;

                    if (width && height) {
                        var relcoords = that._elements.areas[i].dataset.cmpRelcoords;
                        if (relcoords) {
                            var relativeCoordinates = relcoords.split(",");
                            var coordinates = new Array(relativeCoordinates.length);

                            for (var j = 0; j < coordinates.length; j++) {
                                if (j % 2 === 0) {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * width);
                                } else {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * height);
                                }
                            }

                            that._elements.areas[i].coords = coordinates;
                        }
                    }
                }
            }
        }

        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                var capitalized = IS;
                capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                var key = hook.dataset[NS + "Hook" + capitalized];
                that._elements[key] = hook;
            }
        }

        function setupProperties(options) {
            that._properties = {};

            for (var key in properties) {
                if (properties.hasOwnProperty(key)) {
                    var property = properties[key];
                    if (options && options[key] != null) {
                        if (property && typeof property.transform === "function") {
                            that._properties[key] = property.transform(options[key]);
                        } else {
                            that._properties[key] = options[key];
                        }
                    } else {
                        that._properties[key] = properties[key]["default"];
                    }
                }
            }
        }

        function onWindowResize() {
            that.update();
            resizeAreas();
        }

        function onLoad() {
            resizeAreas();
        }

        that.update = function() {
            if (that._properties.lazy) {
                if (isLazyVisible()) {
                    loadImage();
                }
            } else {
                loadImage();
            }
        };

        if (config && config.element) {
            init(config);
        }
    }

    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Image({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body             = document.querySelector("body");
        var observer         = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Image({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

    /*
        on drag & drop of the component into a parsys, noscript's content will be escaped multiple times by the editor which creates
        the DOM for editing; the HTML parser cannot be used here due to the multiple escaping
     */
    function decodeNoscript(text) {
        text = text.replace(/&(amp;)*lt;/g, "<");
        text = text.replace(/&(amp;)*gt;/g, ">");
        return text;
    }

})();

/*******************************************************************************
 * Copyright 2017 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "search";

    var DELAY = 300; // time before fetching new results when the user is typing a search string
    var LOADING_DISPLAY_DELAY = 300; // minimum time during which the loading indicator is displayed
    var PARAM_RESULTS_OFFSET = "resultsOffset";

    var keyCodes = {
        TAB: 9,
        ENTER: 13,
        ESCAPE: 27,
        ARROW_UP: 38,
        ARROW_DOWN: 40
    };

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]',
        item: {
            self: "[data-" + NS + "-hook-" + IS + '="item"]',
            title: "[data-" + NS + "-hook-" + IS + '="itemTitle"]',
            focused: "." + NS + "-search__item--is-focused"
        }
    };

    var properties = {
        /**
         * The minimum required length of the search term before results are fetched.
         *
         * @memberof Search
         * @type {Number}
         * @default 3
         */
        minLength: {
            "default": 3,
            transform: function(value) {
                value = parseFloat(value);
                return isNaN(value) ? null : value;
            }
        },
        /**
         * The maximal number of results fetched by a search request.
         *
         * @memberof Search
         * @type {Number}
         * @default 10
         */
        resultsSize: {
            "default": 10,
            transform: function(value) {
                value = parseFloat(value);
                return isNaN(value) ? null : value;
            }
        }
    };

    var idCount = 0;

    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    function toggleShow(element, show) {
        if (element) {
            if (show !== false) {
                element.style.display = "block";
                element.setAttribute("aria-hidden", false);
            } else {
                element.style.display = "none";
                element.setAttribute("aria-hidden", true);
            }
        }
    }

    function serialize(form) {
        var query = [];
        if (form && form.elements) {
            for (var i = 0; i < form.elements.length; i++) {
                var node = form.elements[i];
                if (!node.disabled && node.name) {
                    var param = [node.name, encodeURIComponent(node.value)];
                    query.push(param.join("="));
                }
            }
        }
        return query.join("&");
    }

    function mark(node, regex) {
        if (!node || !regex) {
            return;
        }

        // text nodes
        if (node.nodeType === 3) {
            var nodeValue = node.nodeValue;
            var match = regex.exec(nodeValue);

            if (nodeValue && match) {
                var element = document.createElement("mark");
                element.className = NS + "-search__item-mark";
                element.appendChild(document.createTextNode(match[0]));

                var after = node.splitText(match.index);
                after.nodeValue = after.nodeValue.substring(match[0].length);
                node.parentNode.insertBefore(element, after);
            }
        } else if (node.hasChildNodes()) {
            for (var i = 0; i < node.childNodes.length; i++) {
                // recurse
                mark(node.childNodes[i], regex);
            }
        }
    }

    function Search(config) {
        if (config.element) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");
        }

        this._cacheElements(config.element);
        this._setupProperties(config.options);

        this._action = this._elements.form.getAttribute("action");
        this._resultsOffset = 0;
        this._hasMoreResults = true;

        this._elements.input.addEventListener("input", this._onInput.bind(this));
        this._elements.input.addEventListener("focus", this._onInput.bind(this));
        this._elements.input.addEventListener("keydown", this._onKeydown.bind(this));
        this._elements.clear.addEventListener("click", this._onClearClick.bind(this));
        document.addEventListener("click", this._onDocumentClick.bind(this));
        this._elements.results.addEventListener("scroll", this._onScroll.bind(this));

        this._makeAccessible();
    }

    Search.prototype._displayResults = function() {
        if (this._elements.input.value.length === 0) {
            toggleShow(this._elements.clear, false);
            this._cancelResults();
        } else if (this._elements.input.value.length < this._properties.minLength) {
            toggleShow(this._elements.clear, true);
        } else {
            this._updateResults();
            toggleShow(this._elements.clear, true);
        }
    };

    Search.prototype._onScroll = function(event) {
        // fetch new results when the results to be scrolled down are less than the visible results
        if (this._elements.results.scrollTop + 2 * this._elements.results.clientHeight >= this._elements.results.scrollHeight) {
            this._resultsOffset += this._properties.resultsSize;
            this._displayResults();
        }
    };

    Search.prototype._onInput = function(event) {
        var self = this;
        self._cancelResults();
        // start searching when the search term reaches the minimum length
        this._timeout = setTimeout(function() {
            self._displayResults();
        }, DELAY);
    };

    Search.prototype._onKeydown = function(event) {
        var self = this;

        switch (event.keyCode) {
            case keyCodes.TAB:
                if (self._resultsOpen()) {
                    event.preventDefault();
                }
                break;
            case keyCodes.ENTER:
                event.preventDefault();
                if (self._resultsOpen()) {
                    var focused = self._elements.results.querySelector(selectors.item.focused);
                    if (focused) {
                        focused.click();
                    }
                }
                break;
            case keyCodes.ESCAPE:
                self._cancelResults();
                break;
            case keyCodes.ARROW_UP:
                if (self._resultsOpen()) {
                    event.preventDefault();
                    self._stepResultFocus(true);
                }
                break;
            case keyCodes.ARROW_DOWN:
                if (self._resultsOpen()) {
                    event.preventDefault();
                    self._stepResultFocus();
                } else {
                    // test the input and if necessary fetch and display the results
                    self._onInput();
                }
                break;
            default:
                return;
        }
    };

    Search.prototype._onClearClick = function(event) {
        event.preventDefault();
        this._elements.input.value = "";
        toggleShow(this._elements.clear, false);
        toggleShow(this._elements.results, false);
    };

    Search.prototype._onDocumentClick = function(event) {
        var inputContainsTarget =  this._elements.input.contains(event.target);
        var resultsContainTarget = this._elements.results.contains(event.target);

        if (!(inputContainsTarget || resultsContainTarget)) {
            toggleShow(this._elements.results, false);
        }
    };

    Search.prototype._resultsOpen = function() {
        return this._elements.results.style.display !== "none";
    };

    Search.prototype._makeAccessible = function() {
        var id = NS + "-search-results-" + idCount;
        this._elements.input.setAttribute("aria-owns", id);
        this._elements.results.id = id;
        idCount++;
    };

    Search.prototype._generateItems = function(data, results) {
        var self = this;

        data.forEach(function(item) {
            var el = document.createElement("span");
            el.innerHTML = self._elements.itemTemplate.innerHTML;
            el.querySelectorAll(selectors.item.title)[0].appendChild(document.createTextNode(item.title));
            el.querySelectorAll(selectors.item.self)[0].setAttribute("href", item.url);
            results.innerHTML += el.innerHTML;
        });
    };

    Search.prototype._markResults = function() {
        var nodeList = this._elements.results.querySelectorAll(selectors.item.self);
        var escapedTerm = this._elements.input.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
        var regex = new RegExp("(" + escapedTerm + ")", "gi");

        for (var i = this._resultsOffset - 1; i < nodeList.length; ++i) {
            var result = nodeList[i];
            mark(result, regex);
        }
    };

    Search.prototype._stepResultFocus = function(reverse) {
        var results = this._elements.results.querySelectorAll(selectors.item.self);
        var focused = this._elements.results.querySelector(selectors.item.focused);
        var newFocused;
        var index = Array.prototype.indexOf.call(results, focused);
        var focusedCssClass = NS + "-search__item--is-focused";

        if (results.length > 0) {

            if (!reverse) {
                // highlight the next result
                if (index < 0) {
                    results[0].classList.add(focusedCssClass);
                } else if (index + 1 < results.length) {
                    results[index].classList.remove(focusedCssClass);
                    results[index + 1].classList.add(focusedCssClass);
                }

                // if the last visible result is partially hidden, scroll up until it's completely visible
                newFocused = this._elements.results.querySelector(selectors.item.focused);
                if (newFocused) {
                    var bottomHiddenHeight = newFocused.offsetTop + newFocused.offsetHeight - this._elements.results.scrollTop - this._elements.results.clientHeight;
                    if (bottomHiddenHeight > 0) {
                        this._elements.results.scrollTop += bottomHiddenHeight;
                    } else {
                        this._onScroll();
                    }
                }

            } else {
                // highlight the previous result
                if (index >= 1) {
                    results[index].classList.remove(focusedCssClass);
                    results[index - 1].classList.add(focusedCssClass);
                }

                // if the first visible result is partially hidden, scroll down until it's completely visible
                newFocused = this._elements.results.querySelector(selectors.item.focused);
                if (newFocused) {
                    var topHiddenHeight = this._elements.results.scrollTop - newFocused.offsetTop;
                    if (topHiddenHeight > 0) {
                        this._elements.results.scrollTop -= topHiddenHeight;
                    }
                }
            }
        }
    };

    Search.prototype._updateResults = function() {
        var self = this;
        if (self._hasMoreResults) {
            var request = new XMLHttpRequest();
            var url = self._action + "?" + serialize(self._elements.form) + "&" + PARAM_RESULTS_OFFSET + "=" + self._resultsOffset;

            request.open("GET", url, true);
            request.onload = function() {
                // when the results are loaded: hide the loading indicator and display the search icon after a minimum period
                setTimeout(function() {
                    toggleShow(self._elements.loadingIndicator, false);
                    toggleShow(self._elements.icon, true);
                }, LOADING_DISPLAY_DELAY);
                if (request.status >= 200 && request.status < 400) {
                    // success status
                    var data = JSON.parse(request.responseText);
                    if (data.length > 0) {
                        self._generateItems(data, self._elements.results);
                        self._markResults();
                        toggleShow(self._elements.results, true);
                    } else {
                        self._hasMoreResults = false;
                    }
                    // the total number of results is not a multiple of the fetched results:
                    // -> we reached the end of the query
                    if (self._elements.results.querySelectorAll(selectors.item.self).length % self._properties.resultsSize > 0) {
                        self._hasMoreResults = false;
                    }
                } else {
                    // error status
                }
            };
            // when the results are loading: display the loading indicator and hide the search icon
            toggleShow(self._elements.loadingIndicator, true);
            toggleShow(self._elements.icon, false);
            request.send();
        }
    };

    Search.prototype._cancelResults = function() {
        clearTimeout(this._timeout);
        this._elements.results.scrollTop = 0;
        this._resultsOffset = 0;
        this._hasMoreResults = true;
        this._elements.results.innerHTML = "";
    };

    Search.prototype._cacheElements = function(wrapper) {
        this._elements = {};
        this._elements.self = wrapper;
        var hooks = this._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

        for (var i = 0; i < hooks.length; i++) {
            var hook = hooks[i];
            var capitalized = IS;
            capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
            var key = hook.dataset[NS + "Hook" + capitalized];
            this._elements[key] = hook;
        }
    };

    Search.prototype._setupProperties = function(options) {
        this._properties = {};

        for (var key in properties) {
            if (properties.hasOwnProperty(key)) {
                var property = properties[key];
                if (options && options[key] != null) {
                    if (property && typeof property.transform === "function") {
                        this._properties[key] = property.transform(options[key]);
                    } else {
                        this._properties[key] = options[key];
                    }
                } else {
                    this._properties[key] = properties[key]["default"];
                }
            }
        }
    };

    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Search({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Search({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

})();

/*******************************************************************************
 * Copyright 2016 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "formText";
    var IS_DASH = "form-text";

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]'
    };

    var properties = {
        /**
         * A validation message to display if there is a type mismatch between the user input and expected input.
         *
         * @type {String}
         */
        constraintMessage: {
        },
        /**
         * A validation message to display if no input is supplied, but input is expected for the field.
         *
         * @type {String}
         */
        requiredMessage: {
        }
    };

    function readData(element) {
        var data = element.dataset;
        var options = [];
        var capitalized = IS;
        capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
        var reserved = ["is", "hook" + capitalized];

        for (var key in data) {
            if (data.hasOwnProperty(key)) {
                var value = data[key];

                if (key.indexOf(NS) === 0) {
                    key = key.slice(NS.length);
                    key = key.charAt(0).toLowerCase() + key.substring(1);

                    if (reserved.indexOf(key) === -1) {
                        options[key] = value;
                    }
                }
            }
        }

        return options;
    }

    function FormText(config) {
        if (config.element) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");
        }

        this._cacheElements(config.element);
        this._setupProperties(config.options);

        this._elements.input.addEventListener("invalid", this._onInvalid.bind(this));
        this._elements.input.addEventListener("input", this._onInput.bind(this));
    }

    FormText.prototype._onInvalid = function(event) {
        event.target.setCustomValidity("");
        if (event.target.validity.typeMismatch) {
            if (this._properties.constraintMessage) {
                event.target.setCustomValidity(this._properties.constraintMessage);
            }
        } else if (event.target.validity.valueMissing) {
            if (this._properties.requiredMessage) {
                event.target.setCustomValidity(this._properties.requiredMessage);
            }
        }
    };

    FormText.prototype._onInput = function(event) {
        event.target.setCustomValidity("");
    };

    FormText.prototype._cacheElements = function(wrapper) {
        this._elements = {};
        this._elements.self = wrapper;
        var hooks = this._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS_DASH + "]");
        for (var i = 0; i < hooks.length; i++) {
            var hook = hooks[i];
            var capitalized = IS;
            capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
            var key = hook.dataset[NS + "Hook" + capitalized];
            this._elements[key] = hook;
        }
    };

    FormText.prototype._setupProperties = function(options) {
        this._properties = {};

        for (var key in properties) {
            if (properties.hasOwnProperty(key)) {
                var property = properties[key];
                if (options && options[key] != null) {
                    if (property && typeof property.transform === "function") {
                        this._properties[key] = property.transform(options[key]);
                    } else {
                        this._properties[key] = options[key];
                    }
                } else {
                    this._properties[key] = properties[key]["default"];
                }
            }
        }
    };

    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new FormText({ element: elements[i], options: readData(elements[i]) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body = document.querySelector("body");
        var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new FormText({ element: element, options: readData(element) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    if (document.readyState !== "loading") {
        onDocumentReady();
    } else {
        document.addEventListener("DOMContentLoaded", onDocumentReady);
    }

})();

$(document).ready(function() {
    const pageInfoMeta = $('head meta[name=pageinfo]');
    const cc = pageInfoMeta.data('cc');
    const lc = pageInfoMeta.data('lc');
	const uri = pageInfoMeta.data('uri');
    const servletPath = "/bin/hpwcc/countryselector";
    var pagePath = pageInfoMeta.data('pagepath');

    //update flag name
    const currentLCCCFlag = $('.country-selector').find("a[rel=" + cc + "][data-languagecode=" + lc + "]").first();
    const currentCountryName = currentLCCCFlag.text();
    $('#clcCountryHeader').text(currentCountryName);

    //generate json of lc and cc for current page locales
	const links = $('head link[rel=alternate]');
    const webserverurl = pageInfoMeta.data('webserverurl');
    var lcccJson = {};
    $(links).each(function(i) {
        const linkTag = $(links[i]);
        var link = linkTag.attr('href');
		if(typeof webserverurl !== 'undefined'){
			link = link.replace(webserverurl + "/", '');
		}
        link = link.substring(0, link.indexOf('/'));
        if (link.indexOf('-') > -1) {
            const lccc = link.split('-');
            var lc = lccc[1];
            var cc = lccc[0];
            var lcArray = lcccJson[lc];
            if (typeof lcArray !== 'undefined') {
                lcArray.push(cc);
            } else {
                var lcArray = [];
                lcArray.push(cc);
            }
            lcccJson[lc] = lcArray;
        }
    });
	
	//show flags based on lc and cc json
    const flags = $('.flaglink');
    $(flags).each(function(i) {
        var flag = $(flags[i]);
        const flagCC = flag.attr("rel").toLowerCase();
        const flagLC = flag.data("languagecode").toLowerCase();
        const resLC = lcccJson[flagLC];
        if (typeof resLC !== 'undefined') {
            if (resLC.indexOf(flagCC) > -1) {
                flag.parent().removeClass('hide');
                const currentPath = uri;
                var path = "";
                if (window.location.href.indexOf(".html") > -1) {
                    if (currentPath.indexOf('/language-masters/') > -1) {
                        path = pagePath.replace("/language-masters/", "/" + flagLC + "-" + flagCC + "/");
                    } else {
                        path = pagePath.replace(lc + "-" + cc, flagLC + "-" + flagCC);
                    }
                    path = path + ".html";
                } else {
                    path = uri.replace(cc + "-" + lc, flagCC + "-" + flagLC);
                }
                var langPath = path;
                flag.attr("href", langPath);
            }
        }

    });

//Country Selector hiding region section without any listing
    const americaA=$("#dvAmerica").find("li");
    const americaAb=$("#dvAmerica").find("li.hide");
    if(americaA.length==americaAb.length){
        $("#dvAmerica").hide();
    }
    const emeaA=$("#dvEmea_africa").find("li");
    const emeaAf=$("#dvEmea_africa").find("li.hide");
        if(emeaA.length==emeaAf.length){
            $("#dvEmea_africa").hide();
    }
    const asiaA=$("#dvAsia").find("li");
    const asiaAb=$("#dvAsia").find("li.hide");
    if(asiaA.length==asiaAb.length){
        $("#dvAsia").hide();
    }

// Country Selector Modal Open
$('.PopupActivator').click(function() {
    $('body').addClass('modal-open');
    $('.countrySelectorBox').removeClass('hide');
    $('.modal').show();
    $('.modal-backdrop').removeClass('hide');
    $('.modal-backdrop').show();
    $('.modal-backdrop').addClass('in');

});

//Country Close
$('.country-close').click(function() {
$('body').removeClass('modal-open');
$('.countrySelectorBox').addClass('hide');
$('.modal').hide();
$('.modal-backdrop').hide();
});

});
/*
 Copyright (C) Federico Zivolo 2020
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Popper=t()})(this,function(){'use strict';function e(e){return e&&'[object Function]'==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var o=e.ownerDocument.defaultView,n=o.getComputedStyle(e,null);return t?n[t]:n}function o(e){return'HTML'===e.nodeName?e:e.parentNode||e.host}function n(e){if(!e)return document.body;switch(e.nodeName){case'HTML':case'BODY':return e.ownerDocument.body;case'#document':return e.body;}var i=t(e),r=i.overflow,p=i.overflowX,s=i.overflowY;return /(auto|scroll|overlay)/.test(r+s+p)?e:n(o(e))}function i(e){return e&&e.referenceNode?e.referenceNode:e}function r(e){return 11===e?re:10===e?pe:re||pe}function p(e){if(!e)return document.documentElement;for(var o=r(10)?document.body:null,n=e.offsetParent||null;n===o&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&'BODY'!==i&&'HTML'!==i?-1!==['TH','TD','TABLE'].indexOf(n.nodeName)&&'static'===t(n,'position')?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function s(e){var t=e.nodeName;return'BODY'!==t&&('HTML'===t||p(e.firstElementChild)===e)}function d(e){return null===e.parentNode?e:d(e.parentNode)}function a(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=o?e:t,i=o?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(i,0);var l=r.commonAncestorContainer;if(e!==l&&t!==l||n.contains(i))return s(l)?l:p(l);var f=d(e);return f.host?a(f.host,t):a(e,d(t).host)}function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',o='top'===t?'scrollTop':'scrollLeft',n=e.nodeName;if('BODY'===n||'HTML'===n){var i=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||i;return r[o]}return e[o]}function f(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=l(t,'top'),i=l(t,'left'),r=o?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=i*r,e.right+=i*r,e}function m(e,t){var o='x'===t?'Left':'Top',n='Left'==o?'Right':'Bottom';return parseFloat(e['border'+o+'Width'])+parseFloat(e['border'+n+'Width'])}function h(e,t,o,n){return ee(t['offset'+e],t['scroll'+e],o['client'+e],o['offset'+e],o['scroll'+e],r(10)?parseInt(o['offset'+e])+parseInt(n['margin'+('Height'===e?'Top':'Left')])+parseInt(n['margin'+('Height'===e?'Bottom':'Right')]):0)}function c(e){var t=e.body,o=e.documentElement,n=r(10)&&getComputedStyle(o);return{height:h('Height',t,o,n),width:h('Width',t,o,n)}}function g(e){return le({},e,{right:e.left+e.width,bottom:e.top+e.height})}function u(e){var o={};try{if(r(10)){o=e.getBoundingClientRect();var n=l(e,'top'),i=l(e,'left');o.top+=n,o.left+=i,o.bottom+=n,o.right+=i}else o=e.getBoundingClientRect()}catch(t){}var p={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},s='HTML'===e.nodeName?c(e.ownerDocument):{},d=s.width||e.clientWidth||p.width,a=s.height||e.clientHeight||p.height,f=e.offsetWidth-d,h=e.offsetHeight-a;if(f||h){var u=t(e);f-=m(u,'x'),h-=m(u,'y'),p.width-=f,p.height-=h}return g(p)}function b(e,o){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=r(10),s='HTML'===o.nodeName,d=u(e),a=u(o),l=n(e),m=t(o),h=parseFloat(m.borderTopWidth),c=parseFloat(m.borderLeftWidth);i&&s&&(a.top=ee(a.top,0),a.left=ee(a.left,0));var b=g({top:d.top-a.top-h,left:d.left-a.left-c,width:d.width,height:d.height});if(b.marginTop=0,b.marginLeft=0,!p&&s){var w=parseFloat(m.marginTop),y=parseFloat(m.marginLeft);b.top-=h-w,b.bottom-=h-w,b.left-=c-y,b.right-=c-y,b.marginTop=w,b.marginLeft=y}return(p&&!i?o.contains(l):o===l&&'BODY'!==l.nodeName)&&(b=f(b,o)),b}function w(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e.ownerDocument.documentElement,n=b(e,o),i=ee(o.clientWidth,window.innerWidth||0),r=ee(o.clientHeight,window.innerHeight||0),p=t?0:l(o),s=t?0:l(o,'left'),d={top:p-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:r};return g(d)}function y(e){var n=e.nodeName;if('BODY'===n||'HTML'===n)return!1;if('fixed'===t(e,'position'))return!0;var i=o(e);return!!i&&y(i)}function E(e){if(!e||!e.parentElement||r())return document.documentElement;for(var o=e.parentElement;o&&'none'===t(o,'transform');)o=o.parentElement;return o||document.documentElement}function v(e,t,r,p){var s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],d={top:0,left:0},l=s?E(e):a(e,i(t));if('viewport'===p)d=w(l,s);else{var f;'scrollParent'===p?(f=n(o(t)),'BODY'===f.nodeName&&(f=e.ownerDocument.documentElement)):'window'===p?f=e.ownerDocument.documentElement:f=p;var m=b(f,l,s);if('HTML'===f.nodeName&&!y(l)){var h=c(e.ownerDocument),g=h.height,u=h.width;d.top+=m.top-m.marginTop,d.bottom=g+m.top,d.left+=m.left-m.marginLeft,d.right=u+m.left}else d=m}r=r||0;var v='number'==typeof r;return d.left+=v?r:r.left||0,d.top+=v?r:r.top||0,d.right-=v?r:r.right||0,d.bottom-=v?r:r.bottom||0,d}function x(e){var t=e.width,o=e.height;return t*o}function O(e,t,o,n,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf('auto'))return e;var p=v(o,n,r,i),s={top:{width:p.width,height:t.top-p.top},right:{width:p.right-t.right,height:p.height},bottom:{width:p.width,height:p.bottom-t.bottom},left:{width:t.left-p.left,height:p.height}},d=Object.keys(s).map(function(e){return le({key:e},s[e],{area:x(s[e])})}).sort(function(e,t){return t.area-e.area}),a=d.filter(function(e){var t=e.width,n=e.height;return t>=o.clientWidth&&n>=o.clientHeight}),l=0<a.length?a[0].key:d[0].key,f=e.split('-')[1];return l+(f?'-'+f:'')}function L(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,r=n?E(t):a(t,i(o));return b(o,r,n)}function S(e){var t=e.ownerDocument.defaultView,o=t.getComputedStyle(e),n=parseFloat(o.marginTop||0)+parseFloat(o.marginBottom||0),i=parseFloat(o.marginLeft||0)+parseFloat(o.marginRight||0),r={width:e.offsetWidth+i,height:e.offsetHeight+n};return r}function T(e){var t={left:'right',right:'left',bottom:'top',top:'bottom'};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function C(e,t,o){o=o.split('-')[0];var n=S(e),i={width:n.width,height:n.height},r=-1!==['right','left'].indexOf(o),p=r?'top':'left',s=r?'left':'top',d=r?'height':'width',a=r?'width':'height';return i[p]=t[p]+t[d]/2-n[d]/2,i[s]=o===s?t[s]-n[a]:t[T(s)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var n=D(e,function(e){return e[t]===o});return e.indexOf(n)}function P(t,o,n){var i=void 0===n?t:t.slice(0,N(t,'name',n));return i.forEach(function(t){t['function']&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var n=t['function']||t.fn;t.enabled&&e(n)&&(o.offsets.popper=g(o.offsets.popper),o.offsets.reference=g(o.offsets.reference),o=n(o,t))}),o}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=C(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?'fixed':'absolute',e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some(function(e){var o=e.name,n=e.enabled;return n&&o===t})}function B(e){for(var t=[!1,'ms','Webkit','Moz','O'],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],r=i?''+i+o:e;if('undefined'!=typeof document.body.style[r])return r}return null}function H(){return this.state.isDestroyed=!0,W(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.position='',this.popper.style.top='',this.popper.style.left='',this.popper.style.right='',this.popper.style.bottom='',this.popper.style.willChange='',this.popper.style[B('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function A(e){var t=e.ownerDocument;return t?t.defaultView:window}function M(e,t,o,i){var r='BODY'===e.nodeName,p=r?e.ownerDocument.defaultView:e;p.addEventListener(t,o,{passive:!0}),r||M(n(p.parentNode),t,o,i),i.push(p)}function F(e,t,o,i){o.updateBound=i,A(e).addEventListener('resize',o.updateBound,{passive:!0});var r=n(e);return M(r,'scroll',o.updateBound,o.scrollParents),o.scrollElement=r,o.eventsEnabled=!0,o}function I(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return A(e).removeEventListener('resize',t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener('scroll',t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function U(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function Y(e){return''!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function V(e,t){Object.keys(t).forEach(function(o){var n='';-1!==['width','height','top','right','bottom','left'].indexOf(o)&&Y(t[o])&&(n='px'),e.style[o]=t[o]+n})}function j(e,t){Object.keys(t).forEach(function(o){var n=t[o];!1===n?e.removeAttribute(o):e.setAttribute(o,t[o])})}function q(e,t){var o=e.offsets,n=o.popper,i=o.reference,r=$,p=function(e){return e},s=r(i.width),d=r(n.width),a=-1!==['left','right'].indexOf(e.placement),l=-1!==e.placement.indexOf('-'),f=t?a||l||s%2==d%2?r:Z:p,m=t?r:p;return{left:f(1==s%2&&1==d%2&&!l&&t?n.left-1:n.left),top:m(n.top),bottom:m(n.bottom),right:f(n.right)}}function K(e,t,o){var n=D(e,function(e){var o=e.name;return o===t}),i=!!n&&e.some(function(e){return e.name===o&&e.enabled&&e.order<n.order});if(!i){var r='`'+t+'`';console.warn('`'+o+'`'+' modifier is required by '+r+' modifier in order to work, be sure to include it before '+r+'!')}return i}function z(e){return'end'===e?'start':'start'===e?'end':e}function G(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=he.indexOf(e),n=he.slice(o+1).concat(he.slice(0,o));return t?n.reverse():n}function _(e,t,o,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],p=i[2];if(!r)return e;if(0===p.indexOf('%')){var s;switch(p){case'%p':s=o;break;case'%':case'%r':default:s=n;}var d=g(s);return d[t]/100*r}if('vh'===p||'vw'===p){var a;return a='vh'===p?ee(document.documentElement.clientHeight,window.innerHeight||0):ee(document.documentElement.clientWidth,window.innerWidth||0),a/100*r}return r}function X(e,t,o,n){var i=[0,0],r=-1!==['right','left'].indexOf(n),p=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=p.indexOf(D(p,function(e){return-1!==e.search(/,|\s/)}));p[s]&&-1===p[s].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var d=/\s*,\s*|\s+/,a=-1===s?[p]:[p.slice(0,s).concat([p[s].split(d)[0]]),[p[s].split(d)[1]].concat(p.slice(s+1))];return a=a.map(function(e,n){var i=(1===n?!r:r)?'height':'width',p=!1;return e.reduce(function(e,t){return''===e[e.length-1]&&-1!==['+','-'].indexOf(t)?(e[e.length-1]=t,p=!0,e):p?(e[e.length-1]+=t,p=!1,e):e.concat(t)},[]).map(function(e){return _(e,i,t,o)})}),a.forEach(function(e,t){e.forEach(function(o,n){Y(o)&&(i[t]+=o*('-'===e[n-1]?-1:1))})}),i}function J(e,t){var o,n=t.offset,i=e.placement,r=e.offsets,p=r.popper,s=r.reference,d=i.split('-')[0];return o=Y(+n)?[+n,0]:X(n,p,s,d),'left'===d?(p.top+=o[0],p.left-=o[1]):'right'===d?(p.top+=o[0],p.left+=o[1]):'top'===d?(p.left+=o[0],p.top-=o[1]):'bottom'===d&&(p.left+=o[0],p.top+=o[1]),e.popper=p,e}var Q=Math.min,Z=Math.floor,$=Math.round,ee=Math.max,te='undefined'!=typeof window&&'undefined'!=typeof document&&'undefined'!=typeof navigator,oe=function(){for(var e=['Edge','Trident','Firefox'],t=0;t<e.length;t+=1)if(te&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}(),ne=te&&window.Promise,ie=ne?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},oe))}},re=te&&!!(window.MSInputMethodContext&&document.documentMode),pe=te&&/MSIE 10/.test(navigator.userAgent),se=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},de=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),ae=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},le=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},fe=te&&/Firefox/i.test(navigator.userAgent),me=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],he=me.slice(3),ce={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},ge=function(){function t(o,n){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};se(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ie(this.update.bind(this)),this.options=le({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=o&&o.jquery?o[0]:o,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(le({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=le({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return le({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var p=this.options.eventsEnabled;p&&this.enableEventListeners(),this.state.eventsEnabled=p}return de(t,[{key:'update',value:function(){return k.call(this)}},{key:'destroy',value:function(){return H.call(this)}},{key:'enableEventListeners',value:function(){return I.call(this)}},{key:'disableEventListeners',value:function(){return U.call(this)}}]),t}();return ge.Utils=('undefined'==typeof window?global:window).PopperUtils,ge.placements=me,ge.Defaults={placement:'bottom',positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split('-')[0],n=t.split('-')[1];if(n){var i=e.offsets,r=i.reference,p=i.popper,s=-1!==['bottom','top'].indexOf(o),d=s?'left':'top',a=s?'width':'height',l={start:ae({},d,r[d]),end:ae({},d,r[d]+r[a]-p[a])};e.offsets.popper=le({},p,l[n])}return e}},offset:{order:200,enabled:!0,fn:J,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||p(e.instance.popper);e.instance.reference===o&&(o=p(o));var n=B('transform'),i=e.instance.popper.style,r=i.top,s=i.left,d=i[n];i.top='',i.left='',i[n]='';var a=v(e.instance.popper,e.instance.reference,t.padding,o,e.positionFixed);i.top=r,i.left=s,i[n]=d,t.boundaries=a;var l=t.priority,f=e.offsets.popper,m={primary:function(e){var o=f[e];return f[e]<a[e]&&!t.escapeWithReference&&(o=ee(f[e],a[e])),ae({},e,o)},secondary:function(e){var o='right'===e?'left':'top',n=f[o];return f[e]>a[e]&&!t.escapeWithReference&&(n=Q(f[o],a[e]-('right'===e?f.width:f.height))),ae({},o,n)}};return l.forEach(function(e){var t=-1===['left','top'].indexOf(e)?'secondary':'primary';f=le({},f,m[t](e))}),e.offsets.popper=f,e},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,n=t.reference,i=e.placement.split('-')[0],r=Z,p=-1!==['top','bottom'].indexOf(i),s=p?'right':'bottom',d=p?'left':'top',a=p?'width':'height';return o[s]<r(n[d])&&(e.offsets.popper[d]=r(n[d])-o[a]),o[d]>r(n[s])&&(e.offsets.popper[d]=r(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,o){var n;if(!K(e.instance.modifiers,'arrow','keepTogether'))return e;var i=o.element;if('string'==typeof i){if(i=e.instance.popper.querySelector(i),!i)return e;}else if(!e.instance.popper.contains(i))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),e;var r=e.placement.split('-')[0],p=e.offsets,s=p.popper,d=p.reference,a=-1!==['left','right'].indexOf(r),l=a?'height':'width',f=a?'Top':'Left',m=f.toLowerCase(),h=a?'left':'top',c=a?'bottom':'right',u=S(i)[l];d[c]-u<s[m]&&(e.offsets.popper[m]-=s[m]-(d[c]-u)),d[m]+u>s[c]&&(e.offsets.popper[m]+=d[m]+u-s[c]),e.offsets.popper=g(e.offsets.popper);var b=d[m]+d[l]/2-u/2,w=t(e.instance.popper),y=parseFloat(w['margin'+f]),E=parseFloat(w['border'+f+'Width']),v=b-e.offsets.popper[m]-y-E;return v=ee(Q(s[l]-u,v),0),e.arrowElement=i,e.offsets.arrow=(n={},ae(n,m,$(v)),ae(n,h,''),n),e},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,'inner'))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split('-')[0],i=T(n),r=e.placement.split('-')[1]||'',p=[];switch(t.behavior){case ce.FLIP:p=[n,i];break;case ce.CLOCKWISE:p=G(n);break;case ce.COUNTERCLOCKWISE:p=G(n,!0);break;default:p=t.behavior;}return p.forEach(function(s,d){if(n!==s||p.length===d+1)return e;n=e.placement.split('-')[0],i=T(n);var a=e.offsets.popper,l=e.offsets.reference,f=Z,m='left'===n&&f(a.right)>f(l.left)||'right'===n&&f(a.left)<f(l.right)||'top'===n&&f(a.bottom)>f(l.top)||'bottom'===n&&f(a.top)<f(l.bottom),h=f(a.left)<f(o.left),c=f(a.right)>f(o.right),g=f(a.top)<f(o.top),u=f(a.bottom)>f(o.bottom),b='left'===n&&h||'right'===n&&c||'top'===n&&g||'bottom'===n&&u,w=-1!==['top','bottom'].indexOf(n),y=!!t.flipVariations&&(w&&'start'===r&&h||w&&'end'===r&&c||!w&&'start'===r&&g||!w&&'end'===r&&u),E=!!t.flipVariationsByContent&&(w&&'start'===r&&c||w&&'end'===r&&h||!w&&'start'===r&&u||!w&&'end'===r&&g),v=y||E;(m||b||v)&&(e.flipped=!0,(m||b)&&(n=p[d+1]),v&&(r=z(r)),e.placement=n+(r?'-'+r:''),e.offsets.popper=le({},e.offsets.popper,C(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,'flip'))}),e},behavior:'flip',padding:5,boundariesElement:'viewport',flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split('-')[0],n=e.offsets,i=n.popper,r=n.reference,p=-1!==['left','right'].indexOf(o),s=-1===['top','left'].indexOf(o);return i[p?'left':'top']=r[o]-(s?i[p?'width':'height']:0),e.placement=T(t),e.offsets.popper=g(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,'hide','preventOverflow'))return e;var t=e.offsets.reference,o=D(e.instance.modifiers,function(e){return'preventOverflow'===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes['x-out-of-boundaries']=''}else{if(!1===e.hide)return e;e.hide=!1,e.attributes['x-out-of-boundaries']=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,n=t.y,i=e.offsets.popper,r=D(e.instance.modifiers,function(e){return'applyStyle'===e.name}).gpuAcceleration;void 0!==r&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var s,d,a=void 0===r?t.gpuAcceleration:r,l=p(e.instance.popper),f=u(l),m={position:i.position},h=q(e,2>window.devicePixelRatio||!fe),c='bottom'===o?'top':'bottom',g='right'===n?'left':'right',b=B('transform');if(d='bottom'==c?'HTML'===l.nodeName?-l.clientHeight+h.bottom:-f.height+h.bottom:h.top,s='right'==g?'HTML'===l.nodeName?-l.clientWidth+h.right:-f.width+h.right:h.left,a&&b)m[b]='translate3d('+s+'px, '+d+'px, 0)',m[c]=0,m[g]=0,m.willChange='transform';else{var w='bottom'==c?-1:1,y='right'==g?-1:1;m[c]=d*w,m[g]=s*y,m.willChange=c+', '+g}var E={"x-placement":e.placement};return e.attributes=le({},E,e.attributes),e.styles=le({},m,e.styles),e.arrowStyles=le({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(e){return V(e.instance.popper,e.styles),j(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&V(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,o,n,i){var r=L(i,t,e,o.positionFixed),p=O(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute('x-placement',p),V(t,{position:o.positionFixed?'fixed':'absolute'}),o},gpuAcceleration:void 0}}},ge});
//# sourceMappingURL=popper.min.js.map
/*!
 * Bootstrap v4.5.2 (https://getbootstrap.com/)
 * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 */
! function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports, require("jquery"), require("popper.js")) : "function" == typeof define && define.amd ? define(["exports", "jquery", "popper.js"], e) : e((t = "undefined" != typeof globalThis ? globalThis : t || self).bootstrap = {}, t.jQuery, t.Popper)
}(this, (function(t, e, n) {
    "use strict";

    function i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function o(t, e, n) {
        return e && i(t.prototype, e), n && i(t, n), t
    }

    function s() {
        return (s = Object.assign || function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var n = arguments[e];
                for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])
            }
            return t
        }).apply(this, arguments)
    }
    e = e && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e, n = n && Object.prototype.hasOwnProperty.call(n, "default") ? n.default : n;

    function r(t) {
        var n = this,
            i = !1;
        return e(this).one(a.TRANSITION_END, (function() {
            i = !0
        })), setTimeout((function() {
            i || a.triggerTransitionEnd(n)
        }), t), this
    }
    var a = {
        TRANSITION_END: "bsTransitionEnd",
        getUID: function(t) {
            do {
                t += ~~(1e6 * Math.random())
            } while (document.getElementById(t));
            return t
        },
        getSelectorFromElement: function(t) {
            var e = t.getAttribute("data-target");
            if (!e || "#" === e) {
                var n = t.getAttribute("href");
                e = n && "#" !== n ? n.trim() : ""
            }
            try {
                return document.querySelector(e) ? e : null
            } catch (t) {
                return null
            }
        },
        getTransitionDurationFromElement: function(t) {
            if (!t) return 0;
            var n = e(t).css("transition-duration"),
                i = e(t).css("transition-delay"),
                o = parseFloat(n),
                s = parseFloat(i);
            return o || s ? (n = n.split(",")[0], i = i.split(",")[0], 1e3 * (parseFloat(n) + parseFloat(i))) : 0
        },
        reflow: function(t) {
            return t.offsetHeight
        },
        triggerTransitionEnd: function(t) {
            e(t).trigger("transitionend")
        },
        supportsTransitionEnd: function() {
            return Boolean("transitionend")
        },
        isElement: function(t) {
            return (t[0] || t).nodeType
        },
        typeCheckConfig: function(t, e, n) {
            for (var i in n)
                if (Object.prototype.hasOwnProperty.call(n, i)) {
                    var o = n[i],
                        s = e[i],
                        r = s && a.isElement(s) ? "element" : null === (l = s) || "undefined" == typeof l ? "" + l : {}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase();
                    if (!new RegExp(o).test(r)) throw new Error(t.toUpperCase() + ': Option "' + i + '" provided type "' + r + '" but expected type "' + o + '".')
                } var l
        },
        findShadowRoot: function(t) {
            if (!document.documentElement.attachShadow) return null;
            if ("function" == typeof t.getRootNode) {
                var e = t.getRootNode();
                return e instanceof ShadowRoot ? e : null
            }
            return t instanceof ShadowRoot ? t : t.parentNode ? a.findShadowRoot(t.parentNode) : null
        },
        jQueryDetection: function() {
            if ("undefined" == typeof e) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");
            var t = e.fn.jquery.split(" ")[0].split(".");
            if (t[0] < 2 && t[1] < 9 || 1 === t[0] && 9 === t[1] && t[2] < 1 || t[0] >= 4) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")
        }
    };
    a.jQueryDetection(), e.fn.emulateTransitionEnd = r, e.event.special[a.TRANSITION_END] = {
        bindType: "transitionend",
        delegateType: "transitionend",
        handle: function(t) {
            if (e(t.target).is(this)) return t.handleObj.handler.apply(this, arguments)
        }
    };
    var l = "alert",
        c = e.fn[l],
        h = function() {
            function t(t) {
                this._element = t
            }
            var n = t.prototype;
            return n.close = function(t) {
                var e = this._element;
                t && (e = this._getRootElement(t)), this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e)
            }, n.dispose = function() {
                e.removeData(this._element, "bs.alert"), this._element = null
            }, n._getRootElement = function(t) {
                var n = a.getSelectorFromElement(t),
                    i = !1;
                return n && (i = document.querySelector(n)), i || (i = e(t).closest(".alert")[0]), i
            }, n._triggerCloseEvent = function(t) {
                var n = e.Event("close.bs.alert");
                return e(t).trigger(n), n
            }, n._removeElement = function(t) {
                var n = this;
                if (e(t).removeClass("show"), e(t).hasClass("fade")) {
                    var i = a.getTransitionDurationFromElement(t);
                    e(t).one(a.TRANSITION_END, (function(e) {
                        return n._destroyElement(t, e)
                    })).emulateTransitionEnd(i)
                } else this._destroyElement(t)
            }, n._destroyElement = function(t) {
                e(t).detach().trigger("closed.bs.alert").remove()
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this),
                        o = i.data("bs.alert");
                    o || (o = new t(this), i.data("bs.alert", o)), "close" === n && o[n](this)
                }))
            }, t._handleDismiss = function(t) {
                return function(e) {
                    e && e.preventDefault(), t.close(this)
                }
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }]), t
        }();
    e(document).on("click.bs.alert.data-api", '[data-dismiss="alert"]', h._handleDismiss(new h)), e.fn[l] = h._jQueryInterface, e.fn[l].Constructor = h, e.fn[l].noConflict = function() {
        return e.fn[l] = c, h._jQueryInterface
    };
    var u = e.fn.button,
        d = function() {
            function t(t) {
                this._element = t
            }
            var n = t.prototype;
            return n.toggle = function() {
                var t = !0,
                    n = !0,
                    i = e(this._element).closest('[data-toggle="buttons"]')[0];
                if (i) {
                    var o = this._element.querySelector('input:not([type="hidden"])');
                    if (o) {
                        if ("radio" === o.type)
                            if (o.checked && this._element.classList.contains("active")) t = !1;
                            else {
                                var s = i.querySelector(".active");
                                s && e(s).removeClass("active")
                            } t && ("checkbox" !== o.type && "radio" !== o.type || (o.checked = !this._element.classList.contains("active")), e(o).trigger("change")), o.focus(), n = !1
                    }
                }
                this._element.hasAttribute("disabled") || this._element.classList.contains("disabled") || (n && this._element.setAttribute("aria-pressed", !this._element.classList.contains("active")), t && e(this._element).toggleClass("active"))
            }, n.dispose = function() {
                e.removeData(this._element, "bs.button"), this._element = null
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this).data("bs.button");
                    i || (i = new t(this), e(this).data("bs.button", i)), "toggle" === n && i[n]()
                }))
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }]), t
        }();
    e(document).on("click.bs.button.data-api", '[data-toggle^="button"]', (function(t) {
        var n = t.target,
            i = n;
        if (e(n).hasClass("btn") || (n = e(n).closest(".btn")[0]), !n || n.hasAttribute("disabled") || n.classList.contains("disabled")) t.preventDefault();
        else {
            var o = n.querySelector('input:not([type="hidden"])');
            if (o && (o.hasAttribute("disabled") || o.classList.contains("disabled"))) return void t.preventDefault();
            ("LABEL" !== i.tagName || o && "checkbox" !== o.type) && d._jQueryInterface.call(e(n), "toggle")
        }
    })).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', (function(t) {
        var n = e(t.target).closest(".btn")[0];
        e(n).toggleClass("focus", /^focus(in)?$/.test(t.type))
    })), e(window).on("load.bs.button.data-api", (function() {
        for (var t = [].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')), e = 0, n = t.length; e < n; e++) {
            var i = t[e],
                o = i.querySelector('input:not([type="hidden"])');
            o.checked || o.hasAttribute("checked") ? i.classList.add("active") : i.classList.remove("active")
        }
        for (var s = 0, r = (t = [].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length; s < r; s++) {
            var a = t[s];
            "true" === a.getAttribute("aria-pressed") ? a.classList.add("active") : a.classList.remove("active")
        }
    })), e.fn.button = d._jQueryInterface, e.fn.button.Constructor = d, e.fn.button.noConflict = function() {
        return e.fn.button = u, d._jQueryInterface
    };
    var f = "carousel",
        g = ".bs.carousel",
        m = e.fn[f],
        p = {
            interval: 5e3,
            keyboard: !0,
            slide: !1,
            pause: "hover",
            wrap: !0,
            touch: !0
        },
        _ = {
            interval: "(number|boolean)",
            keyboard: "boolean",
            slide: "(boolean|string)",
            pause: "(string|boolean)",
            wrap: "boolean",
            touch: "boolean"
        },
        v = {
            TOUCH: "touch",
            PEN: "pen"
        },
        b = function() {
            function t(t, e) {
                this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this.touchStartX = 0, this.touchDeltaX = 0, this._config = this._getConfig(e), this._element = t, this._indicatorsElement = this._element.querySelector(".carousel-indicators"), this._touchSupported = "ontouchstart" in document.documentElement || navigator.maxTouchPoints > 0, this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent), this._addEventListeners()
            }
            var n = t.prototype;
            return n.next = function() {
                this._isSliding || this._slide("next")
            }, n.nextWhenVisible = function() {
                !document.hidden && e(this._element).is(":visible") && "hidden" !== e(this._element).css("visibility") && this.next()
            }, n.prev = function() {
                this._isSliding || this._slide("prev")
            }, n.pause = function(t) {
                t || (this._isPaused = !0), this._element.querySelector(".carousel-item-next, .carousel-item-prev") && (a.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null
            }, n.cycle = function(t) {
                t || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval))
            }, n.to = function(t) {
                var n = this;
                this._activeElement = this._element.querySelector(".active.carousel-item");
                var i = this._getItemIndex(this._activeElement);
                if (!(t > this._items.length - 1 || t < 0))
                    if (this._isSliding) e(this._element).one("slid.bs.carousel", (function() {
                        return n.to(t)
                    }));
                    else {
                        if (i === t) return this.pause(), void this.cycle();
                        var o = t > i ? "next" : "prev";
                        this._slide(o, this._items[t])
                    }
            }, n.dispose = function() {
                e(this._element).off(g), e.removeData(this._element, "bs.carousel"), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null
            }, n._getConfig = function(t) {
                return t = s({}, p, t), a.typeCheckConfig(f, t, _), t
            }, n._handleSwipe = function() {
                var t = Math.abs(this.touchDeltaX);
                if (!(t <= 40)) {
                    var e = t / this.touchDeltaX;
                    this.touchDeltaX = 0, e > 0 && this.prev(), e < 0 && this.next()
                }
            }, n._addEventListeners = function() {
                var t = this;
                this._config.keyboard && e(this._element).on("keydown.bs.carousel", (function(e) {
                    return t._keydown(e)
                })), "hover" === this._config.pause && e(this._element).on("mouseenter.bs.carousel", (function(e) {
                    return t.pause(e)
                })).on("mouseleave.bs.carousel", (function(e) {
                    return t.cycle(e)
                })), this._config.touch && this._addTouchEventListeners()
            }, n._addTouchEventListeners = function() {
                var t = this;
                if (this._touchSupported) {
                    var n = function(e) {
                            t._pointerEvent && v[e.originalEvent.pointerType.toUpperCase()] ? t.touchStartX = e.originalEvent.clientX : t._pointerEvent || (t.touchStartX = e.originalEvent.touches[0].clientX)
                        },
                        i = function(e) {
                            t._pointerEvent && v[e.originalEvent.pointerType.toUpperCase()] && (t.touchDeltaX = e.originalEvent.clientX - t.touchStartX), t._handleSwipe(), "hover" === t._config.pause && (t.pause(), t.touchTimeout && clearTimeout(t.touchTimeout), t.touchTimeout = setTimeout((function(e) {
                                return t.cycle(e)
                            }), 500 + t._config.interval))
                        };
                    e(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel", (function(t) {
                        return t.preventDefault()
                    })), this._pointerEvent ? (e(this._element).on("pointerdown.bs.carousel", (function(t) {
                        return n(t)
                    })), e(this._element).on("pointerup.bs.carousel", (function(t) {
                        return i(t)
                    })), this._element.classList.add("pointer-event")) : (e(this._element).on("touchstart.bs.carousel", (function(t) {
                        return n(t)
                    })), e(this._element).on("touchmove.bs.carousel", (function(e) {
                        return function(e) {
                            e.originalEvent.touches && e.originalEvent.touches.length > 1 ? t.touchDeltaX = 0 : t.touchDeltaX = e.originalEvent.touches[0].clientX - t.touchStartX
                        }(e)
                    })), e(this._element).on("touchend.bs.carousel", (function(t) {
                        return i(t)
                    })))
                }
            }, n._keydown = function(t) {
                if (!/input|textarea/i.test(t.target.tagName)) switch (t.which) {
                    case 37:
                        t.preventDefault(), this.prev();
                        break;
                    case 39:
                        t.preventDefault(), this.next()
                }
            }, n._getItemIndex = function(t) {
                return this._items = t && t.parentNode ? [].slice.call(t.parentNode.querySelectorAll(".carousel-item")) : [], this._items.indexOf(t)
            }, n._getItemByDirection = function(t, e) {
                var n = "next" === t,
                    i = "prev" === t,
                    o = this._getItemIndex(e),
                    s = this._items.length - 1;
                if ((i && 0 === o || n && o === s) && !this._config.wrap) return e;
                var r = (o + ("prev" === t ? -1 : 1)) % this._items.length;
                return -1 === r ? this._items[this._items.length - 1] : this._items[r]
            }, n._triggerSlideEvent = function(t, n) {
                var i = this._getItemIndex(t),
                    o = this._getItemIndex(this._element.querySelector(".active.carousel-item")),
                    s = e.Event("slide.bs.carousel", {
                        relatedTarget: t,
                        direction: n,
                        from: o,
                        to: i
                    });
                return e(this._element).trigger(s), s
            }, n._setActiveIndicatorElement = function(t) {
                if (this._indicatorsElement) {
                    var n = [].slice.call(this._indicatorsElement.querySelectorAll(".active"));
                    e(n).removeClass("active");
                    var i = this._indicatorsElement.children[this._getItemIndex(t)];
                    i && e(i).addClass("active")
                }
            }, n._slide = function(t, n) {
                var i, o, s, r = this,
                    l = this._element.querySelector(".active.carousel-item"),
                    c = this._getItemIndex(l),
                    h = n || l && this._getItemByDirection(t, l),
                    u = this._getItemIndex(h),
                    d = Boolean(this._interval);
                if ("next" === t ? (i = "carousel-item-left", o = "carousel-item-next", s = "left") : (i = "carousel-item-right", o = "carousel-item-prev", s = "right"), h && e(h).hasClass("active")) this._isSliding = !1;
                else if (!this._triggerSlideEvent(h, s).isDefaultPrevented() && l && h) {
                    this._isSliding = !0, d && this.pause(), this._setActiveIndicatorElement(h);
                    var f = e.Event("slid.bs.carousel", {
                        relatedTarget: h,
                        direction: s,
                        from: c,
                        to: u
                    });
                    if (e(this._element).hasClass("slide")) {
                        e(h).addClass(o), a.reflow(h), e(l).addClass(i), e(h).addClass(i);
                        var g = parseInt(h.getAttribute("data-interval"), 10);
                        g ? (this._config.defaultInterval = this._config.defaultInterval || this._config.interval, this._config.interval = g) : this._config.interval = this._config.defaultInterval || this._config.interval;
                        var m = a.getTransitionDurationFromElement(l);
                        e(l).one(a.TRANSITION_END, (function() {
                            e(h).removeClass(i + " " + o).addClass("active"), e(l).removeClass("active " + o + " " + i), r._isSliding = !1, setTimeout((function() {
                                return e(r._element).trigger(f)
                            }), 0)
                        })).emulateTransitionEnd(m)
                    } else e(l).removeClass("active"), e(h).addClass("active"), this._isSliding = !1, e(this._element).trigger(f);
                    d && this.cycle()
                }
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this).data("bs.carousel"),
                        o = s({}, p, e(this).data());
                    "object" == typeof n && (o = s({}, o, n));
                    var r = "string" == typeof n ? n : o.slide;
                    if (i || (i = new t(this, o), e(this).data("bs.carousel", i)), "number" == typeof n) i.to(n);
                    else if ("string" == typeof r) {
                        if ("undefined" == typeof i[r]) throw new TypeError('No method named "' + r + '"');
                        i[r]()
                    } else o.interval && o.ride && (i.pause(), i.cycle())
                }))
            }, t._dataApiClickHandler = function(n) {
                var i = a.getSelectorFromElement(this);
                if (i) {
                    var o = e(i)[0];
                    if (o && e(o).hasClass("carousel")) {
                        var r = s({}, e(o).data(), e(this).data()),
                            l = this.getAttribute("data-slide-to");
                        l && (r.interval = !1), t._jQueryInterface.call(e(o), r), l && e(o).data("bs.carousel").to(l), n.preventDefault()
                    }
                }
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return p
                }
            }]), t
        }();
    e(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", b._dataApiClickHandler), e(window).on("load.bs.carousel.data-api", (function() {
        for (var t = [].slice.call(document.querySelectorAll('[data-ride="carousel"]')), n = 0, i = t.length; n < i; n++) {
            var o = e(t[n]);
            b._jQueryInterface.call(o, o.data())
        }
    })), e.fn[f] = b._jQueryInterface, e.fn[f].Constructor = b, e.fn[f].noConflict = function() {
        return e.fn[f] = m, b._jQueryInterface
    };
    var y = "collapse",
        E = e.fn[y],
        w = {
            toggle: !0,
            parent: ""
        },
        T = {
            toggle: "boolean",
            parent: "(string|element)"
        },
        C = function() {
            function t(t, e) {
                this._isTransitioning = !1, this._element = t, this._config = this._getConfig(e), this._triggerArray = [].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]'));
                for (var n = [].slice.call(document.querySelectorAll('[data-toggle="collapse"]')), i = 0, o = n.length; i < o; i++) {
                    var s = n[i],
                        r = a.getSelectorFromElement(s),
                        l = [].slice.call(document.querySelectorAll(r)).filter((function(e) {
                            return e === t
                        }));
                    null !== r && l.length > 0 && (this._selector = r, this._triggerArray.push(s))
                }
                this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle()
            }
            var n = t.prototype;
            return n.toggle = function() {
                e(this._element).hasClass("show") ? this.hide() : this.show()
            }, n.show = function() {
                var n, i, o = this;
                if (!this._isTransitioning && !e(this._element).hasClass("show") && (this._parent && 0 === (n = [].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t) {
                        return "string" == typeof o._config.parent ? t.getAttribute("data-parent") === o._config.parent : t.classList.contains("collapse")
                    }))).length && (n = null), !(n && (i = e(n).not(this._selector).data("bs.collapse")) && i._isTransitioning))) {
                    var s = e.Event("show.bs.collapse");
                    if (e(this._element).trigger(s), !s.isDefaultPrevented()) {
                        n && (t._jQueryInterface.call(e(n).not(this._selector), "hide"), i || e(n).data("bs.collapse", null));
                        var r = this._getDimension();
                        e(this._element).removeClass("collapse").addClass("collapsing"), this._element.style[r] = 0, this._triggerArray.length && e(this._triggerArray).removeClass("collapsed").attr("aria-expanded", !0), this.setTransitioning(!0);
                        var l = "scroll" + (r[0].toUpperCase() + r.slice(1)),
                            c = a.getTransitionDurationFromElement(this._element);
                        e(this._element).one(a.TRANSITION_END, (function() {
                            e(o._element).removeClass("collapsing").addClass("collapse show"), o._element.style[r] = "", o.setTransitioning(!1), e(o._element).trigger("shown.bs.collapse")
                        })).emulateTransitionEnd(c), this._element.style[r] = this._element[l] + "px"
                    }
                }
            }, n.hide = function() {
                var t = this;
                if (!this._isTransitioning && e(this._element).hasClass("show")) {
                    var n = e.Event("hide.bs.collapse");
                    if (e(this._element).trigger(n), !n.isDefaultPrevented()) {
                        var i = this._getDimension();
                        this._element.style[i] = this._element.getBoundingClientRect()[i] + "px", a.reflow(this._element), e(this._element).addClass("collapsing").removeClass("collapse show");
                        var o = this._triggerArray.length;
                        if (o > 0)
                            for (var s = 0; s < o; s++) {
                                var r = this._triggerArray[s],
                                    l = a.getSelectorFromElement(r);
                                if (null !== l) e([].slice.call(document.querySelectorAll(l))).hasClass("show") || e(r).addClass("collapsed").attr("aria-expanded", !1)
                            }
                        this.setTransitioning(!0);
                        this._element.style[i] = "";
                        var c = a.getTransitionDurationFromElement(this._element);
                        e(this._element).one(a.TRANSITION_END, (function() {
                            t.setTransitioning(!1), e(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                        })).emulateTransitionEnd(c)
                    }
                }
            }, n.setTransitioning = function(t) {
                this._isTransitioning = t
            }, n.dispose = function() {
                e.removeData(this._element, "bs.collapse"), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null
            }, n._getConfig = function(t) {
                return (t = s({}, w, t)).toggle = Boolean(t.toggle), a.typeCheckConfig(y, t, T), t
            }, n._getDimension = function() {
                return e(this._element).hasClass("width") ? "width" : "height"
            }, n._getParent = function() {
                var n, i = this;
                a.isElement(this._config.parent) ? (n = this._config.parent, "undefined" != typeof this._config.parent.jquery && (n = this._config.parent[0])) : n = document.querySelector(this._config.parent);
                var o = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]',
                    s = [].slice.call(n.querySelectorAll(o));
                return e(s).each((function(e, n) {
                    i._addAriaAndCollapsedClass(t._getTargetFromElement(n), [n])
                })), n
            }, n._addAriaAndCollapsedClass = function(t, n) {
                var i = e(t).hasClass("show");
                n.length && e(n).toggleClass("collapsed", !i).attr("aria-expanded", i)
            }, t._getTargetFromElement = function(t) {
                var e = a.getSelectorFromElement(t);
                return e ? document.querySelector(e) : null
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this),
                        o = i.data("bs.collapse"),
                        r = s({}, w, i.data(), "object" == typeof n && n ? n : {});
                    if (!o && r.toggle && "string" == typeof n && /show|hide/.test(n) && (r.toggle = !1), o || (o = new t(this, r), i.data("bs.collapse", o)), "string" == typeof n) {
                        if ("undefined" == typeof o[n]) throw new TypeError('No method named "' + n + '"');
                        o[n]()
                    }
                }))
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return w
                }
            }]), t
        }();
    e(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', (function(t) {
        "A" === t.currentTarget.tagName && t.preventDefault();
        var n = e(this),
            i = a.getSelectorFromElement(this),
            o = [].slice.call(document.querySelectorAll(i));
        e(o).each((function() {
            var t = e(this),
                i = t.data("bs.collapse") ? "toggle" : n.data();
            C._jQueryInterface.call(t, i)
        }))
    })), e.fn[y] = C._jQueryInterface, e.fn[y].Constructor = C, e.fn[y].noConflict = function() {
        return e.fn[y] = E, C._jQueryInterface
    };
    var S = "dropdown",
        k = e.fn[S],
        D = new RegExp("38|40|27"),
        N = {
            offset: 0,
            flip: !0,
            boundary: "scrollParent",
            reference: "toggle",
            display: "dynamic",
            popperConfig: null
        },
        A = {
            offset: "(number|string|function)",
            flip: "boolean",
            boundary: "(string|element)",
            reference: "(string|element)",
            display: "string",
            popperConfig: "(null|object)"
        },
        I = function() {
            function t(t, e) {
                this._element = t, this._popper = null, this._config = this._getConfig(e), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners()
            }
            var i = t.prototype;
            return i.toggle = function() {
                if (!this._element.disabled && !e(this._element).hasClass("disabled")) {
                    var n = e(this._menu).hasClass("show");
                    t._clearMenus(), n || this.show(!0)
                }
            }, i.show = function(i) {
                if (void 0 === i && (i = !1), !(this._element.disabled || e(this._element).hasClass("disabled") || e(this._menu).hasClass("show"))) {
                    var o = {
                            relatedTarget: this._element
                        },
                        s = e.Event("show.bs.dropdown", o),
                        r = t._getParentFromElement(this._element);
                    if (e(r).trigger(s), !s.isDefaultPrevented()) {
                        if (!this._inNavbar && i) {
                            if ("undefined" == typeof n) throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");
                            var l = this._element;
                            "parent" === this._config.reference ? l = r : a.isElement(this._config.reference) && (l = this._config.reference, "undefined" != typeof this._config.reference.jquery && (l = this._config.reference[0])), "scrollParent" !== this._config.boundary && e(r).addClass("position-static"), this._popper = new n(l, this._menu, this._getPopperConfig())
                        }
                        "ontouchstart" in document.documentElement && 0 === e(r).closest(".navbar-nav").length && e(document.body).children().on("mouseover", null, e.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), e(this._menu).toggleClass("show"), e(r).toggleClass("show").trigger(e.Event("shown.bs.dropdown", o))
                    }
                }
            }, i.hide = function() {
                if (!this._element.disabled && !e(this._element).hasClass("disabled") && e(this._menu).hasClass("show")) {
                    var n = {
                            relatedTarget: this._element
                        },
                        i = e.Event("hide.bs.dropdown", n),
                        o = t._getParentFromElement(this._element);
                    e(o).trigger(i), i.isDefaultPrevented() || (this._popper && this._popper.destroy(), e(this._menu).toggleClass("show"), e(o).toggleClass("show").trigger(e.Event("hidden.bs.dropdown", n)))
                }
            }, i.dispose = function() {
                e.removeData(this._element, "bs.dropdown"), e(this._element).off(".bs.dropdown"), this._element = null, this._menu = null, null !== this._popper && (this._popper.destroy(), this._popper = null)
            }, i.update = function() {
                this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate()
            }, i._addEventListeners = function() {
                var t = this;
                e(this._element).on("click.bs.dropdown", (function(e) {
                    e.preventDefault(), e.stopPropagation(), t.toggle()
                }))
            }, i._getConfig = function(t) {
                return t = s({}, this.constructor.Default, e(this._element).data(), t), a.typeCheckConfig(S, t, this.constructor.DefaultType), t
            }, i._getMenuElement = function() {
                if (!this._menu) {
                    var e = t._getParentFromElement(this._element);
                    e && (this._menu = e.querySelector(".dropdown-menu"))
                }
                return this._menu
            }, i._getPlacement = function() {
                var t = e(this._element.parentNode),
                    n = "bottom-start";
                return t.hasClass("dropup") ? n = e(this._menu).hasClass("dropdown-menu-right") ? "top-end" : "top-start" : t.hasClass("dropright") ? n = "right-start" : t.hasClass("dropleft") ? n = "left-start" : e(this._menu).hasClass("dropdown-menu-right") && (n = "bottom-end"), n
            }, i._detectNavbar = function() {
                return e(this._element).closest(".navbar").length > 0
            }, i._getOffset = function() {
                var t = this,
                    e = {};
                return "function" == typeof this._config.offset ? e.fn = function(e) {
                    return e.offsets = s({}, e.offsets, t._config.offset(e.offsets, t._element) || {}), e
                } : e.offset = this._config.offset, e
            }, i._getPopperConfig = function() {
                var t = {
                    placement: this._getPlacement(),
                    modifiers: {
                        offset: this._getOffset(),
                        flip: {
                            enabled: this._config.flip
                        },
                        preventOverflow: {
                            boundariesElement: this._config.boundary
                        }
                    }
                };
                return "static" === this._config.display && (t.modifiers.applyStyle = {
                    enabled: !1
                }), s({}, t, this._config.popperConfig)
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this).data("bs.dropdown");
                    if (i || (i = new t(this, "object" == typeof n ? n : null), e(this).data("bs.dropdown", i)), "string" == typeof n) {
                        if ("undefined" == typeof i[n]) throw new TypeError('No method named "' + n + '"');
                        i[n]()
                    }
                }))
            }, t._clearMenus = function(n) {
                if (!n || 3 !== n.which && ("keyup" !== n.type || 9 === n.which))
                    for (var i = [].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')), o = 0, s = i.length; o < s; o++) {
                        var r = t._getParentFromElement(i[o]),
                            a = e(i[o]).data("bs.dropdown"),
                            l = {
                                relatedTarget: i[o]
                            };
                        if (n && "click" === n.type && (l.clickEvent = n), a) {
                            var c = a._menu;
                            if (e(r).hasClass("show") && !(n && ("click" === n.type && /input|textarea/i.test(n.target.tagName) || "keyup" === n.type && 9 === n.which) && e.contains(r, n.target))) {
                                var h = e.Event("hide.bs.dropdown", l);
                                e(r).trigger(h), h.isDefaultPrevented() || ("ontouchstart" in document.documentElement && e(document.body).children().off("mouseover", null, e.noop), i[o].setAttribute("aria-expanded", "false"), a._popper && a._popper.destroy(), e(c).removeClass("show"), e(r).removeClass("show").trigger(e.Event("hidden.bs.dropdown", l)))
                            }
                        }
                    }
            }, t._getParentFromElement = function(t) {
                var e, n = a.getSelectorFromElement(t);
                return n && (e = document.querySelector(n)), e || t.parentNode
            }, t._dataApiKeydownHandler = function(n) {
                if (!(/input|textarea/i.test(n.target.tagName) ? 32 === n.which || 27 !== n.which && (40 !== n.which && 38 !== n.which || e(n.target).closest(".dropdown-menu").length) : !D.test(n.which)) && !this.disabled && !e(this).hasClass("disabled")) {
                    var i = t._getParentFromElement(this),
                        o = e(i).hasClass("show");
                    if (o || 27 !== n.which) {
                        if (n.preventDefault(), n.stopPropagation(), !o || o && (27 === n.which || 32 === n.which)) return 27 === n.which && e(i.querySelector('[data-toggle="dropdown"]')).trigger("focus"), void e(this).trigger("click");
                        var s = [].slice.call(i.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t) {
                            return e(t).is(":visible")
                        }));
                        if (0 !== s.length) {
                            var r = s.indexOf(n.target);
                            38 === n.which && r > 0 && r--, 40 === n.which && r < s.length - 1 && r++, r < 0 && (r = 0), s[r].focus()
                        }
                    }
                }
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return N
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return A
                }
            }]), t
        }();
    e(document).on("keydown.bs.dropdown.data-api", '[data-toggle="dropdown"]', I._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api", ".dropdown-menu", I._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api", I._clearMenus).on("click.bs.dropdown.data-api", '[data-toggle="dropdown"]', (function(t) {
        t.preventDefault(), t.stopPropagation(), I._jQueryInterface.call(e(this), "toggle")
    })).on("click.bs.dropdown.data-api", ".dropdown form", (function(t) {
        t.stopPropagation()
    })), e.fn[S] = I._jQueryInterface, e.fn[S].Constructor = I, e.fn[S].noConflict = function() {
        return e.fn[S] = k, I._jQueryInterface
    };
    var O = e.fn.modal,
        j = {
            backdrop: !0,
            keyboard: !0,
            focus: !0,
            show: !0
        },
        x = {
            backdrop: "(boolean|string)",
            keyboard: "boolean",
            focus: "boolean",
            show: "boolean"
        },
        P = function() {
            function t(t, e) {
                this._config = this._getConfig(e), this._element = t, this._dialog = t.querySelector(".modal-dialog"), this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._isTransitioning = !1, this._scrollbarWidth = 0
            }
            var n = t.prototype;
            return n.toggle = function(t) {
                return this._isShown ? this.hide() : this.show(t)
            }, n.show = function(t) {
                var n = this;
                if (!this._isShown && !this._isTransitioning) {
                    e(this._element).hasClass("fade") && (this._isTransitioning = !0);
                    var i = e.Event("show.bs.modal", {
                        relatedTarget: t
                    });
                    e(this._element).trigger(i), this._isShown || i.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), this._setEscapeEvent(), this._setResizeEvent(), e(this._element).on("click.dismiss.bs.modal", '[data-dismiss="modal"]', (function(t) {
                        return n.hide(t)
                    })), e(this._dialog).on("mousedown.dismiss.bs.modal", (function() {
                        e(n._element).one("mouseup.dismiss.bs.modal", (function(t) {
                            e(t.target).is(n._element) && (n._ignoreBackdropClick = !0)
                        }))
                    })), this._showBackdrop((function() {
                        return n._showElement(t)
                    })))
                }
            }, n.hide = function(t) {
                var n = this;
                if (t && t.preventDefault(), this._isShown && !this._isTransitioning) {
                    var i = e.Event("hide.bs.modal");
                    if (e(this._element).trigger(i), this._isShown && !i.isDefaultPrevented()) {
                        this._isShown = !1;
                        var o = e(this._element).hasClass("fade");
                        if (o && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), e(document).off("focusin.bs.modal"), e(this._element).removeClass("show"), e(this._element).off("click.dismiss.bs.modal"), e(this._dialog).off("mousedown.dismiss.bs.modal"), o) {
                            var s = a.getTransitionDurationFromElement(this._element);
                            e(this._element).one(a.TRANSITION_END, (function(t) {
                                return n._hideModal(t)
                            })).emulateTransitionEnd(s)
                        } else this._hideModal()
                    }
                }
            }, n.dispose = function() {
                [window, this._element, this._dialog].forEach((function(t) {
                    return e(t).off(".bs.modal")
                })), e(document).off("focusin.bs.modal"), e.removeData(this._element, "bs.modal"), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._isTransitioning = null, this._scrollbarWidth = null
            }, n.handleUpdate = function() {
                this._adjustDialog()
            }, n._getConfig = function(t) {
                return t = s({}, j, t), a.typeCheckConfig("modal", t, x), t
            }, n._triggerBackdropTransition = function() {
                var t = this;
                if ("static" === this._config.backdrop) {
                    var n = e.Event("hidePrevented.bs.modal");
                    if (e(this._element).trigger(n), n.defaultPrevented) return;
                    var i = this._element.scrollHeight > document.documentElement.clientHeight;
                    i || (this._element.style.overflowY = "hidden"), this._element.classList.add("modal-static");
                    var o = a.getTransitionDurationFromElement(this._dialog);
                    e(this._element).off(a.TRANSITION_END), e(this._element).one(a.TRANSITION_END, (function() {
                        t._element.classList.remove("modal-static"), i || e(t._element).one(a.TRANSITION_END, (function() {
                            t._element.style.overflowY = ""
                        })).emulateTransitionEnd(t._element, o)
                    })).emulateTransitionEnd(o), this._element.focus()
                } else this.hide()
            }, n._showElement = function(t) {
                var n = this,
                    i = e(this._element).hasClass("fade"),
                    o = this._dialog ? this._dialog.querySelector(".modal-body") : null;
                this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.setAttribute("aria-modal", !0), this._element.setAttribute("role", "dialog"), e(this._dialog).hasClass("modal-dialog-scrollable") && o ? o.scrollTop = 0 : this._element.scrollTop = 0, i && a.reflow(this._element), e(this._element).addClass("show"), this._config.focus && this._enforceFocus();
                var s = e.Event("shown.bs.modal", {
                        relatedTarget: t
                    }),
                    r = function() {
                        n._config.focus && n._element.focus(), n._isTransitioning = !1, e(n._element).trigger(s)
                    };
                if (i) {
                    var l = a.getTransitionDurationFromElement(this._dialog);
                    e(this._dialog).one(a.TRANSITION_END, r).emulateTransitionEnd(l)
                } else r()
            }, n._enforceFocus = function() {
                var t = this;
                e(document).off("focusin.bs.modal").on("focusin.bs.modal", (function(n) {
                    document !== n.target && t._element !== n.target && 0 === e(t._element).has(n.target).length && t._element.focus()
                }))
            }, n._setEscapeEvent = function() {
                var t = this;
                this._isShown ? e(this._element).on("keydown.dismiss.bs.modal", (function(e) {
                    t._config.keyboard && 27 === e.which ? (e.preventDefault(), t.hide()) : t._config.keyboard || 27 !== e.which || t._triggerBackdropTransition()
                })) : this._isShown || e(this._element).off("keydown.dismiss.bs.modal")
            }, n._setResizeEvent = function() {
                var t = this;
                this._isShown ? e(window).on("resize.bs.modal", (function(e) {
                    return t.handleUpdate(e)
                })) : e(window).off("resize.bs.modal")
            }, n._hideModal = function() {
                var t = this;
                this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._element.removeAttribute("aria-modal"), this._element.removeAttribute("role"), this._isTransitioning = !1, this._showBackdrop((function() {
                    e(document.body).removeClass("modal-open"), t._resetAdjustments(), t._resetScrollbar(), e(t._element).trigger("hidden.bs.modal")
                }))
            }, n._removeBackdrop = function() {
                this._backdrop && (e(this._backdrop).remove(), this._backdrop = null)
            }, n._showBackdrop = function(t) {
                var n = this,
                    i = e(this._element).hasClass("fade") ? "fade" : "";
                if (this._isShown && this._config.backdrop) {
                    if (this._backdrop = document.createElement("div"), this._backdrop.className = "modal-backdrop", i && this._backdrop.classList.add(i), e(this._backdrop).appendTo(document.body), e(this._element).on("click.dismiss.bs.modal", (function(t) {
                            n._ignoreBackdropClick ? n._ignoreBackdropClick = !1 : t.target === t.currentTarget && n._triggerBackdropTransition()
                        })), i && a.reflow(this._backdrop), e(this._backdrop).addClass("show"), !t) return;
                    if (!i) return void t();
                    var o = a.getTransitionDurationFromElement(this._backdrop);
                    e(this._backdrop).one(a.TRANSITION_END, t).emulateTransitionEnd(o)
                } else if (!this._isShown && this._backdrop) {
                    e(this._backdrop).removeClass("show");
                    var s = function() {
                        n._removeBackdrop(), t && t()
                    };
                    if (e(this._element).hasClass("fade")) {
                        var r = a.getTransitionDurationFromElement(this._backdrop);
                        e(this._backdrop).one(a.TRANSITION_END, s).emulateTransitionEnd(r)
                    } else s()
                } else t && t()
            }, n._adjustDialog = function() {
                var t = this._element.scrollHeight > document.documentElement.clientHeight;
                !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px")
            }, n._resetAdjustments = function() {
                this._element.style.paddingLeft = "", this._element.style.paddingRight = ""
            }, n._checkScrollbar = function() {
                var t = document.body.getBoundingClientRect();
                this._isBodyOverflowing = Math.round(t.left + t.right) < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth()
            }, n._setScrollbar = function() {
                var t = this;
                if (this._isBodyOverflowing) {
                    var n = [].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),
                        i = [].slice.call(document.querySelectorAll(".sticky-top"));
                    e(n).each((function(n, i) {
                        var o = i.style.paddingRight,
                            s = e(i).css("padding-right");
                        e(i).data("padding-right", o).css("padding-right", parseFloat(s) + t._scrollbarWidth + "px")
                    })), e(i).each((function(n, i) {
                        var o = i.style.marginRight,
                            s = e(i).css("margin-right");
                        e(i).data("margin-right", o).css("margin-right", parseFloat(s) - t._scrollbarWidth + "px")
                    }));
                    var o = document.body.style.paddingRight,
                        s = e(document.body).css("padding-right");
                    e(document.body).data("padding-right", o).css("padding-right", parseFloat(s) + this._scrollbarWidth + "px")
                }
                e(document.body).addClass("modal-open")
            }, n._resetScrollbar = function() {
                var t = [].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));
                e(t).each((function(t, n) {
                    var i = e(n).data("padding-right");
                    e(n).removeData("padding-right"), n.style.paddingRight = i || ""
                }));
                var n = [].slice.call(document.querySelectorAll(".sticky-top"));
                e(n).each((function(t, n) {
                    var i = e(n).data("margin-right");
                    "undefined" != typeof i && e(n).css("margin-right", i).removeData("margin-right")
                }));
                var i = e(document.body).data("padding-right");
                e(document.body).removeData("padding-right"), document.body.style.paddingRight = i || ""
            }, n._getScrollbarWidth = function() {
                var t = document.createElement("div");
                t.className = "modal-scrollbar-measure", document.body.appendChild(t);
                var e = t.getBoundingClientRect().width - t.clientWidth;
                return document.body.removeChild(t), e
            }, t._jQueryInterface = function(n, i) {
                return this.each((function() {
                    var o = e(this).data("bs.modal"),
                        r = s({}, j, e(this).data(), "object" == typeof n && n ? n : {});
                    if (o || (o = new t(this, r), e(this).data("bs.modal", o)), "string" == typeof n) {
                        if ("undefined" == typeof o[n]) throw new TypeError('No method named "' + n + '"');
                        o[n](i)
                    } else r.show && o.show(i)
                }))
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return j
                }
            }]), t
        }();
    e(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', (function(t) {
        var n, i = this,
            o = a.getSelectorFromElement(this);
        o && (n = document.querySelector(o));
        var r = e(n).data("bs.modal") ? "toggle" : s({}, e(n).data(), e(this).data());
        "A" !== this.tagName && "AREA" !== this.tagName || t.preventDefault();
        var l = e(n).one("show.bs.modal", (function(t) {
            t.isDefaultPrevented() || l.one("hidden.bs.modal", (function() {
                e(i).is(":visible") && i.focus()
            }))
        }));
        P._jQueryInterface.call(e(n), r, this)
    })), e.fn.modal = P._jQueryInterface, e.fn.modal.Constructor = P, e.fn.modal.noConflict = function() {
        return e.fn.modal = O, P._jQueryInterface
    };
    var R = ["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"],
        L = {
            "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i],
            a: ["target", "href", "title", "rel"],
            area: [],
            b: [],
            br: [],
            col: [],
            code: [],
            div: [],
            em: [],
            hr: [],
            h1: [],
            h2: [],
            h3: [],
            h4: [],
            h5: [],
            h6: [],
            i: [],
            img: ["src", "srcset", "alt", "title", "width", "height"],
            li: [],
            ol: [],
            p: [],
            pre: [],
            s: [],
            small: [],
            span: [],
            sub: [],
            sup: [],
            strong: [],
            u: [],
            ul: []
        },
        q = /^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,
        F = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;

    function Q(t, e, n) {
        if (0 === t.length) return t;
        if (n && "function" == typeof n) return n(t);
        for (var i = (new window.DOMParser).parseFromString(t, "text/html"), o = Object.keys(e), s = [].slice.call(i.body.querySelectorAll("*")), r = function(t, n) {
                var i = s[t],
                    r = i.nodeName.toLowerCase();
                if (-1 === o.indexOf(i.nodeName.toLowerCase())) return i.parentNode.removeChild(i), "continue";
                var a = [].slice.call(i.attributes),
                    l = [].concat(e["*"] || [], e[r] || []);
                a.forEach((function(t) {
                    (function(t, e) {
                        var n = t.nodeName.toLowerCase();
                        if (-1 !== e.indexOf(n)) return -1 === R.indexOf(n) || Boolean(t.nodeValue.match(q) || t.nodeValue.match(F));
                        for (var i = e.filter((function(t) {
                                return t instanceof RegExp
                            })), o = 0, s = i.length; o < s; o++)
                            if (n.match(i[o])) return !0;
                        return !1
                    })(t, l) || i.removeAttribute(t.nodeName)
                }))
            }, a = 0, l = s.length; a < l; a++) r(a);
        return i.body.innerHTML
    }
    var B = "tooltip",
        H = e.fn[B],
        U = new RegExp("(^|\\s)bs-tooltip\\S+", "g"),
        M = ["sanitize", "whiteList", "sanitizeFn"],
        W = {
            animation: "boolean",
            template: "string",
            title: "(string|element|function)",
            trigger: "string",
            delay: "(number|object)",
            html: "boolean",
            selector: "(string|boolean)",
            placement: "(string|function)",
            offset: "(number|string|function)",
            container: "(string|element|boolean)",
            fallbackPlacement: "(string|array)",
            boundary: "(string|element)",
            sanitize: "boolean",
            sanitizeFn: "(null|function)",
            whiteList: "object",
            popperConfig: "(null|object)"
        },
        V = {
            AUTO: "auto",
            TOP: "top",
            RIGHT: "right",
            BOTTOM: "bottom",
            LEFT: "left"
        },
        z = {
            animation: !0,
            template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
            trigger: "hover focus",
            title: "",
            delay: 0,
            html: !1,
            selector: !1,
            placement: "top",
            offset: 0,
            container: !1,
            fallbackPlacement: "flip",
            boundary: "scrollParent",
            sanitize: !0,
            sanitizeFn: null,
            whiteList: L,
            popperConfig: null
        },
        K = {
            HIDE: "hide.bs.tooltip",
            HIDDEN: "hidden.bs.tooltip",
            SHOW: "show.bs.tooltip",
            SHOWN: "shown.bs.tooltip",
            INSERTED: "inserted.bs.tooltip",
            CLICK: "click.bs.tooltip",
            FOCUSIN: "focusin.bs.tooltip",
            FOCUSOUT: "focusout.bs.tooltip",
            MOUSEENTER: "mouseenter.bs.tooltip",
            MOUSELEAVE: "mouseleave.bs.tooltip"
        },
        X = function() {
            function t(t, e) {
                if ("undefined" == typeof n) throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");
                this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = t, this.config = this._getConfig(e), this.tip = null, this._setListeners()
            }
            var i = t.prototype;
            return i.enable = function() {
                this._isEnabled = !0
            }, i.disable = function() {
                this._isEnabled = !1
            }, i.toggleEnabled = function() {
                this._isEnabled = !this._isEnabled
            }, i.toggle = function(t) {
                if (this._isEnabled)
                    if (t) {
                        var n = this.constructor.DATA_KEY,
                            i = e(t.currentTarget).data(n);
                        i || (i = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(n, i)), i._activeTrigger.click = !i._activeTrigger.click, i._isWithActiveTrigger() ? i._enter(null, i) : i._leave(null, i)
                    } else {
                        if (e(this.getTipElement()).hasClass("show")) return void this._leave(null, this);
                        this._enter(null, this)
                    }
            }, i.dispose = function() {
                clearTimeout(this._timeout), e.removeData(this.element, this.constructor.DATA_KEY), e(this.element).off(this.constructor.EVENT_KEY), e(this.element).closest(".modal").off("hide.bs.modal", this._hideModalHandler), this.tip && e(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, this._activeTrigger = null, this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null
            }, i.show = function() {
                var t = this;
                if ("none" === e(this.element).css("display")) throw new Error("Please use show on visible elements");
                var i = e.Event(this.constructor.Event.SHOW);
                if (this.isWithContent() && this._isEnabled) {
                    e(this.element).trigger(i);
                    var o = a.findShadowRoot(this.element),
                        s = e.contains(null !== o ? o : this.element.ownerDocument.documentElement, this.element);
                    if (i.isDefaultPrevented() || !s) return;
                    var r = this.getTipElement(),
                        l = a.getUID(this.constructor.NAME);
                    r.setAttribute("id", l), this.element.setAttribute("aria-describedby", l), this.setContent(), this.config.animation && e(r).addClass("fade");
                    var c = "function" == typeof this.config.placement ? this.config.placement.call(this, r, this.element) : this.config.placement,
                        h = this._getAttachment(c);
                    this.addAttachmentClass(h);
                    var u = this._getContainer();
                    e(r).data(this.constructor.DATA_KEY, this), e.contains(this.element.ownerDocument.documentElement, this.tip) || e(r).appendTo(u), e(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new n(this.element, r, this._getPopperConfig(h)), e(r).addClass("show"), "ontouchstart" in document.documentElement && e(document.body).children().on("mouseover", null, e.noop);
                    var d = function() {
                        t.config.animation && t._fixTransition();
                        var n = t._hoverState;
                        t._hoverState = null, e(t.element).trigger(t.constructor.Event.SHOWN), "out" === n && t._leave(null, t)
                    };
                    if (e(this.tip).hasClass("fade")) {
                        var f = a.getTransitionDurationFromElement(this.tip);
                        e(this.tip).one(a.TRANSITION_END, d).emulateTransitionEnd(f)
                    } else d()
                }
            }, i.hide = function(t) {
                var n = this,
                    i = this.getTipElement(),
                    o = e.Event(this.constructor.Event.HIDE),
                    s = function() {
                        "show" !== n._hoverState && i.parentNode && i.parentNode.removeChild(i), n._cleanTipClass(), n.element.removeAttribute("aria-describedby"), e(n.element).trigger(n.constructor.Event.HIDDEN), null !== n._popper && n._popper.destroy(), t && t()
                    };
                if (e(this.element).trigger(o), !o.isDefaultPrevented()) {
                    if (e(i).removeClass("show"), "ontouchstart" in document.documentElement && e(document.body).children().off("mouseover", null, e.noop), this._activeTrigger.click = !1, this._activeTrigger.focus = !1, this._activeTrigger.hover = !1, e(this.tip).hasClass("fade")) {
                        var r = a.getTransitionDurationFromElement(i);
                        e(i).one(a.TRANSITION_END, s).emulateTransitionEnd(r)
                    } else s();
                    this._hoverState = ""
                }
            }, i.update = function() {
                null !== this._popper && this._popper.scheduleUpdate()
            }, i.isWithContent = function() {
                return Boolean(this.getTitle())
            }, i.addAttachmentClass = function(t) {
                e(this.getTipElement()).addClass("bs-tooltip-" + t)
            }, i.getTipElement = function() {
                return this.tip = this.tip || e(this.config.template)[0], this.tip
            }, i.setContent = function() {
                var t = this.getTipElement();
                this.setElementContent(e(t.querySelectorAll(".tooltip-inner")), this.getTitle()), e(t).removeClass("fade show")
            }, i.setElementContent = function(t, n) {
                "object" != typeof n || !n.nodeType && !n.jquery ? this.config.html ? (this.config.sanitize && (n = Q(n, this.config.whiteList, this.config.sanitizeFn)), t.html(n)) : t.text(n) : this.config.html ? e(n).parent().is(t) || t.empty().append(n) : t.text(e(n).text())
            }, i.getTitle = function() {
                var t = this.element.getAttribute("data-original-title");
                return t || (t = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), t
            }, i._getPopperConfig = function(t) {
                var e = this;
                return s({}, {
                    placement: t,
                    modifiers: {
                        offset: this._getOffset(),
                        flip: {
                            behavior: this.config.fallbackPlacement
                        },
                        arrow: {
                            element: ".arrow"
                        },
                        preventOverflow: {
                            boundariesElement: this.config.boundary
                        }
                    },
                    onCreate: function(t) {
                        t.originalPlacement !== t.placement && e._handlePopperPlacementChange(t)
                    },
                    onUpdate: function(t) {
                        return e._handlePopperPlacementChange(t)
                    }
                }, this.config.popperConfig)
            }, i._getOffset = function() {
                var t = this,
                    e = {};
                return "function" == typeof this.config.offset ? e.fn = function(e) {
                    return e.offsets = s({}, e.offsets, t.config.offset(e.offsets, t.element) || {}), e
                } : e.offset = this.config.offset, e
            }, i._getContainer = function() {
                return !1 === this.config.container ? document.body : a.isElement(this.config.container) ? e(this.config.container) : e(document).find(this.config.container)
            }, i._getAttachment = function(t) {
                return V[t.toUpperCase()]
            }, i._setListeners = function() {
                var t = this;
                this.config.trigger.split(" ").forEach((function(n) {
                    if ("click" === n) e(t.element).on(t.constructor.Event.CLICK, t.config.selector, (function(e) {
                        return t.toggle(e)
                    }));
                    else if ("manual" !== n) {
                        var i = "hover" === n ? t.constructor.Event.MOUSEENTER : t.constructor.Event.FOCUSIN,
                            o = "hover" === n ? t.constructor.Event.MOUSELEAVE : t.constructor.Event.FOCUSOUT;
                        e(t.element).on(i, t.config.selector, (function(e) {
                            return t._enter(e)
                        })).on(o, t.config.selector, (function(e) {
                            return t._leave(e)
                        }))
                    }
                })), this._hideModalHandler = function() {
                    t.element && t.hide()
                }, e(this.element).closest(".modal").on("hide.bs.modal", this._hideModalHandler), this.config.selector ? this.config = s({}, this.config, {
                    trigger: "manual",
                    selector: ""
                }) : this._fixTitle()
            }, i._fixTitle = function() {
                var t = typeof this.element.getAttribute("data-original-title");
                (this.element.getAttribute("title") || "string" !== t) && (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", ""))
            }, i._enter = function(t, n) {
                var i = this.constructor.DATA_KEY;
                (n = n || e(t.currentTarget).data(i)) || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(i, n)), t && (n._activeTrigger["focusin" === t.type ? "focus" : "hover"] = !0), e(n.getTipElement()).hasClass("show") || "show" === n._hoverState ? n._hoverState = "show" : (clearTimeout(n._timeout), n._hoverState = "show", n.config.delay && n.config.delay.show ? n._timeout = setTimeout((function() {
                    "show" === n._hoverState && n.show()
                }), n.config.delay.show) : n.show())
            }, i._leave = function(t, n) {
                var i = this.constructor.DATA_KEY;
                (n = n || e(t.currentTarget).data(i)) || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(i, n)), t && (n._activeTrigger["focusout" === t.type ? "focus" : "hover"] = !1), n._isWithActiveTrigger() || (clearTimeout(n._timeout), n._hoverState = "out", n.config.delay && n.config.delay.hide ? n._timeout = setTimeout((function() {
                    "out" === n._hoverState && n.hide()
                }), n.config.delay.hide) : n.hide())
            }, i._isWithActiveTrigger = function() {
                for (var t in this._activeTrigger)
                    if (this._activeTrigger[t]) return !0;
                return !1
            }, i._getConfig = function(t) {
                var n = e(this.element).data();
                return Object.keys(n).forEach((function(t) {
                    -1 !== M.indexOf(t) && delete n[t]
                })), "number" == typeof(t = s({}, this.constructor.Default, n, "object" == typeof t && t ? t : {})).delay && (t.delay = {
                    show: t.delay,
                    hide: t.delay
                }), "number" == typeof t.title && (t.title = t.title.toString()), "number" == typeof t.content && (t.content = t.content.toString()), a.typeCheckConfig(B, t, this.constructor.DefaultType), t.sanitize && (t.template = Q(t.template, t.whiteList, t.sanitizeFn)), t
            }, i._getDelegateConfig = function() {
                var t = {};
                if (this.config)
                    for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]);
                return t
            }, i._cleanTipClass = function() {
                var t = e(this.getTipElement()),
                    n = t.attr("class").match(U);
                null !== n && n.length && t.removeClass(n.join(""))
            }, i._handlePopperPlacementChange = function(t) {
                this.tip = t.instance.popper, this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement))
            }, i._fixTransition = function() {
                var t = this.getTipElement(),
                    n = this.config.animation;
                null === t.getAttribute("x-placement") && (e(t).removeClass("fade"), this.config.animation = !1, this.hide(), this.show(), this.config.animation = n)
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this).data("bs.tooltip"),
                        o = "object" == typeof n && n;
                    if ((i || !/dispose|hide/.test(n)) && (i || (i = new t(this, o), e(this).data("bs.tooltip", i)), "string" == typeof n)) {
                        if ("undefined" == typeof i[n]) throw new TypeError('No method named "' + n + '"');
                        i[n]()
                    }
                }))
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return z
                }
            }, {
                key: "NAME",
                get: function() {
                    return B
                }
            }, {
                key: "DATA_KEY",
                get: function() {
                    return "bs.tooltip"
                }
            }, {
                key: "Event",
                get: function() {
                    return K
                }
            }, {
                key: "EVENT_KEY",
                get: function() {
                    return ".bs.tooltip"
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return W
                }
            }]), t
        }();
    e.fn[B] = X._jQueryInterface, e.fn[B].Constructor = X, e.fn[B].noConflict = function() {
        return e.fn[B] = H, X._jQueryInterface
    };
    var Y = "popover",
        $ = e.fn[Y],
        J = new RegExp("(^|\\s)bs-popover\\S+", "g"),
        G = s({}, X.Default, {
            placement: "right",
            trigger: "click",
            content: "",
            template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'
        }),
        Z = s({}, X.DefaultType, {
            content: "(string|element|function)"
        }),
        tt = {
            HIDE: "hide.bs.popover",
            HIDDEN: "hidden.bs.popover",
            SHOW: "show.bs.popover",
            SHOWN: "shown.bs.popover",
            INSERTED: "inserted.bs.popover",
            CLICK: "click.bs.popover",
            FOCUSIN: "focusin.bs.popover",
            FOCUSOUT: "focusout.bs.popover",
            MOUSEENTER: "mouseenter.bs.popover",
            MOUSELEAVE: "mouseleave.bs.popover"
        },
        et = function(t) {
            var n, i;

            function s() {
                return t.apply(this, arguments) || this
            }
            i = t, (n = s).prototype = Object.create(i.prototype), n.prototype.constructor = n, n.__proto__ = i;
            var r = s.prototype;
            return r.isWithContent = function() {
                return this.getTitle() || this._getContent()
            }, r.addAttachmentClass = function(t) {
                e(this.getTipElement()).addClass("bs-popover-" + t)
            }, r.getTipElement = function() {
                return this.tip = this.tip || e(this.config.template)[0], this.tip
            }, r.setContent = function() {
                var t = e(this.getTipElement());
                this.setElementContent(t.find(".popover-header"), this.getTitle());
                var n = this._getContent();
                "function" == typeof n && (n = n.call(this.element)), this.setElementContent(t.find(".popover-body"), n), t.removeClass("fade show")
            }, r._getContent = function() {
                return this.element.getAttribute("data-content") || this.config.content
            }, r._cleanTipClass = function() {
                var t = e(this.getTipElement()),
                    n = t.attr("class").match(J);
                null !== n && n.length > 0 && t.removeClass(n.join(""))
            }, s._jQueryInterface = function(t) {
                return this.each((function() {
                    var n = e(this).data("bs.popover"),
                        i = "object" == typeof t ? t : null;
                    if ((n || !/dispose|hide/.test(t)) && (n || (n = new s(this, i), e(this).data("bs.popover", n)), "string" == typeof t)) {
                        if ("undefined" == typeof n[t]) throw new TypeError('No method named "' + t + '"');
                        n[t]()
                    }
                }))
            }, o(s, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return G
                }
            }, {
                key: "NAME",
                get: function() {
                    return Y
                }
            }, {
                key: "DATA_KEY",
                get: function() {
                    return "bs.popover"
                }
            }, {
                key: "Event",
                get: function() {
                    return tt
                }
            }, {
                key: "EVENT_KEY",
                get: function() {
                    return ".bs.popover"
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return Z
                }
            }]), s
        }(X);
    e.fn[Y] = et._jQueryInterface, e.fn[Y].Constructor = et, e.fn[Y].noConflict = function() {
        return e.fn[Y] = $, et._jQueryInterface
    };
    var nt = "scrollspy",
        it = e.fn[nt],
        ot = {
            offset: 10,
            method: "auto",
            target: ""
        },
        st = {
            offset: "number",
            method: "string",
            target: "(string|element)"
        },
        rt = function() {
            function t(t, n) {
                var i = this;
                this._element = t, this._scrollElement = "BODY" === t.tagName ? window : t, this._config = this._getConfig(n), this._selector = this._config.target + " .nav-link," + this._config.target + " .list-group-item," + this._config.target + " .dropdown-item", this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, e(this._scrollElement).on("scroll.bs.scrollspy", (function(t) {
                    return i._process(t)
                })), this.refresh(), this._process()
            }
            var n = t.prototype;
            return n.refresh = function() {
                var t = this,
                    n = this._scrollElement === this._scrollElement.window ? "offset" : "position",
                    i = "auto" === this._config.method ? n : this._config.method,
                    o = "position" === i ? this._getScrollTop() : 0;
                this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), [].slice.call(document.querySelectorAll(this._selector)).map((function(t) {
                    var n, s = a.getSelectorFromElement(t);
                    if (s && (n = document.querySelector(s)), n) {
                        var r = n.getBoundingClientRect();
                        if (r.width || r.height) return [e(n)[i]().top + o, s]
                    }
                    return null
                })).filter((function(t) {
                    return t
                })).sort((function(t, e) {
                    return t[0] - e[0]
                })).forEach((function(e) {
                    t._offsets.push(e[0]), t._targets.push(e[1])
                }))
            }, n.dispose = function() {
                e.removeData(this._element, "bs.scrollspy"), e(this._scrollElement).off(".bs.scrollspy"), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null
            }, n._getConfig = function(t) {
                if ("string" != typeof(t = s({}, ot, "object" == typeof t && t ? t : {})).target && a.isElement(t.target)) {
                    var n = e(t.target).attr("id");
                    n || (n = a.getUID(nt), e(t.target).attr("id", n)), t.target = "#" + n
                }
                return a.typeCheckConfig(nt, t, st), t
            }, n._getScrollTop = function() {
                return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop
            }, n._getScrollHeight = function() {
                return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)
            }, n._getOffsetHeight = function() {
                return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height
            }, n._process = function() {
                var t = this._getScrollTop() + this._config.offset,
                    e = this._getScrollHeight(),
                    n = this._config.offset + e - this._getOffsetHeight();
                if (this._scrollHeight !== e && this.refresh(), t >= n) {
                    var i = this._targets[this._targets.length - 1];
                    this._activeTarget !== i && this._activate(i)
                } else {
                    if (this._activeTarget && t < this._offsets[0] && this._offsets[0] > 0) return this._activeTarget = null, void this._clear();
                    for (var o = this._offsets.length; o--;) {
                        this._activeTarget !== this._targets[o] && t >= this._offsets[o] && ("undefined" == typeof this._offsets[o + 1] || t < this._offsets[o + 1]) && this._activate(this._targets[o])
                    }
                }
            }, n._activate = function(t) {
                this._activeTarget = t, this._clear();
                var n = this._selector.split(",").map((function(e) {
                        return e + '[data-target="' + t + '"],' + e + '[href="' + t + '"]'
                    })),
                    i = e([].slice.call(document.querySelectorAll(n.join(","))));
                i.hasClass("dropdown-item") ? (i.closest(".dropdown").find(".dropdown-toggle").addClass("active"), i.addClass("active")) : (i.addClass("active"), i.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"), i.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")), e(this._scrollElement).trigger("activate.bs.scrollspy", {
                    relatedTarget: t
                })
            }, n._clear = function() {
                [].slice.call(document.querySelectorAll(this._selector)).filter((function(t) {
                    return t.classList.contains("active")
                })).forEach((function(t) {
                    return t.classList.remove("active")
                }))
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this).data("bs.scrollspy");
                    if (i || (i = new t(this, "object" == typeof n && n), e(this).data("bs.scrollspy", i)), "string" == typeof n) {
                        if ("undefined" == typeof i[n]) throw new TypeError('No method named "' + n + '"');
                        i[n]()
                    }
                }))
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "Default",
                get: function() {
                    return ot
                }
            }]), t
        }();
    e(window).on("load.bs.scrollspy.data-api", (function() {
        for (var t = [].slice.call(document.querySelectorAll('[data-spy="scroll"]')), n = t.length; n--;) {
            var i = e(t[n]);
            rt._jQueryInterface.call(i, i.data())
        }
    })), e.fn[nt] = rt._jQueryInterface, e.fn[nt].Constructor = rt, e.fn[nt].noConflict = function() {
        return e.fn[nt] = it, rt._jQueryInterface
    };
    var at = e.fn.tab,
        lt = function() {
            function t(t) {
                this._element = t
            }
            var n = t.prototype;
            return n.show = function() {
                var t = this;
                if (!(this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && e(this._element).hasClass("active") || e(this._element).hasClass("disabled"))) {
                    var n, i, o = e(this._element).closest(".nav, .list-group")[0],
                        s = a.getSelectorFromElement(this._element);
                    if (o) {
                        var r = "UL" === o.nodeName || "OL" === o.nodeName ? "> li > .active" : ".active";
                        i = (i = e.makeArray(e(o).find(r)))[i.length - 1]
                    }
                    var l = e.Event("hide.bs.tab", {
                            relatedTarget: this._element
                        }),
                        c = e.Event("show.bs.tab", {
                            relatedTarget: i
                        });
                    if (i && e(i).trigger(l), e(this._element).trigger(c), !c.isDefaultPrevented() && !l.isDefaultPrevented()) {
                        s && (n = document.querySelector(s)), this._activate(this._element, o);
                        var h = function() {
                            var n = e.Event("hidden.bs.tab", {
                                    relatedTarget: t._element
                                }),
                                o = e.Event("shown.bs.tab", {
                                    relatedTarget: i
                                });
                            e(i).trigger(n), e(t._element).trigger(o)
                        };
                        n ? this._activate(n, n.parentNode, h) : h()
                    }
                }
            }, n.dispose = function() {
                e.removeData(this._element, "bs.tab"), this._element = null
            }, n._activate = function(t, n, i) {
                var o = this,
                    s = (!n || "UL" !== n.nodeName && "OL" !== n.nodeName ? e(n).children(".active") : e(n).find("> li > .active"))[0],
                    r = i && s && e(s).hasClass("fade"),
                    l = function() {
                        return o._transitionComplete(t, s, i)
                    };
                if (s && r) {
                    var c = a.getTransitionDurationFromElement(s);
                    e(s).removeClass("show").one(a.TRANSITION_END, l).emulateTransitionEnd(c)
                } else l()
            }, n._transitionComplete = function(t, n, i) {
                if (n) {
                    e(n).removeClass("active");
                    var o = e(n.parentNode).find("> .dropdown-menu .active")[0];
                    o && e(o).removeClass("active"), "tab" === n.getAttribute("role") && n.setAttribute("aria-selected", !1)
                }
                if (e(t).addClass("active"), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), a.reflow(t), t.classList.contains("fade") && t.classList.add("show"), t.parentNode && e(t.parentNode).hasClass("dropdown-menu")) {
                    var s = e(t).closest(".dropdown")[0];
                    if (s) {
                        var r = [].slice.call(s.querySelectorAll(".dropdown-toggle"));
                        e(r).addClass("active")
                    }
                    t.setAttribute("aria-expanded", !0)
                }
                i && i()
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this),
                        o = i.data("bs.tab");
                    if (o || (o = new t(this), i.data("bs.tab", o)), "string" == typeof n) {
                        if ("undefined" == typeof o[n]) throw new TypeError('No method named "' + n + '"');
                        o[n]()
                    }
                }))
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }]), t
        }();
    e(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', (function(t) {
        t.preventDefault(), lt._jQueryInterface.call(e(this), "show")
    })), e.fn.tab = lt._jQueryInterface, e.fn.tab.Constructor = lt, e.fn.tab.noConflict = function() {
        return e.fn.tab = at, lt._jQueryInterface
    };
    var ct = e.fn.toast,
        ht = {
            animation: "boolean",
            autohide: "boolean",
            delay: "number"
        },
        ut = {
            animation: !0,
            autohide: !0,
            delay: 500
        },
        dt = function() {
            function t(t, e) {
                this._element = t, this._config = this._getConfig(e), this._timeout = null, this._setListeners()
            }
            var n = t.prototype;
            return n.show = function() {
                var t = this,
                    n = e.Event("show.bs.toast");
                if (e(this._element).trigger(n), !n.isDefaultPrevented()) {
                    this._clearTimeout(), this._config.animation && this._element.classList.add("fade");
                    var i = function() {
                        t._element.classList.remove("showing"), t._element.classList.add("show"), e(t._element).trigger("shown.bs.toast"), t._config.autohide && (t._timeout = setTimeout((function() {
                            t.hide()
                        }), t._config.delay))
                    };
                    if (this._element.classList.remove("hide"), a.reflow(this._element), this._element.classList.add("showing"), this._config.animation) {
                        var o = a.getTransitionDurationFromElement(this._element);
                        e(this._element).one(a.TRANSITION_END, i).emulateTransitionEnd(o)
                    } else i()
                }
            }, n.hide = function() {
                if (this._element.classList.contains("show")) {
                    var t = e.Event("hide.bs.toast");
                    e(this._element).trigger(t), t.isDefaultPrevented() || this._close()
                }
            }, n.dispose = function() {
                this._clearTimeout(), this._element.classList.contains("show") && this._element.classList.remove("show"), e(this._element).off("click.dismiss.bs.toast"), e.removeData(this._element, "bs.toast"), this._element = null, this._config = null
            }, n._getConfig = function(t) {
                return t = s({}, ut, e(this._element).data(), "object" == typeof t && t ? t : {}), a.typeCheckConfig("toast", t, this.constructor.DefaultType), t
            }, n._setListeners = function() {
                var t = this;
                e(this._element).on("click.dismiss.bs.toast", '[data-dismiss="toast"]', (function() {
                    return t.hide()
                }))
            }, n._close = function() {
                var t = this,
                    n = function() {
                        t._element.classList.add("hide"), e(t._element).trigger("hidden.bs.toast")
                    };
                if (this._element.classList.remove("show"), this._config.animation) {
                    var i = a.getTransitionDurationFromElement(this._element);
                    e(this._element).one(a.TRANSITION_END, n).emulateTransitionEnd(i)
                } else n()
            }, n._clearTimeout = function() {
                clearTimeout(this._timeout), this._timeout = null
            }, t._jQueryInterface = function(n) {
                return this.each((function() {
                    var i = e(this),
                        o = i.data("bs.toast");
                    if (o || (o = new t(this, "object" == typeof n && n), i.data("bs.toast", o)), "string" == typeof n) {
                        if ("undefined" == typeof o[n]) throw new TypeError('No method named "' + n + '"');
                        o[n](this)
                    }
                }))
            }, o(t, null, [{
                key: "VERSION",
                get: function() {
                    return "4.5.2"
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return ht
                }
            }, {
                key: "Default",
                get: function() {
                    return ut
                }
            }]), t
        }();
    e.fn.toast = dt._jQueryInterface, e.fn.toast.Constructor = dt, e.fn.toast.noConflict = function() {
        return e.fn.toast = ct, dt._jQueryInterface
    }, t.Alert = h, t.Button = d, t.Carousel = b, t.Collapse = C, t.Dropdown = I, t.Modal = P, t.Popover = et, t.Scrollspy = rt, t.Tab = lt, t.Toast = dt, t.Tooltip = X, t.Util = a, Object.defineProperty(t, "__esModule", {
        value: !0
    })
}));
//# sourceMappingURL=bootstrap.min.js.map
try{/*
 * This is the DataLayer that is passed to Ensighten for analytics.
 * This file is included directly into themes.html after the co:head section
 * Author: Varun Vinayak
 * Sample: globalDataLayer.setValue("key","value")
 */

/* ****This is the global datalayer object that holds the required key - value pairs & can be accessed by all the portlets ****  */
var globalDataLayer = {
    CountryCode: '',
    LanguageCode: '',
    Locale: '',
    WebSectionId: 'R11839',
    PfinderQuery: '',
    Template: '',
	chatBotAccessed: false,
	customerState: "Anonymous",
    swSniffedOSsupported: null,
    Document: {
        documentID: ""
    },
    Dashboard: {
        NoOfDevices: "",
        Products: [
            {
                audienceType: "",
                ProductLineCode: "",
                ProductModelNumber: "",
                SeriesName: "",
                SeriesOid: "",
                setValue: function (key, value) {
                    if (this.hasOwnProperty(key)) {
                        this[key] = value;
                    }
                }
            }
        ],
        SpecsMissing: [],
        setValue: function (key, value) {
            if (this.hasOwnProperty(key)) {
                this[key] = value;
            }
        }
    },
    Product: {
        bigSeriesName: "",
        bigSeriesOid: "",
        supportCategoryName: "",
        supportCategoryOid: "",
        seriesName: "",
        seriesOid: "",
        productLineCode: "",
        supportNameName: "",
        supportNameOid: "",
        platformId: "",
        webReleaseDate: "",
        serialNumber: "",
        productModelNumber:"",
        audienceType:"",
        setValue: function(key, value) {
            if (this.hasOwnProperty(key)) {
                this[key] = value;
            }
        }
    },
    Search: {
            Query:"",
            Redirect:"false",
            Count:"",
            Product: {
                    bigSeriesName: "",
                    bigSeriesOid: "",
                    supportCategoryName: "",
                    supportCategoryOid: "",
                    seriesName: "",
                    seriesOid: "",
                    productLineCode: "",
                    supportNameName: "",
                    supportNameOid: "",
                    platformId: "",
                    webReleaseDate: "",
                    serialNumber: "",
                    productModelNumber:"",
                    setValue: function(key, value) {
                        if (this.hasOwnProperty(key)) {
                            this[key] = value;
                        }
                    }
                },
            IDOLProduct:{
                productName:"",
                productTMSOID:"",
                productTMSClass:"",
                setValue: function(key, value) {
                        if (this.hasOwnProperty(key)) {
                            this[key] = value;
                        }
                    }
            },
            setValue: function(key, value) {
                if (this.hasOwnProperty(key)) {
                    this[key] = value;
                }
            }

    },
    DMD: {
        SSFInstalled: "",
        ProdCount: "",
        Products: [
            {
                "Pn": "",
                "Pl": "",
                "PName": "",
                "sOid": "",
                "pOid": "",
                "DetectMethod": "",
                setValue: function(key, value) {
                    if (this.hasOwnProperty(key)) {
                        this[key] = value;
                    }
                }
            }
        ],
        setValue: function(key, value) {
            if (this.hasOwnProperty(key)) {
                this[key] = value;
            }
        }
    },
    EntitlementResults: {
        EntResults:'',
        setValue: function(key, value) {
        }
    },
    ErrorCode: '',
    softwareDownloadedFileNames: '',
    IOG: [],
	sessionId:'',
	Flag: {
		dashboardVisited: false,
		documentViewed:	false,
		searchExecuted:	false,
		swdVisited:	false,
		contactHPVisited: false,
		identifyNowDmd: false,
		findSolutionsDmd: false,
		checkNowDmd: false,
		EASVisited: false,
		setValue: function(key, value) {
                    if (this.hasOwnProperty(key)) {
                        this[key] = value;
                    }
                }
  },
	chatBotWidgetId:'chatbotToronto',
    setValue: function(key, value) {
        if (this.hasOwnProperty(key)) {
            this[key] = value;
        }
    }
};

if(sessionStorage.DownloadType != undefined){
    globalDataLayer.DownloadType = sessionStorage.DownloadType;
}

/**
 * R192-367: Global Data Layer sharing between Websphere WCC and AWS WCC applications --
 * The globalDataLayerWriter is a utility object for writing globalDataLayer values retrived from local storage.
 * globalDataLayer properties can contain strings, numbers, booleans, objects, and arrays of objects.
 */
var globalDataLayerWriter = {
    /**
     * Sets globalDataLayer properties on the globalDataLayer object. Not all gdl properties have a setValue method
     * so it's necessary to check first to avoid error.  Nested objects necessitate the additional checks for
     * ancestor / parent.  There is likely a more elegant solution (using less 'if' stmts), but this works for now...
     *
     * @param gdlPropName - gdl property name
     * @param gldPropValue - gdl property value
     * @param gdlFamilyTree - [optional] object with parent & ancestor properties.  Ex {parent: Products, ancestor: Dashboard}
     *
     */
    writeGlobalDataLayerValue: function(gdlPropName, gdlPropVal, gdlFamilyTree){
        try {
            if (gdlFamilyTree && gdlFamilyTree.hasOwnProperty("ancestor") && gdlFamilyTree.hasOwnProperty("parent")) {
                if (window.globalDataLayer[gdlFamilyTree.ancestor][gdlFamilyTree.parent].hasOwnProperty('setValue')){
                    window.globalDataLayer[gdlFamilyTree.ancestor][gdlFamilyTree.parent].setValue(gdlPropName, gdlPropVal);
                } else {
                    window.globalDataLayer[gdlFamilyTree.ancestor][gdlFamilyTree.parent][gdlPropName] =  gdlPropVal;
                }
            } else if (gdlFamilyTree && gdlFamilyTree.hasOwnProperty("parent")) {
                if (undefined !== window.globalDataLayer[gdlFamilyTree.parent]) {
                    if (window.globalDataLayer[gdlFamilyTree.parent].hasOwnProperty('setValue')){
                        window.globalDataLayer[gdlFamilyTree.parent].setValue(gdlPropName, gdlPropVal);
                    } else {
                        window.globalDataLayer[gdlFamilyTree.parent][gdlPropName] =  gdlPropVal;
                    }
                }
            } else {
                window.globalDataLayer.setValue(gdlPropName, gdlPropVal);
            }
        } catch(e){
          console.log("ERROR: failed to set globalDataLayer prop " + e);
        }
    },
    /**
     * Iterates globalDataLayer properties calling writeGlobalDataLayerValue with the appropriate level of reference (for nested objects).
     * Arrays & primitive types are handled identically for now (value is assigned directly).  If the propery is not null nor an Array but
     * is an object, the function recurses on itself retaining the parent property name as ancestor .
     *
     * @param parent - the property name for this globalDataLayer value
     * @param gdlObj - the globalDataLayer object to be parsed
     * @param ancestor - [optional] will be present for nested objects only.  This is the first level globalDataLayer property name.  Ex:
     *    Search becomes the ancestor when the globalDataLayer.Search.Product object value is parsed.
     */
    parseGDLProperty: function(parent, gdlObj, ancestor){
        var gdlAncestory = {"parent": parent};
        if (ancestor && ancestor !== ""){
            gdlAncestory["ancestor"] = ancestor;
        }
        for (var key in gdlObj) {
            if ("object" == typeof(gdlObj[key]) && false == Array.isArray(gdlObj[key]) && null !== gdlObj[key]) {
                // value is an object with string/boolean/number/null properties.  ex: globalDataLayer.Search.Product = {"key":"value",...}
                globalDataLayerWriter.parseGDLProperty(key,gdlObj[key],parent);
             } else {
                // value is an array of objects or any primitive data type (string, number, boolean)
                globalDataLayerWriter.writeGlobalDataLayerValue(key,gdlObj[key],gdlAncestory);                
            }
        };
    }
};
/**
 * R192-367: Global Data Layer sharing between Websphere WCC and AWS WCC applications --
 *
 * This function checks local storage for the globalDataLayer item.  If found, the value is converted to JSON then iterated
 * writing each key/value to window.globalDataLayer (for all non-object values) or sending the value for futher parsing
 * (for values that are objects themselves). The intent is twofold:
 *  1.  avoid overwriting the globalDataLayer object with a subset of key/values acquired from AWS WCC (in case AWS WCC
 *      globalDataLayer object does not include keys set by portlets elswewhere in the Websphere WCC application) and,
 *  2.  where possible, assert greater control over how values are set on the global object. The preferred method is to use the object's setValue() method
 *      (if it has one) to ensure data integrity.
 */
function getGlobalDataLayerFromLocalStorage(){
    var gdl = (window.localStorage && window.localStorage.hasOwnProperty('globalDataLayer')) ? JSON.parse(localStorage.getItem('globalDataLayer')) : undefined;
    if (undefined !== gdl){
        for (var k in gdl) {
            if ("object" == typeof (gdl[k]) && null !== gdl[k]) {
                globalDataLayerWriter.parseGDLProperty(k, gdl[k]);
            } else {
                globalDataLayerWriter.writeGlobalDataLayerValue(k,gdl[k]);               
            }
        }
    }
};
/**
 * R192-367: Global Data Layer sharing between Websphere WCC and AWS WCC applications --
 * writeGlobalDataLayerToLocalStorage_WS sets the globalDataLayer object in localStorage
 */
function writeGlobalDataLayerToLocalStorage_WS(){
    try{
        if(globalDataLayer && window.localStorage){
            window.localStorage.setItem('globalDataLayer', JSON.stringify(globalDataLayer));
        }
    } catch(e){
        console.log("Failed to set gdl in local storage " + e);
    }
}
/** R192-367: Global Data Layer sharing between Websphere WCC and AWS WCC applications --
 *  Initialize globalDataLayer with values from local storage. Values will be updated / overwritten
 *  as customer interacts with the Portal application. 
 */
try{
    getGlobalDataLayerFromLocalStorage();
} catch(e){
    console.log("Failed to read gdl from local storage " + e);
}
/**
 * R192-367: Global Data Layer sharing between Websphere WCC and AWS WCC applications --
 * Persist globalDataLayer values in local storage before page unload event.
 */
window.onbeforeunload = function(){
    writeGlobalDataLayerToLocalStorage_WS();
}

     /*--------Setting Flag Object-------*/
     function updateDataLayerFlags(flagObject){
        if(flagObject==""){
            globalDataLayer.Flag = {'documentViewed': false, 'searchExecuted': false, 'swdVisited': false, 'contactHPVisited': false, 'identifyNowDmd': false, 'findSolutionsDmd': false, 'checkNowDmd': false,'EASVisited': false};
            flagObject = JSON.stringify(globalDataLayer.Flag);
        }
        flagObject = $.parseJSON(flagObject);
        if(globalDataLayer.Flag === undefined){
        	globalDataLayer.Flag = {'documentViewed': false, 'searchExecuted': false, 'swdVisited': false, 'contactHPVisited': false, 'identifyNowDmd': false, 'findSolutionsDmd': false, 'checkNowDmd': false,'EASVisited': false};
            checkSessionObject(flagObject);
        }
        else{
            checkSessionObject(flagObject);
        }
     }

     function updateAudienceType(){ //determine if product is consumer or commercial
       if($('#tmsClassForSearch').val() == 'pm_series_value'){
           if($('#isCommercialProduct').val() == 'true'){
               globalDataLayer.Product.setValue('audienceType','Commercial');
           }
           else{
               globalDataLayer.Product.setValue('audienceType','Consumer');
           }
       }else if($('#tmsClassForSearch').val() == 'pm_name_value'){
         if($('#isCommercialProduct').val() == 'true'){
            globalDataLayer.Product.setValue('audienceType','Large');
         }
         else{
           globalDataLayer.Product.setValue('audienceType','HHO');
         }
       }
     }

     function checkSessionObject(flagObject){
            if(flagObject.documentViewed !== true){
                globalDataLayer.Flag.documentViewed = false;
            }
            else{
                globalDataLayer.Flag.documentViewed = flagObject.documentViewed;
            }

            if(flagObject.searchExecuted !== true){
                globalDataLayer.Flag.searchExecuted = false;
            }
            else{
                globalDataLayer.Flag.searchExecuted = flagObject.searchExecuted;
            }

            if(flagObject.swdVisited !== true){
                globalDataLayer.Flag.swdVisited = false;
            }
            else{
                globalDataLayer.Flag.swdVisited = flagObject.swdVisited;
            }

            if(flagObject.contactHPVisited !== true){
                globalDataLayer.Flag.contactHPVisited = false;
            }
            else{
                globalDataLayer.Flag.contactHPVisited = flagObject.contactHPVisited;
            }

            if(flagObject.identifyNowDmd !== true){
                globalDataLayer.Flag.identifyNowDmd = false;
            }
            else{
                globalDataLayer.Flag.identifyNowDmd = flagObject.identifyNowDmd;
            }

            if(flagObject.findSolutionsDmd !== true){
                globalDataLayer.Flag.findSolutionsDmd = false;
            }
            else{
                globalDataLayer.Flag.findSolutionsDmd = flagObject.findSolutionsDmd;
            }

            if(flagObject.checkNowDmd !== true){
                globalDataLayer.Flag.checkNowDmd = false;
            }
            else{
                globalDataLayer.Flag.checkNowDmd = flagObject.checkNowDmd;
            }

            // EAS Visited Flag
            if(flagObject.easVisited !== true){
                globalDataLayer.Flag.EASVisited = false;
            }
            else{
            	globalDataLayer.Flag.EASVisited = flagObject.easVisited;
            }

            if(flagObject.documentGDL == null){
                globalDataLayer.Document.documentID = "";
                delete globalDataLayer.Flag.documentGDL;
            }
            else{
                globalDataLayer.Document.documentID = flagObject.documentGDL.documentId; ;
                delete globalDataLayer.Flag.documentGDL;
            }
     }
   

/* This section feeds some values available at dom.ready to the datalayer */
$(document).ready(function() {

    //Based on jSession id we maintain the swSniffedOSsupported weather if it is true or flase
    if(localStorage.swdOSSession == $("#jSessionId").val()){
        globalDataLayer.swSniffedOSsupported = localStorage.swdOSVal;
    }

	var pageInfoMeta = $('head meta[name=pageinfo]');
    var datalayerCC = pageInfoMeta.data('cc');
    var datalayerLC = pageInfoMeta.data('lc');
	var templateName = pageInfoMeta.data('templatename');
	
    if (datalayerLC == undefined) {
        datalayerCC = "us";
        datalayerLC = "en";

    }
	
	//set Template value
	globalDataLayer.setValue('Template', templateName);
	
	//TO-DO Logic to update customerState once user login.

    /* 6897: called on every page load to determine if Search redirect has occured
    Session storage Search query will be present only for redirect*/
   // getSessionStorageForSearch();

    globalDataLayer.setValue("CountryCode", datalayerCC); /* Fetches cc from the url format: .com/cc-lc/ */
    globalDataLayer.setValue("LanguageCode", datalayerLC); /* Fetches lc from the url format: .com/cc-lc/ */
    globalDataLayer.setValue("Locale", datalayerCC + '-' + datalayerLC);



    // Data from the TMS SESSION hidden variable
    var tmsResponse;
    if ($('#productARresponse').length > 0) {

        if ($('#productARresponse').val() != "") {
            tmsResponse = $('#productARresponse').val();
        }


        if (tmsResponse != null && tmsResponse != "" && tmsResponse != "null") {
            tmsResponse = JSON.parse(tmsResponse);

            if (tmsResponse.hasOwnProperty('bigSeriesName')) {
                globalDataLayer.Product.setValue('bigSeriesName', tmsResponse['bigSeriesName']);
            } else {
                console.log('no bigSeriesName');
            }

            if (tmsResponse.hasOwnProperty('bigSeriesOid')) {
                globalDataLayer.Product.setValue('bigSeriesOid', tmsResponse['bigSeriesOid']);
            } else {
                console.log('no bigSeriesOid');
            }

            if (tmsResponse.hasOwnProperty('platformId')) {
                globalDataLayer.Product.setValue('platformId', tmsResponse['platformId']);
            } else {
                console.log('no platformId');
            }


            if (tmsResponse.hasOwnProperty('productLineCode')) {
                globalDataLayer.Product.setValue('productLineCode', tmsResponse['productLineCode']);
            } else {
                console.log('no product productLineCode');
            }

            if (tmsResponse.hasOwnProperty('seriesName')) {
                globalDataLayer.Product.setValue('seriesName', tmsResponse['seriesName']);
            } else {
                console.log('no product seriesName');
            }

            if (tmsResponse.hasOwnProperty('seriesOid')) {
                globalDataLayer.Product.setValue('seriesOid', tmsResponse['seriesOid']);
            } else {
                console.log('no product seriesOid');
            }

            if (tmsResponse.hasOwnProperty('supportCategoryName')) {
                globalDataLayer.Product.setValue('supportCategoryName', tmsResponse['supportCategoryName']);
            } else {
                console.log('no product supportCategoryName');
            }

            if (tmsResponse.hasOwnProperty('supportCategoryOid')) {
                globalDataLayer.Product.setValue('supportCategoryOid', tmsResponse['supportCategoryOid']);
            } else {
                console.log('no product supportCategoryOid');
            }

            if (tmsResponse.hasOwnProperty('supportNameName')) {
                globalDataLayer.Product.setValue('supportNameName', tmsResponse['supportNameName']);
            } else {
                console.log('no product supportNameName');
            }

            if (tmsResponse.hasOwnProperty('supportNameOid')) {
                globalDataLayer.Product.setValue('supportNameOid', tmsResponse['supportNameOid']);
            } else {
                console.log('no product supportNameOid');
            }

            if(tmsResponse.hasOwnProperty('modelNumber')){
              globalDataLayer.Product.setValue('productModelNumber',tmsResponse['modelNumber']);
            }else{
              console.log('no product modelNumber');
            }

            if (tmsResponse.hasOwnProperty('webReleaseDate')) {
                globalDataLayer.Product.setValue('webReleaseDate', tmsResponse['webReleaseDate']);
            } else {
                console.log('no product webReleaseDate');
            }

            if (tmsResponse.hasOwnProperty('audience')) {
                globalDataLayer.Product.setValue('audienceType', tmsResponse['audience']);
            } else {
                console.log('no audience type');
            }

        } else {
            console.log('no value from tms');
        }
    }

    // Data from the SEARCH PROD INFO hidden variable
    var searchTmsResponse;
    if ($('#searchProductARresponse').length > 0) {

        if ($('#searchProductARresponse').val() != "") {
            searchTmsResponse = $('#searchProductARresponse').val();
        }


        if (searchTmsResponse != null && searchTmsResponse != "" && searchTmsResponse != "null") {
            searchTmsResponse = JSON.parse(searchTmsResponse);

            if (searchTmsResponse.hasOwnProperty('bigSeriesName')) {
                globalDataLayer.Search.Product.setValue('bigSeriesName', searchTmsResponse['bigSeriesName']);
            } else {
                console.log('no SearchProduct bigSeriesName');
            }

            if (searchTmsResponse.hasOwnProperty('bigSeriesOid')) {
                globalDataLayer.Search.Product.setValue('bigSeriesOid', searchTmsResponse['bigSeriesOid']);
            } else {
                console.log('no SearchProduct bigSeriesOid');
            }

            if (searchTmsResponse.hasOwnProperty('platformId')) {
                globalDataLayer.Search.Product.setValue('platformId', searchTmsResponse['platformId']);
            } else {
                console.log('no SearchProduct platformId');
            }


            if (searchTmsResponse.hasOwnProperty('productLineCode')) {
                globalDataLayer.Search.Product.setValue('productLineCode', searchTmsResponse['productLineCode']);
            } else {
                console.log('no SearchProduct productLineCode');
            }

            if (searchTmsResponse.hasOwnProperty('seriesName')) {
                globalDataLayer.Search.Product.setValue('seriesName', searchTmsResponse['seriesName']);
            } else {
                console.log('no SearchProduct seriesName');
            }

            if (searchTmsResponse.hasOwnProperty('seriesOid')) {
                globalDataLayer.Search.Product.setValue('seriesOid', searchTmsResponse['seriesOid']);
            } else {
                console.log('no SearchProduct seriesOid');
            }

            if (searchTmsResponse.hasOwnProperty('supportCategoryName')) {
                globalDataLayer.Search.Product.setValue('supportCategoryName', searchTmsResponse['supportCategoryName']);
            } else {
                console.log('no SearchProduct supportCategoryName');
            }

            if (searchTmsResponse.hasOwnProperty('supportCategoryOid')) {
                globalDataLayer.Search.Product.setValue('supportCategoryOid', searchTmsResponse['supportCategoryOid']);
            } else {
                console.log('no SearchProduct supportCategoryOid');
            }

            if (searchTmsResponse.hasOwnProperty('supportNameName')) {
                globalDataLayer.Search.Product.setValue('supportNameName', searchTmsResponse['supportNameName']);
            } else {
                console.log('no SearchProduct supportNameName');
            }

            if (searchTmsResponse.hasOwnProperty('supportNameOid')) {
                globalDataLayer.Search.Product.setValue('supportNameOid', searchTmsResponse['supportNameOid']);
            } else {
                console.log('no SearchProduct supportNameOid');
            }

            if (searchTmsResponse.hasOwnProperty('webReleaseDate')) {
                globalDataLayer.Search.Product.setValue('webReleaseDate', searchTmsResponse['webReleaseDate']);
            } else {
                console.log('no SearchProduct webReleaseDate');
            }

            // US 182 35 Replicate search product data into global data
            globalDataLayer.Product = globalDataLayer.Search.Product;
            // Updating contact support url with correct product number
            var gdl = globalDataLayer.Product; // shorthand convinience
            var seriesOrModelId = (gdl.seriesNameOid ? gdl.seriesNameOid : gdl.seriesOid);
            updateContactSupportURL("/hp-pps-services/hub/navigation", seriesOrModelId);

        } else {
            console.log('no value from search tms');
        }
    }

    //Data from SEARCH IDOL hidden variable
    var searchARData;
     if ($('#SearchANR').length > 0) {

        if ($('#SearchANR').val() != "") {
            searchARData = $('#SearchANR').val();
        }


        if (searchARData != null && searchARData != "" && searchARData != "null") {
            searchARData = JSON.parse(searchARData)

            //check  SEARCH IDOL hidden field for values
            /*  eg:
                "productName": "HP ENVY 120 e-All-in-One Printer",
                "productTMSOID": 5203206,
                "productTMSClass": "pm_name_value"
            */

            if (searchARData.hasOwnProperty('productName')) {
                globalDataLayer.Search.IDOLProduct.setValue('productName', searchARData['productName']);
            } else {
                console.log('no Search IDOL productName');
            }

              if (searchARData.hasOwnProperty('productTMSOID')) {
                globalDataLayer.Search.IDOLProduct.setValue('productTMSOID', searchARData['productTMSOID']);
            } else {
                console.log('no Search IDOL productTMSOID');
            }

            if (searchARData.hasOwnProperty('productTMSClass')) {
                globalDataLayer.Search.IDOLProduct.setValue('productTMSClass', searchARData['productTMSClass']);
            } else {
                console.log('no Search IDOL productTMSClass');
            }


        } else {
            console.log('no value from search IDOL');
        }

    }


    var error404;
    if (location.href.indexOf("errorType=404")>0) {
        error404 = $('#error404').val();
        globalDataLayer.setValue('ErrorCode', '404');
        globalDataLayer.setValue('Template', 'Error404');

    }

    var error500;
    if (location.href.indexOf("errorType=500")>0) {
        error500 = $('#error500').val();
        globalDataLayer.setValue('ErrorCode', '500');
        globalDataLayer.setValue('Template', 'Error500');

    }

    var EntitlementResult;
    if ($('#ipWarrantyLevel').length > 0) {
        EntitlementResult = $('#ipWarrantyLevel').val();
        globalDataLayer.EntitlementResults.setValue('EntResults', EntitlementResult);

    }

   /* Adding downloaded driver file name to datalayer from session */
    var downloadedFileName = ($("#downloadFileName").length > 0) ? $("#downloadFileName").val() : "" ;
    if (downloadedFileName !== "" && downloadedFileName !==null && typeof(downloadedFileName)!=="undefined") {
    	// globalDataLayer.setValue("sofwareDownloadedFileName",downloadedFileName);
        globalDataLayer.setValue("softwareDownloadedFileNames",downloadedFileName);
    } else {
        console.log('no softwareDownloadedFileName');
    }

    /*--------------Template Setting------------------*/

    //Set values based solely on page name

    var pageName = $('#pageIdentifier').val();
    var custDetailPageName = $('#jspName').val();
    var url=document.location.href;
    var prodModel = function () {
        var currentUrl = document.location.href;
        if(currentUrl.indexOf("/model") > -1){
            return true;
        }
        else{
            return false;
        }
    }
    if (custDetailPageName =="customerdetails") {
    	globalDataLayer.setValue('Template', 'customerdetails');
    }
    if (pageName != "" && pageName != "null" && pageName != null) {
        if (pageName == "Support Home") {

            globalDataLayer.setValue('Template', 'SiteHome');
        }else if(pageName == "WarrantyOnly") {  // warranty results - no prod info page

            globalDataLayer.setValue('Template', 'OSWarrantyOnly');

        }else if(pageName == "caseCreation") {  //Added as part of 6581

            globalDataLayer.setValue('Template', 'SubmitCaseFormPage');

        } else if (pageName == "Product Home") {

            globalDataLayer.setValue('Template', 'ProductCategoryLanding');
        } else if (pageName == "SWDSelfService" && globalDataLayer.Template == "") {

            globalDataLayer.setValue('Template', 'SWDLanding');
        }
        else if (pageName == "Contact HP - Anonymous") {

            globalDataLayer.setValue('Template', 'ContactHPLanding');
        }
        else if(pageName == "ServiceLocator"){
            globalDataLayer.setValue('Template', 'ServiceLocator');
        }
        else if(pageName == "SecurityBulletinArchive"){
            globalDataLayer.setValue('Template', 'securitybulletinarchive');
        }
        else if(pageName == "multipleWarranty"){
            globalDataLayer.setValue('Template','MultipleWarrantyInputPage');
        }
        else if(pageName == 'Add Device'){ //Ading for add device page
          globalDataLayer.setValue('Template','AddDevice');
        }
        else if (pageName == "SWDSelfServiceStep" && globalDataLayer.Product.productModelNumber == null) {    //SWD Changes globalDataLayer

        	if(prodModel() == true){
                globalDataLayer.setValue('Template', 'SWDDownload_New');
            }
            else{
                
            	globalDataLayer.setValue('Template', 'SWDSeriesDownload_New');
            }
        } else if (pageName == "SWDSelfServiceStep") {    //SWD Changes globalDataLayer

        	globalDataLayer.setValue('Template', 'SWDDownload_New');
        }
        else if (pageName == "swdDriverDetails") {    //SWD Changes globalDataLayer
    	   if(prodModel() == true){
                //Set for model
                globalDataLayer.setValue('Template', 'SWDModelDriverDetailsPage');
            }
            else{
                //Set for series
                globalDataLayer.setValue('Template', 'SWDSeriesDriverDetailsPage');
            }

       }
        else if (pageName == "SWDSelfServiceFinish") {
        	globalDataLayer.setValue('Template', 'SWDClosure_New');
        }  else if (pageName == "Contact HP Product Context View") {
            /*globalDataLayer.Flag.contactHPVisited = 'true';
            localStorage.contactHPVisited = 'true';
            triggerLocalSessionTimer();*/
            //this value is set on AJAX success in hp-product-contact-options
	    } else if (pageName == "SearchResult") {
							if (url.indexOf("contact-hp") > 0) {

								globalDataLayer.setValue('Template', 'Models');

								if (getParameterByName('q')) {
									globalDataLayer.setValue('PfinderQuery',
											getParameterByName('q'));
								}

								// if bad results change the TemplateName
								if ($('#pFinderBadResults').length > 0) {
									// globalDataLayer.setValue('Template',
									// 'ModelsBadResults');
								}

							} else if (url.indexOf("products") > 0) {

								globalDataLayer.setValue('Template',
										'ProductModels');
								if (getParameterByName('q')) {
									globalDataLayer.setValue('PfinderQuery',
											getParameterByName('q'));
								}
								// if bad results change the TemplateName
								if ($('#pFinderBadResults').length > 0) {
									// globalDataLayer.se\tValue('Template',
									// 'SWDModelsBadResults');
								}

							} else if (url.indexOf("drivers") > 0) {

								globalDataLayer.setValue('Template',
										'SWDModels');
								if (getParameterByName('q')) {
									globalDataLayer.setValue('PfinderQuery',
											getParameterByName('q'));
								}
								// if bad results change the TemplateName
								if ($('#pFinderBadResults').length > 0) {
									// globalDataLayer.setValue('Template',
									// 'SWDModelsBadResults');
								}
							} else {

								globalDataLayer.setValue('Template', 'Search');
								if (getParameterByName('q')) {
									globalDataLayer.Search.setValue('Query',
											getParameterByName('q'));
								}
								/*
								 * globalDataLayer.Flag.searchExecuted = 'true';
								 * localStorage.searchExecuted = 'true';
								 * triggerLocalSessionTimer();
								 */
							}
						}
        else if (pageName == "ConcentraWrapper" || pageName == "ConcentraNonContextual") {
            globalDataLayer.setValue('Template', 'Document');

        } else if (pageName == "Product Details Page" || pageName == "Product Details Page") {
            if (tmsResponse.hasOwnProperty('supportNameOid')) {
                if (tmsResponse['supportNameOid'] != null && tmsResponse['supportNameOid'] != 'null' && tmsResponse['supportNameOid'] != '') {
                    globalDataLayer.setValue('Template', 'ProductModel');
                } else {
                    globalDataLayer.setValue('Template', 'ProductSeries');
                }
            }
        } else if (pageName == "DisputeForm") {

            if($('#warrantyDisputeForm').length>0){

                globalDataLayer.setValue('Template', 'DisputeWarrantyForm');

            } else{

                globalDataLayer.setValue('Template', 'DisputeWarrantyConfirmation');

            }


        } else if (pageName == "RemoteConnection") {

            globalDataLayer.setValue('Template', 'RemoteAssistance');

        } else if (pageName == "Warranty Check") {

            globalDataLayer.setValue('Template', 'WarrantyLanding');

        } else if (pageName == "Product Warranty Result") {

            if($('#warrantyStatus').length>0){
                var wStatus = $('#warrantyStatus').val();
                switch(wStatus){
                    case 'IW':
                            globalDataLayer.setValue('Template', 'IWResults');
                            break;
                    case 'OW':
                            globalDataLayer.setValue('Template', 'OOWResults');
                            break;
                    case 'XW':
                            globalDataLayer.setValue('Template', 'XWResults');
                            break;
                }

            } else{

                globalDataLayer.setValue('Template', 'OOWResults');
            }


        } else if (pageName == "Unknown Warranty") {


            globalDataLayer.setValue('Template', 'UWResults');

        }
        else if(pageName == "multipleWarranty"){
            globalDataLayer.setValue('Template','MultipleWarrantyInputPage')
        }
        else if (pageName == "Historical Products") {


            globalDataLayer.setValue('Template', 'HistoricalProductsLanding');

        }
        else if (pageName == "MediaOrdering") {
            var stepsvalue = $('.steps_media').val() ;
            switch(stepsvalue){
                case "step1":
                     globalDataLayer.setValue('Template', 'MediaCustomerInformation');
                     break;
                case "step2":
                     globalDataLayer.setValue('Template', 'MediaShippingInformation');
                     break;
                case "step3":
                     globalDataLayer.setValue('Template', 'MediaBillingInformation');
                     break;
                case "step4":
                      globalDataLayer.setValue('Template', 'MediaPaymentInformation');
                      break;
                case "step5":
                       globalDataLayer.setValue('Template', 'MediaOrderConfirmation');

                }

        } else if (pageName == "productreplacement") {
        	globalDataLayer.setValue('Template', 'productreplacement');
        } else if (pageName == "orderconfirmation") {
        	globalDataLayer.setValue('Template', 'orderconfirmation');
        }
        //error page
        else if(pageName == "Error Page"){
            var errorvalue = $('.mediaerror').val() | 0 ;
            var productReplacementErrorValue = $('#productreplacementerror').val() | 0 ;
            switch(errorvalue){
                case 1:
                      globalDataLayer.setValue('Template', 'MediaNotOrderable');
                      break;
                case 2:
                      globalDataLayer.setValue('Template','MediaLimitReached');
                      break;
                case 3:
                      globalDataLayer.setValue('Template','MediaPaymentFailed');
                      break;
            }
            switch(productReplacementErrorValue){
	            case 1:
	          	  	globalDataLayer.setValue('Template', 'IneligibleProduct');
	          	  	break;
	            case 2:
	          	  	globalDataLayer.setValue('Template', 'SubmissionFailed');
	            	break;
            }

         }

         else if(pageName == "IdentifyProduct"){
            globalDataLayer.setValue('Template', 'ChangeProduct');
         }
         else if(pageName == "SWDpfinderBadResults"){  //Added as part of 6539

            if (url.indexOf("contact-hp") > 0) {

            	globalDataLayer.setValue('Template', 'ContactHPBadResults');

			} else if (url.indexOf("products") > 0) {
				 globalDataLayer.setValue('Template', 'PDPBadResults');

			} else if (url.indexOf("drivers") > 0) {
				 globalDataLayer.setValue('Template', 'SWDBadResults');

			}
         }
         else if (pageName == "productIdentification"){
             globalDataLayer.setValue('Template','DMD');
         }
    }

    /*------------------------------------------------*/
});

clearLocalStorageEAS();

function clearLocalStorageEAS(){
	if(localStorage.easStartTime){
	var initialTime = parseInt(localStorage.easStartTime);
	var expirayDuration = 60*60*1000;
	var currentTime = new Date().getTime();
		if(currentTime - initialTime >= expirayDuration){
			localStorage.removeItem("userEASInfo");
		}
	}
}
}
catch(err) {
  console.log(err);
}

$(function() {
    const className = '.document-url';
    var documentAnchors = $(className);
    var documentPathCheck = "us-en/document/";
    var pageInfoMeta = $('head meta[name=pageinfo]');
    var cc = pageInfoMeta.data('cc');
    var lc = pageInfoMeta.data('lc');
    var documentAPIURL = "/hp-pps-services/kaaS/getDocumentTranslations?lc=" + lc + "&cc=" + cc;
    var webserverURL = pageInfoMeta.data('webserverurl');
    var finalDocumentAnchors = [];
    if (webserverURL.indexOf(window.location.hostname) > -1) {
        $(documentAnchors).each(function(i) {
            const actualTaggedDom = $(this);
            var documentAnchorDom = actualTaggedDom.closest('a');
            var link = documentAnchorDom.attr('href');
            if (typeof link === 'undefined') {
                documentAnchorDom = $(this).children(":first");
                link = documentAnchorDom.attr('href');
            }
            if (link.indexOf(documentPathCheck) > -1) {
                var splittedLink = link.split('/');
                var documentId = splittedLink[splittedLink.length - 1];
                var documentIdArray = [];
                documentIdArray.push(documentId);
                var jsonData = {
                    "docIDs": documentIdArray,
                    "docTitles": documentIdArray
                }
                $.ajax({
                    type: "POST",
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    url: documentAPIURL,
                    data: JSON.stringify(jsonData),
                    success: function(data) {
                        var currentLanguageIDJSON = data['documentURLMap'];
                        var currentLanguageTitleJSON = data['documentTitleMap'];
                        if (typeof currentLanguageIDJSON !== 'undefined') {
                            //update path
                            const docURL = currentLanguageIDJSON['docurl' + documentId];
                            if(validateExternalUrl(docURL)){
                                documentAnchorDom.attr('href',docURL);
                            }
                        }
                        if (typeof currentLanguageTitleJSON !== 'undefined') {
                            //update text
                            if (documentAnchorDom.find(className).length !== 0) {
                                documentAnchorDom = documentAnchorDom.find(className);
                            }
                            documentAnchorDom.text(currentLanguageTitleJSON['doctitle' + documentId]);
                        }
                    }
                });

            }
        });
    }

});

function validateExternalUrl(value) {
  return /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value);
}
$(document).ready(function () {

	$(".menuBarHead ul li").on("mouseenter", function () {
		$(this).children("ul").siblings("a").children("span").addClass("icon-up").removeClass("icon-dwn");
		$(this).children("ul").siblings("a").attr("aria-expanded", "true");
		$(this).children("ul").show();
	});
	
	$(".menuBarHead ul > li ").on("mouseleave", function () {
		$(this).children("ul").siblings("a").children("span").removeClass("icon-up").addClass("icon-dwn");
		$(this).children("ul").siblings("a").attr("aria-expanded", "false");
		$(this).children("ul").hide();
	});


	var checkSize = function (e) {
		e.preventDefault();
		e.stopPropagation();
		normalDropdown(this);
	};

	Dropdown = (function () {

		var init = function () {
			if ($('[data-toggle="customDropdown"]').length) {
				addHandlers();
			}
		};

		var addHandlers = function () {
			$('[data-toggle="customDropdown"]').on('tap click', checkSize);

			$('.customDropdown').on('dClose', dClose);
			$('.customDropdown').on('dOpen', dOpen);
			$(document).on('tap click', clearDropdowns);
			$('.customDropdown').on('tap click', function (e) {
				e.stopPropagation();

			});
		};

		var checkSize = function (e) {
			e.preventDefault();
			e.stopPropagation();
			normalDropdown(this);

		};
		var clearDropdowns = function (e) {
			var container = $(".customDropdown");
			if (!container.is(e.target)
				&&
				container.has(e.target).length === 0)
			{
				$dropdowns = $('.customDropdown');
				$dropdowns.trigger('dClose');
			}
		};
		var normalDropdown = function (target) {
			$dropdown = $(target).parent();

			$dropdowns = $('.customDropdown');
			if ($dropdown.hasClass('open')) {
				$dropdown.trigger('dClose');
			} else {
				$dropdowns.not($dropdown).trigger('dClose');
				$dropdown.trigger('dOpen');
			}
		};
		var dClose = function (e) {
			e.stopPropagation();
			$this = $(this);
			$this.removeClass('open');
		};

		var dOpen = function (e) {
			$this = $(this);
			$this.addClass('open');
		};

		return {
			init: init
		};
	}());

	Dropdown.init();


	var sec_nav_width = 775;
	var sec_nav_cont = ".mobile-nav-wrapper .container";
	var sec_nav_menu, sec_nav_dd_menu, sec_nav_dd_triggger;

	sec_nav_dd_menu = $(sec_nav_cont + "> ul > li > ul");
	sec_nav_dd_triggger = $(sec_nav_dd_menu).siblings("a");

	sec_nav_dd_triggger.attr("aria-expanded", "false");


	
	if ($(window).width() <= sec_nav_width) {
		setSecNavDropdownMaxHeight();

	
		$(".customDropdown > a.dropdown-toggle.hidden-lg > span").addClass("secNavToggleCarrot");
	}

	sec_nav_dd_menu.parents("li").on("click", function () {
		if ($(window).width() <= sec_nav_width) {

			if ($(this).children("ul").is(":visible") == true) {

				
				$(this).children("ul").hide();
				sec_nav_dd_triggger.addClass("sec-nav-mv").removeClass("sec-nav-mv-open sec-nav-dv").find("span").addClass("icon-dwn").removeClass("icon-up");
				$(this).css("background-color", "#fff");
			} else {
			
				$(this).children("ul").show();
				sec_nav_dd_triggger.addClass("sec-nav-mv-open").removeClass("sec-nav-mv sec-nav-dv").find("span").addClass("icon-up").removeClass("icon-dwn");
			}
		} else {
			sec_nav_dd_triggger.addClass("sec-nav-dv").removeClass("sec-nav-mv-open sec-nav-mv");
		}
	});



	function setSecNavDropdownMaxHeight() {
		var maxHeight = $(window).height() * 0.85;
		$(sec_nav_cont + " > ul").css("max-height", maxHeight + "px");
	}

	$(window).resize(function () {
		sec_nav_dd_menu.hide();

		$(sec_nav_cont + "> ul > li > ul").siblings("a").children("span").addClass("icon-dwn").removeClass("icon-up");
		if ($(window).width() <= sec_nav_width) {
			setSecNavDropdownMaxHeight();
	
			$(sec_nav_cont + "> ul > li > ul").siblings("a").children("span").addClass("pull-right").removeClass("secnav-dropdown-carrot");
		
			sec_nav_dd_triggger.addClass("sec-nav-mv").removeClass("sec-nav-dv sec-nav-mv-open");

			
			$(".customDropdown > a.dropdown-toggle.hidden-lg > span").addClass("secNavToggleCarrot");
		} else {
		
			$(sec_nav_cont + "> ul > li > ul").siblings("a").children("span").removeClass("pull-right").addClass("secnav-dropdown-carrot");
			
			sec_nav_dd_triggger.addClass("sec-nav-dv").removeClass("sec-nav-mv sec-nav-mv-open");

			$(".customDropdown > a.dropdown-toggle.hidden-lg > span").removeClass("secNavToggleCarrot");
		}
	});



	$(sec_nav_cont + "> ul > li > ul").parents("li").on("mouseenter", function () {

		
		$(this).children("ul").siblings("a").children("span").addClass("icon-up").removeClass("icon-dwn");
		$(this).children("ul").siblings("a").attr("aria-expanded", "true");
	
		$(this).children("ul").show();
	});
	$(sec_nav_cont + "> ul > li > ul").parents("li").on("mouseleave", function () {
		
		$(this).children("ul").siblings("a").children("span").removeClass("icon-up").addClass("icon-dwn");
		$(this).children("ul").siblings("a").attr("aria-expanded", "false");
		
		$(this).children("ul").hide();
	});


	var nav = $(sec_nav_cont + " > ul");

	
	nav.attr('role', 'menubar').find('> li').attr('role', 'menuitem').find("> a");


	var top_level_links = nav.find('> li > a');
	var subMenuLinks = top_level_links.siblings("ul").children("li").children("a");

	$(top_level_links).next('ul')
		.attr({
			'aria-hidden': 'true',
			'role': 'menu'
		});


	$(subMenuLinks).attr({
		"role": "menuitem",
		"aria-haspopup": true
	});
	nav.find("> li > ul li a").attr("role", "menuitem");


	
	$(top_level_links).keydown(function (e) {
		var elem = $(this).siblings("ul");
		var that = $(this);
		//Esc Key
		if (e.keyCode == 27) {
			if (elem.length > 0) {
				if ($(this).siblings("ul").is(":visible")) {
					elem.siblings("a").attr("aria-expanded", "false");
					hideDropdownAccessibility(elem);
					elem.siblings("a").children("span").removeClass("icon-up").addClass("icon-dwn");
				}
			}
		}

		//Enter or Space key
		if (e.keyCode == 13 || e.keyCode == 32) { 
			if (elem.length > 0) {
				e.preventDefault();
				if (!$(this).siblings("ul").is(":visible")) {
					showDropdownAccessibility(elem);
					$($(this).siblings("ul").children("li")[0]).children("a").first().prev().focus();
					if ($(this).children("span").hasClass("icon-up")) {
						$(this).children("span").removeClass("icon-up").addClass("icon-dwn");
						elem.siblings("a").attr("aria-expanded", "false");
					} else {
						$(this).children("span").addClass("icon-up").removeClass("icon-dwn");
						elem.siblings("a").attr("aria-expanded", "true");
					}
				} else {
					elem.siblings("a").attr("aria-expanded", "false");
					hideDropdownAccessibility(elem);
					elem.siblings("a").children("span").removeClass("icon-up").addClass("icon-dwn");
				}
			}
		}


	});

    /*show dropdown*/
	function showDropdownAccessibility(element){
		element
			.attr('aria-hidden', 'false')
			.css("display","block");
	}

    /*hide dropdown*/
	function hideDropdownAccessibility(element){
		element
			.attr('aria-hidden', 'true')
			.css("display","none");
	}


	subMenuLinks.keydown(function (e) {
		//Esc Key
		if (e.keyCode == 27) {
			elem = $(this).parent("li").parent("ul");
			if (elem.length > 0) {
				elem.siblings("a").attr("aria-expanded", "false");
				hideDropdownAccessibility(elem);
				elem.siblings("a").children("span").removeClass("icon-up").addClass("icon-dwn");
				elem.siblings("a").focus();
			}
		}

		if (e.keyCode == 9 && !e.shiftKey) {
			elem = $(this).parent("li").parent("ul");
			if (Object.is(document.activeElement, (elem.children("li:last-child").find("a")[0]))) {
				elem.siblings("a").attr("aria-expanded", "false");
				hideDropdownAccessibility(elem);
				elem.siblings("a").children("span").removeClass("icon-up").addClass("icon-dwn");
			}
		} else if (e.keyCode == 9 && e.shiftKey) {
			elem = $(this).parent("li").parent("ul");
			if (Object.is(document.activeElement, (elem.children("li:first-child").find("a")[0]))) {
				elem.siblings("a").attr("aria-expanded", "false");
				hideDropdownAccessibility(elem);
				elem.siblings("a").children("span").removeClass("icon-up").addClass("icon-dwn");
			}
		}
	});


	// show border on active tab on tab access
	var currentActiveSecNavTab = $(".mobile-nav-wrapper .container > ul > li.active").index();
	$(document).on("focus", ".mobile-nav-wrapper .container > ul > li > a", function () {
		$(this).parents("ul").find("> li").removeClass("active");
		$(this).parent().addClass("active");
	});

	//show border on current active tab if click outside sec nav
	$("body").on("click", function (e) {
		if (!$(e.target).is(sec_nav_cont)) {
			$(sec_nav_cont + " > ul > li > ul").hide();
			$(sec_nav_cont + " > ul > li").removeClass("active");
			$(sec_nav_cont + "> ul > li > ul").siblings("a").children("span").addClass("icon-dwn").removeClass("icon-up");
			if (currentActiveSecNavTab >= 0 && currentActiveSecNavTab != undefined) {
				$(sec_nav_cont + " > ul > li").eq(currentActiveSecNavTab).addClass("active");
			}
		}
	});


	//don't focus on headings in dropdown links
	var dd_links = " > ul > li > ul > li > a";
	$.each($(sec_nav_cont + dd_links), function (index, element) {
		var linkVal = $(element).attr("href");
		if (linkVal == undefined || linkVal == "javascript:void(0)") {
			$(element).removeAttr("href");
		}
	});

	//change default cursor on heading
	$(sec_nav_cont + dd_links).mouseover(function () {
		var linkVal = $(this).attr("href");
		if (linkVal == undefined || linkVal == "javascript:void(0)") {
			$(this).css("cursor", "default");
		}
	});

	//set maximum height of sec nav to make it scrollable
	function setSecNavDropdownMaxHeight() {
		var maxHeight = $(window).height() * 0.85;
		$(sec_nav_cont + " > ul").css("max-height", maxHeight + "px");
	}


    // Toggle the PSF on mobile
    $('#psf-gripper').on('tap click swipeleft swiperight', function() {
      //Ios transition hack fix
      if ($('#psf.open').length) {
          psfWidgetVisible = false;
          $('#psf').css('-webkit-transition', 'right 300ms ease-in-out');
          setTimeout(function() {
              $('#psf').removeAttr('style');
              //Restore position of PSF
              setPSFPosition();
          }, 300);
          $('#psf.open #psf-gripper .icon').removeClass('icon-rght').addClass('icon-lft');
      } else {
          $('#psf-gripper .icon').removeClass('icon-lft').addClass('icon-rght');
          //Restore position of PSF
          psfWidgetVisible = true;
          setPSFPosition();
      }
      $('#psf').toggleClass('open');
    });

    //3439 start: position psf according to steps bar presence 
    setPSFPosition();
    function setPSFPosition() {
        var pageIdentifier = $("#pageIdentifier").val();
        if ($(window).width() < 776) {
            if ($("#steps-bar").is(":visible")) {
                $("#psf").css("top", "53px");
            } else {
                $("#psf").css("top", "0px");
            }

            if (pageIdentifier == "multipleWarranty" || pageIdentifier == "multipleWarrantyResults") {
                if (psfWidgetVisible) {
                    $("#psf").css("right", "-41px");
                } else {
                    $("#psf").css("right", "-103%");
                }
            }
        } else {
            $("#psf").css("top", "72px");
            if (pageIdentifier == "multipleWarranty" || pageIdentifier == "multipleWarrantyResults") {
                $("#psf").css("right", "0px");
            }
        }
    }

    //position psf on window resize
    $(window).resize(function() {
        setPSFPosition();
    });

	//Mobile Tabs
    $('.hp-nav-tabs-bg a').on('tap click', function(e) {
      e.preventDefault();
      $('.tab-content').addClass('open');
    });

}); 
$(document).ready(function () {
  //secondary navigation text update mobile
  const navLinks = $('ul[role=menubar] a');
  const pageInfoMeta = $('head meta[name=pageinfo]');
  const uri = pageInfoMeta.data('uri');
  const cc = pageInfoMeta.data('cc');
  const lc = pageInfoMeta.data('lc');
  var linkFound = false;

  /**  repair microsite  **/
  if($("#btnContactHPSupport").length > 0){
    var linkContactHP = "/"+cc+"-"+lc+"/contact-hp";
    $("#btnContactHPSupport").attr("href", linkContactHP);
  }
  if($("#btnServiceCenter").length > 0){
    var linkServiceCenter = "/"+cc+"-"+lc+"/service-center";
    $("#btnServiceCenter").attr("href", linkServiceCenter);
  }

  $(navLinks).each(function(i) {
	const anchor = $(navLinks[i]);
	var href = anchor.attr('href');
	if(typeof href !== 'undefined' && (href.indexOf("/", 0) > -1) ){
		if(href.indexOf("?") != -1){
		href =  href.substring(0,href.indexOf("?"));
		}
		if(href === uri ){
			linkFound = true;
			$('.hp-section .nav-title').text(anchor.text()+" ");
            anchor.parents('li[role=menuitem]').children('a').attr('class','active');
		}
	}
  });

  if(!linkFound){
    const productsLinks = "/"+cc + "-" +lc+"/products";
    const productsLinkAnchor = $('ul[role=menubar] a[href="'+productsLinks+'"]')
    $('.hp-section .nav-title').text(productsLinkAnchor.text()+" ");
  }

  $(".hp-wcc-column-control").parent().addClass("container");

  $(".bg-container-blue").removeClass("container");

  $(".bg-container-grey").removeClass("container");

  $(".bg-container-default").removeClass("container");

  $(".hp-wcc-btn-computing, .hp-wcc-btn-printer").removeClass("button");

  $(".footer-banner").removeClass("container");

  $(".hp-wcc-title-header .cmp-title").addClass("container");

  /* Computing Page */
  $(".computing-header-btn .row .col-sm-6").first().addClass("btn1");
  $(".computing-header-btn .row .col-sm-6").last().addClass("btn2");

  $(".ordered-list-bios").parents().eq(2).addClass("ollistOne");
  $(".ollistOne").find("ol").attr("start", "3");
  $(".ordered-list-update-bios").find("ol").attr("start", "3");

  /*Fix Issue Page*/
  $(".bluetooth").attr("id", "bluetooth");
  $(".slow").attr("id", "slow");
  $(".sound").attr("id", "sound");
  $(".wireless").attr("id", "wireless");
  $(".bluescreen").attr("id", "bluescreen");
  $(".touchscreen").attr("id", "touchscreen");
  $(".battery").attr("id", "battery");
  $(".manage-login").attr("id", "manage-login");
  $(".sysrecovery").attr("id", "sysrecovery");
  $(".fixIssuesSleep").attr("id", "fixIssuesSleep");
  $(".known").attr("id", "knownLink");

  //hiding chatnow extra divs for Improvetab
  $(".improve-tab-remove-element").hide();

  /* Printer Section */
  $(".printer-header-btn .row .col-sm-6").first().addClass("btn1");
  $(".printer-header-btn .row .col-sm-6").last().addClass("btn2");
  $(".bg-container-blue").parent().removeClass("container");

  $(".printer-banner .sposCaption")
    .removeClass("sposCaption")
    .addClass("boxLAlign");
  $(".printer-banner .sposBtn").removeClass("sposBtn");
  $(".printer-banner .sposBanner").removeClass("sposBanner");

  $(".computing-banner .boxLAlign").removeClass("boxLAlign");
  $(".computing-banner .bannerBtn").removeClass("bannerBtn");
  $(".computing-banner .transparent").removeClass("transparent");

  /* Printer Section - connectivity Issue Tab */
  $(".chat-now-connectivity-issues .va-callout-two-col").removeClass(
    "va-callout-two-col"
  );

  if ($(".tabs-printer-layout ul li").length == 3) {
    $(".tabContainer").addClass("tablength3");
  }

  /* Same Page href navigation support-center-printing */
  $(".printer-compatibility-win10").attr("id", "printer-compatibility-win10");
  $(".download-latest-swd").attr("id", "download-latest-swd");
  $(".printers-manufactured-2010").attr("id", "printers-manufactured-2010");
  $(".printers-manufactured-2009").attr("id", "printers-manufactured-2009");
  $(".wireless-network-setup").attr("id", "wireless-network-setup");
  $(".wired-network-setup").attr("id", "wired-network-setup");
  $(".USB-setup").attr("id", "USB-setup");

  /* HP Account Page Starts */
  $(".acct").children().addClass("container");

  $(".account-box").find(".cmp-container").removeClass("container");

  $(".locate-all-acct-bene").children().addClass("acct-bene");

  $("#hpidCreatePersonalAcctBtnBottom").addClass(
    "create-acct-btn mktg-btn-primary acct-text"
  );

  $(".bg-container-dark-blue").removeClass("container");

  $(".personalized-dashboard").find(".paneSec").removeClass("paneSec");

  $(".hp-account-no-title").remove();
  /* HP Account Page Ends */

  /* Print & Scan Starts */
  $(".bg-container-dark-grey").removeClass("container");

  $(".bg-container-dark-grey").find(".row").addClass("container");

  $(".printMicrositeBox").find(".cmp-container").addClass("container");

  $(".printMicrositeBox").removeClass("container");

  $(".print-scan-header").find(".cmp-text").addClass("container");

  $(".print-scan-header").find(".cmp-text h2").addClass("printScanH2");

  $(".print-scan-download-section")
    .find(".cmp-container")
    .addClass("troubleshootingSection");

  $("#downloadBtn").parent().removeClass("button");

  $("#downloadModal").find(".modal-dialog").addClass("modal-sm");

  /* Is your printer currently offline */
  $("#yesBtn").click(function () {
    $("#firstModal").addClass("hidden");
    $("#secondModal").removeClass("hidden");

    setTimeout(function () {
      $("#downloadModal").modal("hide");
      var pageInfoMeta = $("head meta[name=pageinfo]");
      var cc = pageInfoMeta.data("cc");
      var lc = pageInfoMeta.data("lc");
      var localizedMicrositeLink =
        window.location.protocol +
        "//" +
        window.location.host +
        "/" +
        cc +
        "-" +
        lc +
        "/" +
        "help/printscandoctor-printing-problems" + '#printer-offline';
      window.location.href = localizedMicrositeLink;
    }, 8000);
  });

  $("#noBtn").click(function () {
    $("#downloadModal").modal("hide");
    $(".modal-backdrop").remove();
  });

  /* Download Modal Close */
  $(".close").click(function () {
    $("#downloadModal").hide();
    $(".modal-backdrop").addClass("hidden");
    $("#firstModal").removeClass("hidden");
    $("#secondModal").addClass("hidden");
  });

  $(".downloadLink").parent().attr("data-toggle", "modal");

  /* Accordian Click */
  $(".print-scan-accordion-main h3").click(function () {
    $(this).toggleClass("toggled");
  });

  $(".print-scan-ethernet-cable").parent().addClass("ethcabParentP");

  $(".print-scan-shortcut").find("ol").attr("start", "6");

  $("#printscandoctor").find(".paneSec").removeClass("paneSec");

  $(".print-scan-fix-printing").parent().addClass("fixPrintingContainer");

  $(".printer-offline").attr("id", "printer-offline");

  $(".printer-job-stuck").attr("id", "printer-job-stuck");

  $(".print-scan-bookmarks").attr("id", "print-scan-bookmarks");

  /* Print & Scan Ends */

  /* UATFIX */

  $("#issuesContent .cmp-container").removeClass("container");

  $(".additional-setup-install").attr("id", "additional-setup-install");

  $("#setupContent ")
    .find(".youtube-component .paneSec")
    .removeClass("paneSec");

  $('a[href^="#known"]').addClass("knownLink");
  $(".knownLink").click(function (event) {
    event.preventDefault();
    $(".tabContainer").removeClass("active");
    $("#fixContent").hide();
    $("#learnContent").show();
    $("#learnTab ").parent().addClass("active");
    $("#learnContent").addClass("active");
    document.location.hash = "knownLink";
  });

  $("#learnContent .bodyContainer .cmp-container").removeClass("container");
  $("#recoverContent .bodyContainer .cmp-container").removeClass("container");
  $("#improveContent .bodyContainer .cmp-container").removeClass("container");

  $(".tab-header-printer-section #micrositeWrapper").removeClass("container");
  $("#setupContent .bodyContainer .cmp-container").removeClass("container");
  $("#connectContent .bodyContainer .cmp-container").removeClass("container");

  $(".print-scan-fix-scanning").parent().removeClass("container");

  /*** Code for Responsive Win10 - Landing **/

  function reverseButton(x) {
    if (x.matches) {
      $(".landing-btn-container .col-sm-4").insertAfter(
        ".landing-btn-container .hp-wcc-rte"
      );
    } else {
      $(".landing-btn-container .col-sm-4").insertAfter(
        ".landing-btn-container .col-sm-8"
      );
    }
  }

  var x = window.matchMedia("(max-width: 768px)");
  reverseButton(x);
  x.addListener(reverseButton);

  $(window).on("resize", function (e) {
    checkScreenSize();
  });

  checkScreenSize();

  //Make menubar Sticky in iPad and Small Phones
  function checkScreenSize() {
    var newWindowWidth = $(window).width();
    if (newWindowWidth < 769) {
      $(window).scroll(function () {
        var newWindowWidth = $(window).width();
        if (newWindowWidth < 769) {
          var height = $(window).scrollTop();

          if (height > 100) {
            $(".micrositesecondarynavigation").addClass("makeSticky");
          } else {
            $(".micrositesecondarynavigation").removeClass("makeSticky");
          }
        } else {
          //desktop reso
          $(".micrositesecondarynavigation").removeClass("makeSticky");
        }
      });
    }

    //detaching sidealert from bottom and attaching to custom-dropdown
    if (newWindowWidth < 769) {
      $(".fixedWidgets").detach().appendTo(".ibmPortalControl");
    } else if (newWindowWidth > 769) {
      $(".fixedWidgets").detach().appendTo(".side-widget");
    }
  }

  /***  HP Accoutn Fix***/

  $(".locate-one-place").children().addClass("acct-bene");

  $(".printing-footer-banner").addClass("container");

  $(".printer-issues-sub-heading").addClass("hidden-lg");

  $("#howToUseTab_box .bodyContainer .cmp-container").removeClass("container");

  $(".fixPrintingContainer").removeClass("container");

   $("a.sposBannerPrinting").addClass("localize-url");

  updateLocalizeURL();
  getSPOSLocalizedLink();

  $(".print-scan-accordion-main .cmp-accordion div").addClass(
    "section expandable"
  );
  $(".print-scan-accordion-main .cmp-accordion div h2").addClass(
    "expandableHeading"
  );

  $(".computing-top-btn-box").addClass("container");

  $(".landing-btn-container").removeClass("container");

  $(".computing-top-btn-box").addClass("container");

  $("#hpidExistingAcctSignInBtn").addClass("mktg-btn-secondary");

  $(".computing-header-btn .hp-wcc-btn-computing button").attr(
    "tabindex",
    "-1"
  );

  $(".printer-header-btn .hp-wcc-btn-printer button").attr("tabindex", "-1");

  //Make Tab Focus to Content than footer for first time
  setTimeout(function () {
    $("#footer [tabindex]").removeAttr("tabindex");
  }, 3000);

  // Pause youtube video on tab change
  $('a[data-toggle="tab"]').on("shown.bs.tab", function (e) {
    if (window.cc == "cn") {
      $.each(videojs.players, function (p) {
        videojs(p).pause();
      });
    } else {
      var iframe = document.querySelector("iframe");
      if (iframe !== null) {
        var iframeSrc = iframe.src;
        var src = iframeSrc.replace("autoplay=1", "autoplay=0");
        iframe.src = src;
      }
    }
  });

  //Remove Outline on click accordian in printscandoctor
  $(".expandableHeading button").click(function () {
    $(this).css("outline-width", "0px");

    $(this).focus(function () {
      $(this).css("outline-width", "1px");
    });
  });


    //Remove Outline on click Child-accordian in printscandoctor
    $(".print-scan-inner-accordion button").click(function () {
        $(this).css("outline-width", "0px");
        $(this).focus(function () {
          $(this).css("outline-width", "1px");
        });
     });


   //PrintScanDr - FixPrinting
   $(".print-scan-fix-printing a").click(function () {
        event.stopPropagation();
        $(this).parents('ul').find('li a').removeClass('activelink');
        $(this).addClass('activelink');

   });

    //PrintScanDr - FixPrinting - removing active class
    $(document).on("click", function(e) {
        $(".print-scan-fix-printing a").removeClass('activelink');
    });


   //Hp-Account Text Reverse for Country Israel 
   if(lc == 'he' || lc == 'ar'){
       $('.mktg-hero p').addClass('reverseImg');
       $('.locate-all-acct-bene .row').addClass('reverseDiv');
       $('.locateAllImg img').addClass('reverseImg');
       $('.acct .container').addClass('reverseDiv');
       $('.locate-one-place .row').addClass('reverseDiv');
       $('.accessAcountAnywhere').addClass('reverseImg');
       $('.personalized-dashboard .row').addClass('reverseDiv');
       $('.acct-bottom-banner .container').addClass('reverseDiv');
       $('.countrySelector').addClass('cspullRight');
       $('.hp-locate-all div').addClass('coloumnReverse');
       $('.hp-locate-all div p').addClass('addExtraMargin');
       $('.locate-one-place .cmp-text').addClass('coloumnReverse');
       $('.locate-one-place .cmp-text h3').addClass('addExtraMargintop');
       $('.locate-all-acct-bene .cmp-text').addClass('coloumnReverse');
       $('.personalized-dashboard .cmp-text').addClass('coloumnReverse');
       $('.printerImg img').addClass('reverseImg');
       $('.many-uses-img img').addClass('reverseImg');
       $('.hp-account-footer-box img').addClass('reverseImg');
       $('.personalized-dashboard .youtube-component').addClass('reverseImg');
       $('.account-box .section-head h2').addClass('reverseDiv');
       $('.menuBarHead').addClass('menuReverse');
   }     





  /****** Doc ready End  ******/
});

function updateLocalizeURL() {
  const className = ".localize-url";
  const localizeAnchors = $(className);
  $(localizeAnchors).each(function (i) {
    const anchorTag = $(this);
    const pageInfoMeta = $("head meta[name=pageinfo]");
    const cc = pageInfoMeta.data("cc");
    const lc = pageInfoMeta.data("lc");
    var localizeAnchorDom = anchorTag.closest("a");
    var link = localizeAnchorDom.attr("href");
    var localizedMSLink;
    if (typeof link === "undefined") {
      localizeAnchorDom = $(this).children(":first");
      link = localizeAnchorDom.attr("href");
    }
    //for external HP links
    if (link.indexOf("https://") > -1 || link.indexOf("http://") > -1) {
      link = link.replace("/us/", "/" + lc + "/");
      link = link.replace("/en/", "/" + cc + "/");
      localizedMSLink = link;
    } else {
      link = link.replace("#", "");
      localizedMSLink = "/" + cc + "-" + lc + "/" + link;
    }

    localizeAnchorDom.attr("href", localizedMSLink);
  });
}

function getSPOSLocalizedLink() {
    var storeDomain ="";
	var storeName ="";
	var sposBannerType="";
	const pageInfoMeta = $('head meta[name=pageinfo]');
    const cc = pageInfoMeta.data('cc');
    const lc = pageInfoMeta.data('lc');

	switch (cc) {
		case "us":
			storeName = cc + "/" + lc;
			storeDomain ="store.hp.com";
			sposBannerType="slp/weekly-deals/top-deals?";
			break;

		case "ca":
			storeName ="CanadaStore";
			storeDomain ="store.hp.com";
			sposBannerType ="Merch/Offer.aspx?p=c-hp-canada-laptops-desktops-printers-deals&lang=en-CA&";
			break;

		case "gb":
			storeName ="UKStore";
			storeDomain ="store.hp.com";
			sposBannerType ="Merch/Offer.aspx?p=c-latest-laptop-offers&";
			break;

		case "au":
			storeDomain ="h20386.www2.hp.com";
			storeName ="AustraliaStore";
			sposBannerType ="Merch/offer.aspx?";
			break;

		case "es":
			storeName ="SpainStore";
			storeDomain ="store.hp.com";
			sposBannerType ="Merch/offer.aspx?p=c-ofertas-portatiles&";
			break;

		  case "nl":
			storeName ="NetherlandsStore";
			storeDomain ="store.hp.com";
			sposBannerType ="Merch/Offer.aspx?p=c-laptop-aanbiedingen&";
			break;

		  case "fr":
			storeName ="FranceStore";
			storeDomain ="store.hp.com";
			sposBannerType ="Merch/Offer.aspx?p=c-offres-pc-portables&";
			break;

		  case "de":
			storeName ="GermanyStore";
			storeDomain ="store.hp.com";
			sposBannerType ="Merch/Offer.aspx?p=top-angebote&";
			break;

		   case "jp":
			storeName ="directplus";
			storeDomain ="jp.ext.hp.com";
			sposBannerType ="personal/?";
			break;

		   case "cn":
			storeName ="www.hpstore.cn";
			storeDomain ="";
			sposBannerType ="?";
			break;

		  case "sg": case "my": case "id": case "th": case "in": case "hk": case "kr":
			storeName = cc + "-" + lc;
			storeDomain ="store.hp.com";
			sposBannerType ="default/promotion/offer?";
			break;
		}

		var SPOSLocalizedLink = window.location.protocol + "//" + storeDomain + "/" + storeName + "/" + sposBannerType + "jumpid=re_r11839_" + cc + "/" + lc + "/weekly-deals/win10microsite&utm_medium=HPWeb&utm_source=hpsupport&utm_campaign=weeklydeals&utm_content=win10microsite";
        $("#sposBannerWin10Click").attr("href",SPOSLocalizedLink);
}
/**  repair microsite  **/

const rcHost = getEnvrionmentRepairCenter();
const rsHost = "https://gncpgslbpro1.houston.hp.com/Cso_Status/CsoStatus.aspx";

function getEnvrionmentRepairCenter(){
    let recHost = "";
    let h = "";
    try{
        h = location.host;
    }catch(e){}

    if(/localhost/.test(h)){
        recHost = "https://support.hp.com";
    }else if (/uat/.test(h)){
        recHost = "https://uat.support.hp.com";
    }else{
        recHost = "https://support.hp.com";
    }
    return recHost;
}

function setRepairLinks(p){
    if($("#btnContactHPSupport").length > 0){
        var linkContactHP = rcHost + "/"+p[0]+"-"+p[1]+"/contact-hp";
        $("#btnContactHPSupport").attr("href", linkContactHP);
    }

    if($("#btnServiceCenter").length > 0){
        var linkServiceCenter = rcHost + "/"+p[0]+"-"+p[1]+"/service-center";
        $("#btnServiceCenter").attr("href", linkServiceCenter);
    }
}

function setTabComponentContentLinks(p){
    //these links are embedded in tabs bs tabs and so need to be set after tab is exposed and component content is rendered -- this is a hack
    if($("#lnkHpPcHardwareDiagSite").length > 0){
        var linkPCHardwareDiagSite = "https://www8.hp.com/"+p[0]+"/"+p[1]+"/campaigns/hpsupportassistant/pc-diags.html";
        $("#lnkHpPcHardwareDiagSite").attr("href", linkPCHardwareDiagSite);
    }

    if($("#btnPrintTs").length > 0){
        var linkDiagSitePrinting = rcHost + "/"+p[0]+"-"+p[1]+"/topic/diagnostics?category=printing";
        $("#btnPrintTs").attr("href", linkDiagSitePrinting);
    }

    if($("#btnPcTs").length > 0){
        var linkDiagSiteComputing = rcHost + "/"+p[0]+"-"+p[1]+"/topic/diagnostics?category=computing";
        $("#btnPcTs").attr("href", linkDiagSiteComputing);
    }

    if($("#btnCheckRepairStatus").length > 0){
        var linkCheckRepairStatus = rsHost + "?lc="+p[1] +"&cc="+p[0];
        $("#btnCheckRepairStatus").attr("href", linkCheckRepairStatus);
    }
}


$(document).ready(function () {
    const pageInfoMetaRepairCenter = $('head meta[name=pageinfo]');
    const ccRC = pageInfoMetaRepairCenter.data('cc');
    const lcRC = pageInfoMetaRepairCenter.data('lc');
    $('a[data-toggle="tab"]').on('shown.bs.tab', function () {
        setTabComponentContentLinks([ccRC,lcRC]);
    });
    setRepairLinks([ccRC,lcRC]);
});
$(document).ready(function () {
  $(".ordered-list-start-4").find("ol").attr("start", "4");
  $(".psf-header").find(".cmp-text").addClass("container");

  $(".psf-header").find(".cmp-text h2").addClass("psfh2");    
  $(".bottom-banner").find(".row").addClass("container");    
  $(".windowscontainer").find(".cmp-container").removeClass("container");
  $(".maccontainer").find(".cmp-container").removeClass("container");    
  $(".howToTilesContainer").removeClass("container");    
  $("#howToPrint .howToTiles").first().attr("id", "howToSection");
  $("#howToPrint .maccontainer .howToTiles").first().attr("id", "howToSectionMac");    
  $("#howToPrint .bottom-banner").attr("id", "troubleshootingSection");    

//youtube and apple links on how to scan page (both windows and mac)

		var YoutubeLinkWin = '';
		var YoutubeLinkMac = '';  
    	const pageInfoMeta = $("head meta[name=pageinfo]");    
      	var lc = pageInfoMeta.data("lc");
    	var cc = pageInfoMeta.data("cc");
    	var appleLink = 'https://itunes.apple.com/' +  cc + '/app/hp-easy-scan/id967004861';
		$('#appleLink').attr('href', appleLink);

		switch (lc){
			case 'ru':
			YoutubeLinkWin = 'http://youtu.be/EfI1z3EjqtQ';
			YoutubeLinkMac = 'http://youtu.be/Aa8_ZkJqcqE';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;

			case 'ko':
			YoutubeLinkWin = 'http://youtu.be/4alxh01GSms';
			YoutubeLinkMac = 'http://youtu.be/2Pe5wLPYe4o';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;

			case 'ja':
			YoutubeLinkWin = 'http://youtu.be/8N2UHKiHkP4';
			YoutubeLinkMac = 'http://youtu.be/jFKIA9v1ICg';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;

			case 'zh':
			YoutubeLinkWin = 'https://youtu.be/a-mH1vZDFwU';
			YoutubeLinkMac = 'https://youtu.be/BRAPbtEWwtA';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;

			case 'de':
			YoutubeLinkWin = 'https://youtu.be/-M35jQ0f6c4';
			YoutubeLinkMac = 'https://youtu.be/WEJS-4eqdUo';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;

			case 'es':
			YoutubeLinkWin = 'https://youtu.be/vwtIyOaftaQ';
			YoutubeLinkMac = 'https://youtu.be/eL6lCtZwgQw';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;

			case 'fr':
			YoutubeLinkWin = 'https://youtu.be/I9M26Q40vpc';
			YoutubeLinkMac = 'https://youtu.be/Fe6fy5mgSmg';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;

			case 'pt':
			YoutubeLinkWin = 'https://youtu.be/Bv5Zu6toy30';
			YoutubeLinkMac = 'https://youtu.be/CzKrFw7GUhg';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;    

			default:
			YoutubeLinkWin = 'https://www.youtube.com/watch?v=o5hzgGX_G2I&feature=youtu.be';
			YoutubeLinkMac = 'https://www.youtube.com/watch?v=4Epv1l4qCCo';
			$('#youtube_windows').attr('href', YoutubeLinkWin);
			$('#youtube_mac').attr('href', YoutubeLinkMac);
			break;		                
      	}
});    
